(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function s(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(d){if(d.ep)return;d.ep=!0;const f=s(d);fetch(d.href,f)}})();function wc(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function dv(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var l=o.default;if(typeof l=="function"){var s=function i(){return this instanceof i?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};s.prototype=l.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(i){var d=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(s,i,d.get?d:{enumerable:!0,get:function(){return o[i]}})}),s}var Qu={exports:{}},Qs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function fv(){if(Rm)return Qs;Rm=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function s(i,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var v in d)v!=="key"&&(f[v]=d[v])}else f=d;return d=f.ref,{$$typeof:o,type:i,key:h,ref:d!==void 0?d:null,props:f}}return Qs.Fragment=l,Qs.jsx=s,Qs.jsxs=s,Qs}var Om;function hv(){return Om||(Om=1,Qu.exports=fv()),Qu.exports}var c=hv(),Xu={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function mv(){if(km)return ue;km=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),j=Symbol.iterator;function A(_){return _===null||typeof _!="object"?null:(_=j&&_[j]||_["@@iterator"],typeof _=="function"?_:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,L={};function Y(_,U,X){this.props=_,this.context=U,this.refs=L,this.updater=X||T}Y.prototype.isReactComponent={},Y.prototype.setState=function(_,U){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,U,"setState")},Y.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function G(){}G.prototype=Y.prototype;function k(_,U,X){this.props=_,this.context=U,this.refs=L,this.updater=X||T}var Q=k.prototype=new G;Q.constructor=k,z(Q,Y.prototype),Q.isPureReactComponent=!0;var te=Array.isArray;function P(){}var ee={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function Ee(_,U,X){var I=X.ref;return{$$typeof:o,type:_,key:U,ref:I!==void 0?I:null,props:X}}function Je(_,U){return Ee(_.type,U,_.props)}function Ve(_){return typeof _=="object"&&_!==null&&_.$$typeof===o}function Ne(_){var U={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(X){return U[X]})}var tt=/\/+/g;function Ze(_,U){return typeof _=="object"&&_!==null&&_.key!=null?Ne(""+_.key):U.toString(36)}function at(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(P,P):(_.status="pending",_.then(function(U){_.status==="pending"&&(_.status="fulfilled",_.value=U)},function(U){_.status==="pending"&&(_.status="rejected",_.reason=U)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function M(_,U,X,I,V){var le=typeof _;(le==="undefined"||le==="boolean")&&(_=null);var W=!1;if(_===null)W=!0;else switch(le){case"bigint":case"string":case"number":W=!0;break;case"object":switch(_.$$typeof){case o:case l:W=!0;break;case b:return W=_._init,M(W(_._payload),U,X,I,V)}}if(W)return V=V(_),W=I===""?"."+Ze(_,0):I,te(V)?(X="",W!=null&&(X=W.replace(tt,"$&/")+"/"),M(V,U,X,"",function(Re){return Re})):V!=null&&(Ve(V)&&(V=Je(V,X+(V.key==null||_&&_.key===V.key?"":(""+V.key).replace(tt,"$&/")+"/")+W)),U.push(V)),1;W=0;var Oe=I===""?".":I+":";if(te(_))for(var je=0;je<_.length;je++)I=_[je],le=Oe+Ze(I,je),W+=M(I,U,X,le,V);else if(je=A(_),typeof je=="function")for(_=je.call(_),je=0;!(I=_.next()).done;)I=I.value,le=Oe+Ze(I,je++),W+=M(I,U,X,le,V);else if(le==="object"){if(typeof _.then=="function")return M(at(_),U,X,I,V);throw U=String(_),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return W}function F(_,U,X){if(_==null)return _;var I=[],V=0;return M(_,I,"","",function(le){return U.call(X,le,V++)}),I}function ne(_){if(_._status===-1){var U=_._result;U=U(),U.then(function(X){(_._status===0||_._status===-1)&&(_._status=1,_._result=X)},function(X){(_._status===0||_._status===-1)&&(_._status=2,_._result=X)}),_._status===-1&&(_._status=0,_._result=U)}if(_._status===1)return _._result.default;throw _._result}var pe=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},J={map:F,forEach:function(_,U,X){F(_,function(){U.apply(this,arguments)},X)},count:function(_){var U=0;return F(_,function(){U++}),U},toArray:function(_){return F(_,function(U){return U})||[]},only:function(_){if(!Ve(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return ue.Activity=x,ue.Children=J,ue.Component=Y,ue.Fragment=s,ue.Profiler=d,ue.PureComponent=k,ue.StrictMode=i,ue.Suspense=g,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,ue.__COMPILER_RUNTIME={__proto__:null,c:function(_){return ee.H.useMemoCache(_)}},ue.cache=function(_){return function(){return _.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(_,U,X){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var I=z({},_.props),V=_.key;if(U!=null)for(le in U.key!==void 0&&(V=""+U.key),U)!ge.call(U,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&U.ref===void 0||(I[le]=U[le]);var le=arguments.length-2;if(le===1)I.children=X;else if(1<le){for(var W=Array(le),Oe=0;Oe<le;Oe++)W[Oe]=arguments[Oe+2];I.children=W}return Ee(_.type,V,I)},ue.createContext=function(_){return _={$$typeof:h,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:f,_context:_},_},ue.createElement=function(_,U,X){var I,V={},le=null;if(U!=null)for(I in U.key!==void 0&&(le=""+U.key),U)ge.call(U,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(V[I]=U[I]);var W=arguments.length-2;if(W===1)V.children=X;else if(1<W){for(var Oe=Array(W),je=0;je<W;je++)Oe[je]=arguments[je+2];V.children=Oe}if(_&&_.defaultProps)for(I in W=_.defaultProps,W)V[I]===void 0&&(V[I]=W[I]);return Ee(_,le,V)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(_){return{$$typeof:v,render:_}},ue.isValidElement=Ve,ue.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:ne}},ue.memo=function(_,U){return{$$typeof:p,type:_,compare:U===void 0?null:U}},ue.startTransition=function(_){var U=ee.T,X={};ee.T=X;try{var I=_(),V=ee.S;V!==null&&V(X,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(P,pe)}catch(le){pe(le)}finally{U!==null&&X.types!==null&&(U.types=X.types),ee.T=U}},ue.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},ue.use=function(_){return ee.H.use(_)},ue.useActionState=function(_,U,X){return ee.H.useActionState(_,U,X)},ue.useCallback=function(_,U){return ee.H.useCallback(_,U)},ue.useContext=function(_){return ee.H.useContext(_)},ue.useDebugValue=function(){},ue.useDeferredValue=function(_,U){return ee.H.useDeferredValue(_,U)},ue.useEffect=function(_,U){return ee.H.useEffect(_,U)},ue.useEffectEvent=function(_){return ee.H.useEffectEvent(_)},ue.useId=function(){return ee.H.useId()},ue.useImperativeHandle=function(_,U,X){return ee.H.useImperativeHandle(_,U,X)},ue.useInsertionEffect=function(_,U){return ee.H.useInsertionEffect(_,U)},ue.useLayoutEffect=function(_,U){return ee.H.useLayoutEffect(_,U)},ue.useMemo=function(_,U){return ee.H.useMemo(_,U)},ue.useOptimistic=function(_,U){return ee.H.useOptimistic(_,U)},ue.useReducer=function(_,U,X){return ee.H.useReducer(_,U,X)},ue.useRef=function(_){return ee.H.useRef(_)},ue.useState=function(_){return ee.H.useState(_)},ue.useSyncExternalStore=function(_,U,X){return ee.H.useSyncExternalStore(_,U,X)},ue.useTransition=function(){return ee.H.useTransition()},ue.version="19.2.3",ue}var Dm;function _c(){return Dm||(Dm=1,Xu.exports=mv()),Xu.exports}var S=_c();const gv=wc(S);var Ku={exports:{}},Xs={},Ju={exports:{}},Zu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function pv(){return Um||(Um=1,(function(o){function l(M,F){var ne=M.length;M.push(F);e:for(;0<ne;){var pe=ne-1>>>1,J=M[pe];if(0<d(J,F))M[pe]=F,M[ne]=J,ne=pe;else break e}}function s(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var F=M[0],ne=M.pop();if(ne!==F){M[0]=ne;e:for(var pe=0,J=M.length,_=J>>>1;pe<_;){var U=2*(pe+1)-1,X=M[U],I=U+1,V=M[I];if(0>d(X,ne))I<J&&0>d(V,X)?(M[pe]=V,M[I]=ne,pe=I):(M[pe]=X,M[U]=ne,pe=U);else if(I<J&&0>d(V,ne))M[pe]=V,M[I]=ne,pe=I;else break e}}return F}function d(M,F){var ne=M.sortIndex-F.sortIndex;return ne!==0?ne:M.id-F.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var h=Date,v=h.now();o.unstable_now=function(){return h.now()-v}}var g=[],p=[],b=1,x=null,j=3,A=!1,T=!1,z=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function Q(M){for(var F=s(p);F!==null;){if(F.callback===null)i(p);else if(F.startTime<=M)i(p),F.sortIndex=F.expirationTime,l(g,F);else break;F=s(p)}}function te(M){if(z=!1,Q(M),!T)if(s(g)!==null)T=!0,P||(P=!0,Ne());else{var F=s(p);F!==null&&at(te,F.startTime-M)}}var P=!1,ee=-1,ge=5,Ee=-1;function Je(){return L?!0:!(o.unstable_now()-Ee<ge)}function Ve(){if(L=!1,P){var M=o.unstable_now();Ee=M;var F=!0;try{e:{T=!1,z&&(z=!1,G(ee),ee=-1),A=!0;var ne=j;try{t:{for(Q(M),x=s(g);x!==null&&!(x.expirationTime>M&&Je());){var pe=x.callback;if(typeof pe=="function"){x.callback=null,j=x.priorityLevel;var J=pe(x.expirationTime<=M);if(M=o.unstable_now(),typeof J=="function"){x.callback=J,Q(M),F=!0;break t}x===s(g)&&i(g),Q(M)}else i(g);x=s(g)}if(x!==null)F=!0;else{var _=s(p);_!==null&&at(te,_.startTime-M),F=!1}}break e}finally{x=null,j=ne,A=!1}F=void 0}}finally{F?Ne():P=!1}}}var Ne;if(typeof k=="function")Ne=function(){k(Ve)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,Ze=tt.port2;tt.port1.onmessage=Ve,Ne=function(){Ze.postMessage(null)}}else Ne=function(){Y(Ve,0)};function at(M,F){ee=Y(function(){M(o.unstable_now())},F)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(M){M.callback=null},o.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<M?Math.floor(1e3/M):5},o.unstable_getCurrentPriorityLevel=function(){return j},o.unstable_next=function(M){switch(j){case 1:case 2:case 3:var F=3;break;default:F=j}var ne=j;j=F;try{return M()}finally{j=ne}},o.unstable_requestPaint=function(){L=!0},o.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ne=j;j=M;try{return F()}finally{j=ne}},o.unstable_scheduleCallback=function(M,F,ne){var pe=o.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?pe+ne:pe):ne=pe,M){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ne+J,M={id:b++,callback:F,priorityLevel:M,startTime:ne,expirationTime:J,sortIndex:-1},ne>pe?(M.sortIndex=ne,l(p,M),s(g)===null&&M===s(p)&&(z?(G(ee),ee=-1):z=!0,at(te,ne-pe))):(M.sortIndex=J,l(g,M),T||A||(T=!0,P||(P=!0,Ne()))),M},o.unstable_shouldYield=Je,o.unstable_wrapCallback=function(M){var F=j;return function(){var ne=j;j=F;try{return M.apply(this,arguments)}finally{j=ne}}}})(Zu)),Zu}var zm;function vv(){return zm||(zm=1,Ju.exports=pv()),Ju.exports}var Fu={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function yv(){if(Mm)return Tt;Mm=1;var o=_c();function l(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(l(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(g,p,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:x==null?null:""+x,children:g,containerInfo:p,implementation:b}}var h=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tt.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(l(299));return f(g,p,null,b)},Tt.flushSync=function(g){var p=h.T,b=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=p,i.p=b,i.d.f()}},Tt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},Tt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Tt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,x=v(b,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:j,fetchPriority:A}):b==="script"&&i.d.X(g,{crossOrigin:x,integrity:j,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=v(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},Tt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,x=v(b,p.crossOrigin);i.d.L(g,b,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=v(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},Tt.requestFormReset=function(g){i.d.r(g)},Tt.unstable_batchedUpdates=function(g,p){return g(p)},Tt.useFormState=function(g,p,b){return h.H.useFormState(g,p,b)},Tt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Tt.version="19.2.3",Tt}var Lm;function bv(){if(Lm)return Fu.exports;Lm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),Fu.exports=yv(),Fu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function xv(){if(qm)return Xs;qm=1;var o=vv(),l=_c(),s=bv();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(i(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var u=r.alternate;if(u===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===a)return g(r),e;if(u===n)return g(r),t;u=u.sibling}throw Error(i(188))}if(a.return!==n.return)a=r,n=u;else{for(var m=!1,y=r.child;y;){if(y===a){m=!0,a=r,n=u;break}if(y===n){m=!0,n=r,a=u;break}y=y.sibling}if(!m){for(y=u.child;y;){if(y===a){m=!0,a=u,n=r;break}if(y===n){m=!0,n=u,a=r;break}y=y.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==n)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,j=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),k=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Ee=Symbol.for("react.activity"),Je=Symbol.for("react.memo_cache_sentinel"),Ve=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=Ve&&e[Ve]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function Ze(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case Y:return"Profiler";case L:return"StrictMode";case te:return"Suspense";case P:return"SuspenseList";case Ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case k:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:Ze(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return Ze(e(t))}catch{}}return null}var at=Array.isArray,M=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},pe=[],J=-1;function _(e){return{current:e}}function U(e){0>J||(e.current=pe[J],pe[J]=null,J--)}function X(e,t){J++,pe[J]=e.current,e.current=t}var I=_(null),V=_(null),le=_(null),W=_(null);function Oe(e,t){switch(X(le,t),X(V,e),X(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ih(t),e=em(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(I),X(I,e)}function je(){U(I),U(V),U(le)}function Re(e){e.memoizedState!==null&&X(W,e);var t=I.current,a=em(t,e.type);t!==a&&(X(V,e),X(I,a))}function $e(e){V.current===e&&(U(I),U(V)),W.current===e&&(U(W),$s._currentValue=ne)}var qt,Tn;function la(e){if(qt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);qt=t&&t[1]||"",Tn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qt+e+Tn}var ie=!1;function ce(e,t){if(!e||ie)return"";ie=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(D){var O=D}Reflect.construct(e,[],$)}else{try{$.call()}catch(D){O=D}e.call($.prototype)}}else{try{throw Error()}catch(D){O=D}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(D){if(D&&O&&typeof D.stack=="string")return[D.stack,O.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=n.DetermineComponentFrameRoot(),m=u[0],y=u[1];if(m&&y){var w=m.split(`
`),R=y.split(`
`);for(r=n=0;n<w.length&&!w[n].includes("DetermineComponentFrameRoot");)n++;for(;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;if(n===w.length||r===R.length)for(n=w.length-1,r=R.length-1;1<=n&&0<=r&&w[n]!==R[r];)r--;for(;1<=n&&0<=r;n--,r--)if(w[n]!==R[r]){if(n!==1||r!==1)do if(n--,r--,0>r||w[n]!==R[r]){var q=`
`+w[n].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=n&&0<=r);break}}}finally{ie=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?la(a):""}function ct(e,t){switch(e.tag){case 26:case 27:case 5:return la(e.type);case 16:return la("Lazy");case 13:return e.child!==t&&t!==null?la("Suspense Fallback"):la("Suspense");case 19:return la("SuspenseList");case 0:case 15:return ce(e.type,!1);case 11:return ce(e.type.render,!1);case 1:return ce(e.type,!0);case 31:return la("Activity");default:return""}}function At(e){try{var t="",a=null;do t+=ct(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var ma=Object.prototype.hasOwnProperty,Sa=o.unstable_scheduleCallback,ga=o.unstable_cancelCallback,dt=o.unstable_shouldYield,An=o.unstable_requestPaint,pt=o.unstable_now,sa=o.unstable_getCurrentPriorityLevel,ia=o.unstable_ImmediatePriority,Fe=o.unstable_UserBlockingPriority,Xt=o.unstable_NormalPriority,Cn=o.unstable_LowPriority,Za=o.unstable_IdlePriority,el=o.log,li=o.unstable_setDisableYieldValue,Fa=null,H=null;function Z(e){if(typeof el=="function"&&li(e),H&&typeof H.setStrictMode=="function")try{H.setStrictMode(Fa,e)}catch{}}var K=Math.clz32?Math.clz32:Pe,he=Math.log,_e=Math.LN2;function Pe(e){return e>>>=0,e===0?32:31-(he(e)/_e|0)|0}var nt=256,Be=262144,Qe=4194304;function We(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ft(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=n&134217727;return y!==0?(n=y&~u,n!==0?r=We(n):(m&=y,m!==0?r=We(m):a||(a=y&~e,a!==0&&(r=We(a))))):(y=n&~u,y!==0?r=We(y):m!==0?r=We(m):a||(a=n&~e,a!==0&&(r=We(a)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:r}function vt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Nt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var e=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),e}function Rn(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ja(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ke(e,t,a,n,r,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var q=31-K(a),$=1<<q;y[q]=0,w[q]=-1;var O=R[q];if(O!==null)for(R[q]=null,q=0;q<O.length;q++){var D=O[q];D!==null&&(D.lane&=-536870913)}a&=~$}n!==0&&pa(e,n,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function pa(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-K(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function zc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-K(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function Mc(e,t){var a=t&-t;return a=(a&42)!==0?1:Dr(a),(a&(e.suspendedLanes|t))!==0?0:a}function Dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ur(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lc(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Sm(e.type))}function qc(e,t){var a=F.p;try{return F.p=e,t()}finally{F.p=a}}var Pa=Math.random().toString(36).slice(2),wt="__reactFiber$"+Pa,Ot="__reactProps$"+Pa,tl="__reactContainer$"+Pa,zr="__reactEvents$"+Pa,eg="__reactListeners$"+Pa,tg="__reactHandles$"+Pa,Bc="__reactResources$"+Pa,as="__reactMarker$"+Pa;function Mr(e){delete e[wt],delete e[Ot],delete e[zr],delete e[eg],delete e[tg]}function al(e){var t=e[wt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[tl]||a[wt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=rm(e);e!==null;){if(a=e[wt])return a;e=rm(e)}return t}e=a,a=e.parentNode}return null}function nl(e){if(e=e[wt]||e[tl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ns(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function ll(e){var t=e[Bc];return t||(t=e[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function yt(e){e[as]=!0}var Hc=new Set,$c={};function On(e,t){sl(e,t),sl(e+"Capture",t)}function sl(e,t){for($c[e]=t,e=0;e<t.length;e++)Hc.add(t[e])}var ag=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gc={},Yc={};function ng(e){return ma.call(Yc,e)?!0:ma.call(Gc,e)?!1:ag.test(e)?Yc[e]=!0:(Gc[e]=!0,!1)}function si(e,t,a){if(ng(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ii(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ea(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lg(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lr(e){if(!e._valueTracker){var t=Vc(e)?"checked":"value";e._valueTracker=lg(e,t,""+e[t])}}function Qc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Vc(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sg=/[\n"\\]/g;function Zt(e){return e.replace(sg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qr(e,t,a,n,r,u,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Jt(t)):e.value!==""+Jt(t)&&(e.value=""+Jt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Br(e,m,Jt(t)):a!=null?Br(e,m,Jt(a)):n!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Jt(y):e.removeAttribute("name")}function Xc(e,t,a,n,r,u,m,y){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Lr(e);return}a=a!=null?""+Jt(a):"",t=t!=null?""+Jt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=y?e.checked:!!n,e.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Lr(e)}function Br(e,t,a){t==="number"&&ri(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function il(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Jt(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Kc(e,t,a){if(t!=null&&(t=""+Jt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Jt(a):""}function Jc(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(i(92));if(at(n)){if(1<n.length)throw Error(i(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Jt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Lr(e)}function rl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ig=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||ig.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Fc(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&Zc(e,r,n)}else for(var u in t)t.hasOwnProperty(u)&&Zc(e,u,t[u])}function Hr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),og=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(e){return og.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Na(){}var $r=null;function Gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,ul=null;function Pc(e){var t=nl(e);if(t&&(e=t.stateNode)){var a=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(qr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[Ot]||null;if(!r)throw Error(i(90));qr(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Qc(n)}break e;case"textarea":Kc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&il(e,!!a.multiple,t,!1)}}}var Yr=!1;function Wc(e,t,a){if(Yr)return e(t,a);Yr=!0;try{var n=e(t);return n}finally{if(Yr=!1,(ol!==null||ul!==null)&&(Zi(),ol&&(t=ol,e=ul,ul=ol=null,Pc(t),e)))for(t=0;t<e.length;t++)Pc(e[t])}}function ls(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Ot]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Ta)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Vr=!1}var Wa=null,Qr=null,ui=null;function Ic(){if(ui)return ui;var e,t=Qr,a=t.length,n,r="value"in Wa?Wa.value:Wa.textContent,u=r.length;for(e=0;e<a&&t[e]===r[e];e++);var m=a-e;for(n=1;n<=m&&t[a-n]===r[u-n];n++);return ui=r.slice(e,1<n?1-n:void 0)}function ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function ed(){return!1}function kt(e){function t(a,n,r,u,m){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?di:ed,this.isPropagationStopped=ed,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),t}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=kt(kn),is=x({},kn,{view:0,detail:0}),ug=kt(is),Xr,Kr,rs,hi=x({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(Xr=e.screenX-rs.screenX,Kr=e.screenY-rs.screenY):Kr=Xr=0,rs=e),Xr)},movementY:function(e){return"movementY"in e?e.movementY:Kr}}),td=kt(hi),cg=x({},hi,{dataTransfer:0}),dg=kt(cg),fg=x({},is,{relatedTarget:0}),Jr=kt(fg),hg=x({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),mg=kt(hg),gg=x({},kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pg=kt(gg),vg=x({},kn,{data:0}),ad=kt(vg),yg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xg[e])?!!t[e]:!1}function Zr(){return wg}var _g=x({},is,{key:function(e){if(e.key){var t=yg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(e){return e.type==="keypress"?ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sg=kt(_g),jg=x({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nd=kt(jg),Eg=x({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Ng=kt(Eg),Tg=x({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ag=kt(Tg),Cg=x({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rg=kt(Cg),Og=x({},kn,{newState:0,oldState:0}),kg=kt(Og),Dg=[9,13,27,32],Fr=Ta&&"CompositionEvent"in window,os=null;Ta&&"documentMode"in document&&(os=document.documentMode);var Ug=Ta&&"TextEvent"in window&&!os,ld=Ta&&(!Fr||os&&8<os&&11>=os),sd=" ",id=!1;function rd(e,t){switch(e){case"keyup":return Dg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function od(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cl=!1;function zg(e,t){switch(e){case"compositionend":return od(t);case"keypress":return t.which!==32?null:(id=!0,sd);case"textInput":return e=t.data,e===sd&&id?null:e;default:return null}}function Mg(e,t){if(cl)return e==="compositionend"||!Fr&&rd(e,t)?(e=Ic(),ui=Qr=Wa=null,cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ld&&t.locale!=="ko"?null:t.data;default:return null}}var Lg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lg[e.type]:t==="textarea"}function cd(e,t,a,n){ol?ul?ul.push(n):ul=[n]:ol=n,t=ar(t,"onChange"),0<t.length&&(a=new fi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var us=null,cs=null;function qg(e){Kh(e,0)}function mi(e){var t=ns(e);if(Qc(t))return e}function dd(e,t){if(e==="change")return t}var fd=!1;if(Ta){var Pr;if(Ta){var Wr="oninput"in document;if(!Wr){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),Wr=typeof hd.oninput=="function"}Pr=Wr}else Pr=!1;fd=Pr&&(!document.documentMode||9<document.documentMode)}function md(){us&&(us.detachEvent("onpropertychange",gd),cs=us=null)}function gd(e){if(e.propertyName==="value"&&mi(cs)){var t=[];cd(t,cs,e,Gr(e)),Wc(qg,t)}}function Bg(e,t,a){e==="focusin"?(md(),us=t,cs=a,us.attachEvent("onpropertychange",gd)):e==="focusout"&&md()}function Hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mi(cs)}function $g(e,t){if(e==="click")return mi(t)}function Gg(e,t){if(e==="input"||e==="change")return mi(t)}function Yg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Yg;function ds(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!ma.call(t,r)||!Bt(e[r],t[r]))return!1}return!0}function pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vd(e,t){var a=pd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pd(a)}}function yd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ri(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ri(e.document)}return t}function Ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Vg=Ta&&"documentMode"in document&&11>=document.documentMode,dl=null,eo=null,fs=null,to=!1;function xd(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;to||dl==null||dl!==ri(n)||(n=dl,"selectionStart"in n&&Ir(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fs&&ds(fs,n)||(fs=n,n=ar(eo,"onSelect"),0<n.length&&(t=new fi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=dl)))}function Dn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var fl={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionrun:Dn("Transition","TransitionRun"),transitionstart:Dn("Transition","TransitionStart"),transitioncancel:Dn("Transition","TransitionCancel"),transitionend:Dn("Transition","TransitionEnd")},ao={},wd={};Ta&&(wd=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Un(e){if(ao[e])return ao[e];if(!fl[e])return e;var t=fl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in wd)return ao[e]=t[a];return e}var _d=Un("animationend"),Sd=Un("animationiteration"),jd=Un("animationstart"),Qg=Un("transitionrun"),Xg=Un("transitionstart"),Kg=Un("transitioncancel"),Ed=Un("transitionend"),Nd=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function ra(e,t){Nd.set(e,t),On(t,[e])}var gi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],hl=0,lo=0;function pi(){for(var e=hl,t=lo=hl=0;t<e;){var a=Ft[t];Ft[t++]=null;var n=Ft[t];Ft[t++]=null;var r=Ft[t];Ft[t++]=null;var u=Ft[t];if(Ft[t++]=null,n!==null&&r!==null){var m=n.pending;m===null?r.next=r:(r.next=m.next,m.next=r),n.pending=r}u!==0&&Td(a,r,u)}}function vi(e,t,a,n){Ft[hl++]=e,Ft[hl++]=t,Ft[hl++]=a,Ft[hl++]=n,lo|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function so(e,t,a,n){return vi(e,t,a,n),yi(e)}function zn(e,t){return vi(e,null,null,t),yi(e)}function Td(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,u=e.return;u!==null;)u.childLanes|=a,n=u.alternate,n!==null&&(n.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-K(a),e=u.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),u):null}function yi(e){if(50<Us)throw Us=0,gu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ml={};function Jg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,a,n){return new Jg(e,t,a,n)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Aa(e,t){var a=e.alternate;return a===null?(a=Ht(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ad(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bi(e,t,a,n,r,u){var m=0;if(n=e,typeof e=="function")io(e)&&(m=1);else if(typeof e=="string")m=Ip(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ee:return e=Ht(31,a,t,r),e.elementType=Ee,e.lanes=u,e;case z:return Mn(a.children,r,u,t);case L:m=8,r|=24;break;case Y:return e=Ht(12,a,t,r|2),e.elementType=Y,e.lanes=u,e;case te:return e=Ht(13,a,t,r),e.elementType=te,e.lanes=u,e;case P:return e=Ht(19,a,t,r),e.elementType=P,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:m=10;break e;case G:m=9;break e;case Q:m=11;break e;case ee:m=14;break e;case ge:m=16,n=null;break e}m=29,a=Error(i(130,e===null?"null":typeof e,"")),n=null}return t=Ht(m,a,t,r),t.elementType=e,t.type=n,t.lanes=u,t}function Mn(e,t,a,n){return e=Ht(7,e,n,t),e.lanes=a,e}function ro(e,t,a){return e=Ht(6,e,null,t),e.lanes=a,e}function Cd(e){var t=Ht(18,null,null,0);return t.stateNode=e,t}function oo(e,t,a){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Rd=new WeakMap;function Pt(e,t){if(typeof e=="object"&&e!==null){var a=Rd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:At(t)},Rd.set(e,t),t)}return{value:e,source:t,stack:At(t)}}var gl=[],pl=0,xi=null,hs=0,Wt=[],It=0,Ia=null,va=1,ya="";function Ca(e,t){gl[pl++]=hs,gl[pl++]=xi,xi=e,hs=t}function Od(e,t,a){Wt[It++]=va,Wt[It++]=ya,Wt[It++]=Ia,Ia=e;var n=va;e=ya;var r=32-K(n)-1;n&=~(1<<r),a+=1;var u=32-K(t)+r;if(30<u){var m=r-r%5;u=(n&(1<<m)-1).toString(32),n>>=m,r-=m,va=1<<32-K(t)+r|a<<r|n,ya=u+e}else va=1<<u|a<<r|n,ya=e}function uo(e){e.return!==null&&(Ca(e,1),Od(e,1,0))}function co(e){for(;e===xi;)xi=gl[--pl],gl[pl]=null,hs=gl[--pl],gl[pl]=null;for(;e===Ia;)Ia=Wt[--It],Wt[It]=null,ya=Wt[--It],Wt[It]=null,va=Wt[--It],Wt[It]=null}function kd(e,t){Wt[It++]=va,Wt[It++]=ya,Wt[It++]=Ia,va=t.id,ya=t.overflow,Ia=e}var _t=null,Ge=null,Se=!1,en=null,ea=!1,fo=Error(i(519));function tn(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ms(Pt(t,e)),fo}function Dd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[wt]=e,t[Ot]=n,a){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(a=0;a<Ms.length;a++)ye(Ms[a],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),Xc(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),Jc(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Ph(t.textContent,a)?(n.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),n.onScroll!=null&&ye("scroll",t),n.onScrollEnd!=null&&ye("scrollend",t),n.onClick!=null&&(t.onclick=Na),t=!0):t=!1,t||tn(e,!0)}function Ud(e){for(_t=e.return;_t;)switch(_t.tag){case 5:case 31:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:_t=_t.return}}function vl(e){if(e!==_t)return!1;if(!Se)return Ud(e),Se=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ru(e.type,e.memoizedProps)),a=!a),a&&Ge&&tn(e),Ud(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=im(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=im(e)}else t===27?(t=Ge,pn(e.type)?(e=zu,zu=null,Ge=e):Ge=t):Ge=_t?aa(e.stateNode.nextSibling):null;return!0}function Ln(){Ge=_t=null,Se=!1}function ho(){var e=en;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),en=null),e}function ms(e){en===null?en=[e]:en.push(e)}var mo=_(null),qn=null,Ra=null;function an(e,t,a){X(mo,t._currentValue),t._currentValue=a}function Oa(e){e._currentValue=mo.current,U(mo)}function go(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function po(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var m=r.child;u=u.firstContext;e:for(;u!==null;){var y=u;u=r;for(var w=0;w<t.length;w++)if(y.context===t[w]){u.lanes|=a,y=u.alternate,y!==null&&(y.lanes|=a),go(u.return,a,e),n||(m=null);break e}u=y.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(i(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),go(m,a,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function yl(e,t,a,n){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var y=r.type;Bt(r.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(r===W.current){if(m=r.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push($s):e=[$s])}r=r.return}e!==null&&po(t,e,a,n),t.flags|=262144}function wi(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bn(e){qn=e,Ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return zd(qn,e)}function _i(e,t){return qn===null&&Bn(e),zd(e,t)}function zd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ra===null){if(e===null)throw Error(i(308));Ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ra=Ra.next=t;return a}var Zg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Fg=o.unstable_scheduleCallback,Pg=o.unstable_NormalPriority,it={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vo(){return{controller:new Zg,data:new Map,refCount:0}}function gs(e){e.refCount--,e.refCount===0&&Fg(Pg,function(){e.controller.abort()})}var ps=null,yo=0,bl=0,xl=null;function Wg(e,t){if(ps===null){var a=ps=[];yo=0,bl=wu(),xl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return yo++,t.then(Md,Md),t}function Md(){if(--yo===0&&ps!==null){xl!==null&&(xl.status="fulfilled");var e=ps;ps=null,bl=0,xl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ig(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var Ld=M.S;M.S=function(e,t){wh=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Wg(e,t),Ld!==null&&Ld(e,t)};var Hn=_(null);function bo(){var e=Hn.current;return e!==null?e:qe.pooledCache}function Si(e,t){t===null?X(Hn,Hn.current):X(Hn,t.pool)}function qd(){var e=bo();return e===null?null:{parent:it._currentValue,pool:e}}var wl=Error(i(460)),xo=Error(i(474)),ji=Error(i(542)),Ei={then:function(){}};function Bd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Na,Na),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gd(e),e;default:if(typeof t.status=="string")t.then(Na,Na);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gd(e),e}throw Gn=t,wl}}function $n(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gn=a,wl):a}}var Gn=null;function $d(){if(Gn===null)throw Error(i(459));var e=Gn;return Gn=null,e}function Gd(e){if(e===wl||e===ji)throw Error(i(483))}var _l=null,vs=0;function Ni(e){var t=vs;return vs+=1,_l===null&&(_l=[]),Hd(_l,e,t)}function ys(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ti(e,t){throw t.$$typeof===j?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yd(e){function t(N,E){if(e){var C=N.deletions;C===null?(N.deletions=[E],N.flags|=16):C.push(E)}}function a(N,E){if(!e)return null;for(;E!==null;)t(N,E),E=E.sibling;return null}function n(N){for(var E=new Map;N!==null;)N.key!==null?E.set(N.key,N):E.set(N.index,N),N=N.sibling;return E}function r(N,E){return N=Aa(N,E),N.index=0,N.sibling=null,N}function u(N,E,C){return N.index=C,e?(C=N.alternate,C!==null?(C=C.index,C<E?(N.flags|=67108866,E):C):(N.flags|=67108866,E)):(N.flags|=1048576,E)}function m(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function y(N,E,C,B){return E===null||E.tag!==6?(E=ro(C,N.mode,B),E.return=N,E):(E=r(E,C),E.return=N,E)}function w(N,E,C,B){var re=C.type;return re===z?q(N,E,C.props.children,B,C.key):E!==null&&(E.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ge&&$n(re)===E.type)?(E=r(E,C.props),ys(E,C),E.return=N,E):(E=bi(C.type,C.key,C.props,null,N.mode,B),ys(E,C),E.return=N,E)}function R(N,E,C,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=oo(C,N.mode,B),E.return=N,E):(E=r(E,C.children||[]),E.return=N,E)}function q(N,E,C,B,re){return E===null||E.tag!==7?(E=Mn(C,N.mode,B,re),E.return=N,E):(E=r(E,C),E.return=N,E)}function $(N,E,C){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=ro(""+E,N.mode,C),E.return=N,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case A:return C=bi(E.type,E.key,E.props,null,N.mode,C),ys(C,E),C.return=N,C;case T:return E=oo(E,N.mode,C),E.return=N,E;case ge:return E=$n(E),$(N,E,C)}if(at(E)||Ne(E))return E=Mn(E,N.mode,C,null),E.return=N,E;if(typeof E.then=="function")return $(N,Ni(E),C);if(E.$$typeof===k)return $(N,_i(N,E),C);Ti(N,E)}return null}function O(N,E,C,B){var re=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return re!==null?null:y(N,E,""+C,B);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case A:return C.key===re?w(N,E,C,B):null;case T:return C.key===re?R(N,E,C,B):null;case ge:return C=$n(C),O(N,E,C,B)}if(at(C)||Ne(C))return re!==null?null:q(N,E,C,B,null);if(typeof C.then=="function")return O(N,E,Ni(C),B);if(C.$$typeof===k)return O(N,E,_i(N,C),B);Ti(N,C)}return null}function D(N,E,C,B,re){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return N=N.get(C)||null,y(E,N,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return N=N.get(B.key===null?C:B.key)||null,w(E,N,B,re);case T:return N=N.get(B.key===null?C:B.key)||null,R(E,N,B,re);case ge:return B=$n(B),D(N,E,C,B,re)}if(at(B)||Ne(B))return N=N.get(C)||null,q(E,N,B,re,null);if(typeof B.then=="function")return D(N,E,C,Ni(B),re);if(B.$$typeof===k)return D(N,E,C,_i(E,B),re);Ti(E,B)}return null}function ae(N,E,C,B){for(var re=null,Te=null,se=E,me=E=0,we=null;se!==null&&me<C.length;me++){se.index>me?(we=se,se=null):we=se.sibling;var Ae=O(N,se,C[me],B);if(Ae===null){se===null&&(se=we);break}e&&se&&Ae.alternate===null&&t(N,se),E=u(Ae,E,me),Te===null?re=Ae:Te.sibling=Ae,Te=Ae,se=we}if(me===C.length)return a(N,se),Se&&Ca(N,me),re;if(se===null){for(;me<C.length;me++)se=$(N,C[me],B),se!==null&&(E=u(se,E,me),Te===null?re=se:Te.sibling=se,Te=se);return Se&&Ca(N,me),re}for(se=n(se);me<C.length;me++)we=D(se,N,me,C[me],B),we!==null&&(e&&we.alternate!==null&&se.delete(we.key===null?me:we.key),E=u(we,E,me),Te===null?re=we:Te.sibling=we,Te=we);return e&&se.forEach(function(wn){return t(N,wn)}),Se&&Ca(N,me),re}function oe(N,E,C,B){if(C==null)throw Error(i(151));for(var re=null,Te=null,se=E,me=E=0,we=null,Ae=C.next();se!==null&&!Ae.done;me++,Ae=C.next()){se.index>me?(we=se,se=null):we=se.sibling;var wn=O(N,se,Ae.value,B);if(wn===null){se===null&&(se=we);break}e&&se&&wn.alternate===null&&t(N,se),E=u(wn,E,me),Te===null?re=wn:Te.sibling=wn,Te=wn,se=we}if(Ae.done)return a(N,se),Se&&Ca(N,me),re;if(se===null){for(;!Ae.done;me++,Ae=C.next())Ae=$(N,Ae.value,B),Ae!==null&&(E=u(Ae,E,me),Te===null?re=Ae:Te.sibling=Ae,Te=Ae);return Se&&Ca(N,me),re}for(se=n(se);!Ae.done;me++,Ae=C.next())Ae=D(se,N,me,Ae.value,B),Ae!==null&&(e&&Ae.alternate!==null&&se.delete(Ae.key===null?me:Ae.key),E=u(Ae,E,me),Te===null?re=Ae:Te.sibling=Ae,Te=Ae);return e&&se.forEach(function(cv){return t(N,cv)}),Se&&Ca(N,me),re}function Le(N,E,C,B){if(typeof C=="object"&&C!==null&&C.type===z&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case A:e:{for(var re=C.key;E!==null;){if(E.key===re){if(re=C.type,re===z){if(E.tag===7){a(N,E.sibling),B=r(E,C.props.children),B.return=N,N=B;break e}}else if(E.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ge&&$n(re)===E.type){a(N,E.sibling),B=r(E,C.props),ys(B,C),B.return=N,N=B;break e}a(N,E);break}else t(N,E);E=E.sibling}C.type===z?(B=Mn(C.props.children,N.mode,B,C.key),B.return=N,N=B):(B=bi(C.type,C.key,C.props,null,N.mode,B),ys(B,C),B.return=N,N=B)}return m(N);case T:e:{for(re=C.key;E!==null;){if(E.key===re)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){a(N,E.sibling),B=r(E,C.children||[]),B.return=N,N=B;break e}else{a(N,E);break}else t(N,E);E=E.sibling}B=oo(C,N.mode,B),B.return=N,N=B}return m(N);case ge:return C=$n(C),Le(N,E,C,B)}if(at(C))return ae(N,E,C,B);if(Ne(C)){if(re=Ne(C),typeof re!="function")throw Error(i(150));return C=re.call(C),oe(N,E,C,B)}if(typeof C.then=="function")return Le(N,E,Ni(C),B);if(C.$$typeof===k)return Le(N,E,_i(N,C),B);Ti(N,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,E!==null&&E.tag===6?(a(N,E.sibling),B=r(E,C),B.return=N,N=B):(a(N,E),B=ro(C,N.mode,B),B.return=N,N=B),m(N)):a(N,E)}return function(N,E,C,B){try{vs=0;var re=Le(N,E,C,B);return _l=null,re}catch(se){if(se===wl||se===ji)throw se;var Te=Ht(29,se,null,N.mode);return Te.lanes=B,Te.return=N,Te}finally{}}}var Yn=Yd(!0),Vd=Yd(!1),nn=!1;function wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ln(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sn(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ce&2)!==0){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=yi(e),Td(e,null,a),t}return vi(e,n,t,a),yi(e)}function bs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,zc(e,a)}}function So(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?r=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?r=u=t:u=u.next=t}else r=u=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var jo=!1;function xs(){if(jo){var e=xl;if(e!==null)throw e}}function ws(e,t,a,n){jo=!1;var r=e.updateQueue;nn=!1;var u=r.firstBaseUpdate,m=r.lastBaseUpdate,y=r.shared.pending;if(y!==null){r.shared.pending=null;var w=y,R=w.next;w.next=null,m===null?u=R:m.next=R,m=w;var q=e.alternate;q!==null&&(q=q.updateQueue,y=q.lastBaseUpdate,y!==m&&(y===null?q.firstBaseUpdate=R:y.next=R,q.lastBaseUpdate=w))}if(u!==null){var $=r.baseState;m=0,q=R=w=null,y=u;do{var O=y.lane&-536870913,D=O!==y.lane;if(D?(xe&O)===O:(n&O)===O){O!==0&&O===bl&&(jo=!0),q!==null&&(q=q.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ae=e,oe=y;O=t;var Le=a;switch(oe.tag){case 1:if(ae=oe.payload,typeof ae=="function"){$=ae.call(Le,$,O);break e}$=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=oe.payload,O=typeof ae=="function"?ae.call(Le,$,O):ae,O==null)break e;$=x({},$,O);break e;case 2:nn=!0}}O=y.callback,O!==null&&(e.flags|=64,D&&(e.flags|=8192),D=r.callbacks,D===null?r.callbacks=[O]:D.push(O))}else D={lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},q===null?(R=q=D,w=$):q=q.next=D,m|=O;if(y=y.next,y===null){if(y=r.shared.pending,y===null)break;D=y,y=D.next,D.next=null,r.lastBaseUpdate=D,r.shared.pending=null}}while(!0);q===null&&(w=$),r.baseState=w,r.firstBaseUpdate=R,r.lastBaseUpdate=q,u===null&&(r.shared.lanes=0),dn|=m,e.lanes=m,e.memoizedState=$}}function Qd(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Xd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Qd(a[e],t)}var Sl=_(null),Ai=_(0);function Kd(e,t){e=Ha,X(Ai,e),X(Sl,t),Ha=e|t.baseLanes}function Eo(){X(Ai,Ha),X(Sl,Sl.current)}function No(){Ha=Ai.current,U(Sl),U(Ai)}var $t=_(null),ta=null;function rn(e){var t=e.alternate;X(lt,lt.current&1),X($t,e),ta===null&&(t===null||Sl.current!==null||t.memoizedState!==null)&&(ta=e)}function To(e){X(lt,lt.current),X($t,e),ta===null&&(ta=e)}function Jd(e){e.tag===22?(X(lt,lt.current),X($t,e),ta===null&&(ta=e)):on()}function on(){X(lt,lt.current),X($t,$t.current)}function Gt(e){U($t),ta===e&&(ta=null),U(lt)}var lt=_(0);function Ci(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Du(a)||Uu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=0,de=null,ze=null,rt=null,Ri=!1,jl=!1,Vn=!1,Oi=0,_s=0,El=null,ep=0;function Ie(){throw Error(i(321))}function Ao(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Bt(e[a],t[a]))return!1;return!0}function Co(e,t,a,n,r,u){return ka=u,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?kf:Vo,Vn=!1,u=a(n,r),Vn=!1,jl&&(u=Fd(t,a,n,r)),Zd(e),u}function Zd(e){M.H=Es;var t=ze!==null&&ze.next!==null;if(ka=0,rt=ze=de=null,Ri=!1,_s=0,El=null,t)throw Error(i(300));e===null||ot||(e=e.dependencies,e!==null&&wi(e)&&(ot=!0))}function Fd(e,t,a,n){de=e;var r=0;do{if(jl&&(El=null),_s=0,jl=!1,25<=r)throw Error(i(301));if(r+=1,rt=ze=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}M.H=Df,u=t(a,n)}while(jl);return u}function tp(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Ss(t):t,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(de.flags|=1024),t}function Ro(){var e=Oi!==0;return Oi=0,e}function Oo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function ko(e){if(Ri){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ri=!1}ka=0,rt=ze=de=null,jl=!1,_s=Oi=0,El=null}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?de.memoizedState=rt=e:rt=rt.next=e,rt}function st(){if(ze===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=rt===null?de.memoizedState:rt.next;if(t!==null)rt=t,ze=e;else{if(e===null)throw de.alternate===null?Error(i(467)):Error(i(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},rt===null?de.memoizedState=rt=e:rt=rt.next=e}return rt}function ki(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ss(e){var t=_s;return _s+=1,El===null&&(El=[]),e=Hd(El,e,t),t=de,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?kf:Vo),e}function Di(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ss(e);if(e.$$typeof===k)return St(e)}throw Error(i(438,String(e)))}function Do(e){var t=null,a=de.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=de.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ki(),de.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Je;return t.index++,a}function Da(e,t){return typeof t=="function"?t(e):t}function Ui(e){var t=st();return Uo(t,ze,e)}function Uo(e,t,a){var n=e.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=a;var r=e.baseQueue,u=n.pending;if(u!==null){if(r!==null){var m=r.next;r.next=u.next,u.next=m}t.baseQueue=r=u,n.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var y=m=null,w=null,R=t,q=!1;do{var $=R.lane&-536870913;if($!==R.lane?(xe&$)===$:(ka&$)===$){var O=R.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),$===bl&&(q=!0);else if((ka&O)===O){R=R.next,O===bl&&(q=!0);continue}else $={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(y=w=$,m=u):w=w.next=$,de.lanes|=O,dn|=O;$=R.action,Vn&&a(u,$),u=R.hasEagerState?R.eagerState:a(u,$)}else O={lane:$,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(y=w=O,m=u):w=w.next=O,de.lanes|=$,dn|=$;R=R.next}while(R!==null&&R!==t);if(w===null?m=u:w.next=y,!Bt(u,e.memoizedState)&&(ot=!0,q&&(a=xl,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=w,n.lastRenderedState=u}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function zo(e){var t=st(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,u=t.memoizedState;if(r!==null){a.pending=null;var m=r=r.next;do u=e(u,m.action),m=m.next;while(m!==r);Bt(u,t.memoizedState)||(ot=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,n]}function Pd(e,t,a){var n=de,r=st(),u=Se;if(u){if(a===void 0)throw Error(i(407));a=a()}else a=t();var m=!Bt((ze||r).memoizedState,a);if(m&&(r.memoizedState=a,ot=!0),r=r.queue,qo(ef.bind(null,n,r,e),[e]),r.getSnapshot!==t||m||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Nl(9,{destroy:void 0},Id.bind(null,n,r,a,t),null),qe===null)throw Error(i(349));u||(ka&127)!==0||Wd(n,t,a)}return a}function Wd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=de.updateQueue,t===null?(t=ki(),de.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Id(e,t,a,n){t.value=a,t.getSnapshot=n,tf(t)&&af(e)}function ef(e,t,a){return a(function(){tf(t)&&af(e)})}function tf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Bt(e,a)}catch{return!0}}function af(e){var t=zn(e,2);t!==null&&Lt(t,e,2)}function Mo(e){var t=Ct();if(typeof e=="function"){var a=e;if(e=a(),Vn){Z(!0);try{a()}finally{Z(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:e},t}function nf(e,t,a,n){return e.baseState=a,Uo(e,ze,typeof n=="function"?n:Da)}function ap(e,t,a,n,r){if(Li(e))throw Error(i(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};M.T!==null?a(!0):u.isTransition=!1,n(u),a=t.pending,a===null?(u.next=t.pending=u,lf(t,u)):(u.next=a.next,t.pending=a.next=u)}}function lf(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var u=M.T,m={};M.T=m;try{var y=a(r,n),w=M.S;w!==null&&w(m,y),sf(e,t,y)}catch(R){Lo(e,t,R)}finally{u!==null&&m.types!==null&&(u.types=m.types),M.T=u}}else try{u=a(r,n),sf(e,t,u)}catch(R){Lo(e,t,R)}}function sf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){rf(e,t,n)},function(n){return Lo(e,t,n)}):rf(e,t,a)}function rf(e,t,a){t.status="fulfilled",t.value=a,of(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,lf(e,a)))}function Lo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,of(t),t=t.next;while(t!==n)}e.action=null}function of(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function uf(e,t){return t}function cf(e,t){if(Se){var a=qe.formState;if(a!==null){e:{var n=de;if(Se){if(Ge){t:{for(var r=Ge,u=ea;r.nodeType!==8;){if(!u){r=null;break t}if(r=aa(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){Ge=aa(r.nextSibling),n=r.data==="F!";break e}}tn(n)}n=!1}n&&(t=a[0])}}return a=Ct(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:t},a.queue=n,a=Cf.bind(null,de,n),n.dispatch=a,n=Mo(!1),u=Yo.bind(null,de,!1,n.queue),n=Ct(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=ap.bind(null,de,r,u,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function df(e){var t=st();return ff(t,ze,e)}function ff(e,t,a){if(t=Uo(e,t,uf)[0],e=Ui(Da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Ss(t)}catch(m){throw m===wl?ji:m}else n=t;t=st();var r=t.queue,u=r.dispatch;return a!==t.memoizedState&&(de.flags|=2048,Nl(9,{destroy:void 0},np.bind(null,r,a),null)),[n,u,e]}function np(e,t){e.action=t}function hf(e){var t=st(),a=ze;if(a!==null)return ff(t,a,e);st(),t=t.memoizedState,a=st();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Nl(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=de.updateQueue,t===null&&(t=ki(),de.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function mf(){return st().memoizedState}function zi(e,t,a,n){var r=Ct();de.flags|=e,r.memoizedState=Nl(1|t,{destroy:void 0},a,n===void 0?null:n)}function Mi(e,t,a,n){var r=st();n=n===void 0?null:n;var u=r.memoizedState.inst;ze!==null&&n!==null&&Ao(n,ze.memoizedState.deps)?r.memoizedState=Nl(t,u,a,n):(de.flags|=e,r.memoizedState=Nl(1|t,u,a,n))}function gf(e,t){zi(8390656,8,e,t)}function qo(e,t){Mi(2048,8,e,t)}function lp(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=ki(),de.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function pf(e){var t=st().memoizedState;return lp({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function vf(e,t){return Mi(4,2,e,t)}function yf(e,t){return Mi(4,4,e,t)}function bf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xf(e,t,a){a=a!=null?a.concat([e]):null,Mi(4,4,bf.bind(null,t,e),a)}function Bo(){}function wf(e,t){var a=st();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Ao(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function _f(e,t){var a=st();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Ao(t,n[1]))return n[0];if(n=e(),Vn){Z(!0);try{e()}finally{Z(!1)}}return a.memoizedState=[n,t],n}function Ho(e,t,a){return a===void 0||(ka&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Sh(),de.lanes|=e,dn|=e,a)}function Sf(e,t,a,n){return Bt(a,t)?a:Sl.current!==null?(e=Ho(e,a,n),Bt(e,t)||(ot=!0),e):(ka&42)===0||(ka&1073741824)!==0&&(xe&261930)===0?(ot=!0,e.memoizedState=a):(e=Sh(),de.lanes|=e,dn|=e,t)}function jf(e,t,a,n,r){var u=F.p;F.p=u!==0&&8>u?u:8;var m=M.T,y={};M.T=y,Yo(e,!1,t,a);try{var w=r(),R=M.S;if(R!==null&&R(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=Ig(w,n);js(e,t,q,Qt(e))}else js(e,t,n,Qt(e))}catch($){js(e,t,{then:function(){},status:"rejected",reason:$},Qt())}finally{F.p=u,m!==null&&y.types!==null&&(m.types=y.types),M.T=m}}function sp(){}function $o(e,t,a,n){if(e.tag!==5)throw Error(i(476));var r=Ef(e).queue;jf(e,r,t,ne,a===null?sp:function(){return Nf(e),a(n)})}function Ef(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Nf(e){var t=Ef(e);t.next===null&&(t=e.alternate.memoizedState),js(e,t.next.queue,{},Qt())}function Go(){return St($s)}function Tf(){return st().memoizedState}function Af(){return st().memoizedState}function ip(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Qt();e=ln(a);var n=sn(t,e,a);n!==null&&(Lt(n,t,a),bs(n,t,a)),t={cache:vo()},e.payload=t;return}t=t.return}}function rp(e,t,a){var n=Qt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Li(e)?Rf(t,a):(a=so(e,t,a,n),a!==null&&(Lt(a,e,n),Of(a,t,n)))}function Cf(e,t,a){var n=Qt();js(e,t,a,n)}function js(e,t,a,n){var r={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Li(e))Rf(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,y=u(m,a);if(r.hasEagerState=!0,r.eagerState=y,Bt(y,m))return vi(e,t,r,0),qe===null&&pi(),!1}catch{}finally{}if(a=so(e,t,r,n),a!==null)return Lt(a,e,n),Of(a,t,n),!0}return!1}function Yo(e,t,a,n){if(n={lane:2,revertLane:wu(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Li(e)){if(t)throw Error(i(479))}else t=so(e,a,n,2),t!==null&&Lt(t,e,2)}function Li(e){var t=e.alternate;return e===de||t!==null&&t===de}function Rf(e,t){jl=Ri=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Of(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,zc(e,a)}}var Es={readContext:St,use:Di,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};Es.useEffectEvent=Ie;var kf={readContext:St,use:Di,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:gf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,zi(4194308,4,bf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){zi(4,2,e,t)},useMemo:function(e,t){var a=Ct();t=t===void 0?null:t;var n=e();if(Vn){Z(!0);try{e()}finally{Z(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ct();if(a!==void 0){var r=a(t);if(Vn){Z(!0);try{a(t)}finally{Z(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=rp.bind(null,de,e),[n.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:function(e){e=Mo(e);var t=e.queue,a=Cf.bind(null,de,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Bo,useDeferredValue:function(e,t){var a=Ct();return Ho(a,e,t)},useTransition:function(){var e=Mo(!1);return e=jf.bind(null,de,e.queue,!0,!1),Ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=de,r=Ct();if(Se){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),qe===null)throw Error(i(349));(xe&127)!==0||Wd(n,t,a)}r.memoizedState=a;var u={value:a,getSnapshot:t};return r.queue=u,gf(ef.bind(null,n,u,e),[e]),n.flags|=2048,Nl(9,{destroy:void 0},Id.bind(null,n,u,a,t),null),a},useId:function(){var e=Ct(),t=qe.identifierPrefix;if(Se){var a=ya,n=va;a=(n&~(1<<32-K(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Oi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=ep++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Go,useFormState:cf,useActionState:cf,useOptimistic:function(e){var t=Ct();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Yo.bind(null,de,!0,a),a.dispatch=t,[e,t]},useMemoCache:Do,useCacheRefresh:function(){return Ct().memoizedState=ip.bind(null,de)},useEffectEvent:function(e){var t=Ct(),a={impl:e};return t.memoizedState=a,function(){if((Ce&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Vo={readContext:St,use:Di,useCallback:wf,useContext:St,useEffect:qo,useImperativeHandle:xf,useInsertionEffect:vf,useLayoutEffect:yf,useMemo:_f,useReducer:Ui,useRef:mf,useState:function(){return Ui(Da)},useDebugValue:Bo,useDeferredValue:function(e,t){var a=st();return Sf(a,ze.memoizedState,e,t)},useTransition:function(){var e=Ui(Da)[0],t=st().memoizedState;return[typeof e=="boolean"?e:Ss(e),t]},useSyncExternalStore:Pd,useId:Tf,useHostTransitionStatus:Go,useFormState:df,useActionState:df,useOptimistic:function(e,t){var a=st();return nf(a,ze,e,t)},useMemoCache:Do,useCacheRefresh:Af};Vo.useEffectEvent=pf;var Df={readContext:St,use:Di,useCallback:wf,useContext:St,useEffect:qo,useImperativeHandle:xf,useInsertionEffect:vf,useLayoutEffect:yf,useMemo:_f,useReducer:zo,useRef:mf,useState:function(){return zo(Da)},useDebugValue:Bo,useDeferredValue:function(e,t){var a=st();return ze===null?Ho(a,e,t):Sf(a,ze.memoizedState,e,t)},useTransition:function(){var e=zo(Da)[0],t=st().memoizedState;return[typeof e=="boolean"?e:Ss(e),t]},useSyncExternalStore:Pd,useId:Tf,useHostTransitionStatus:Go,useFormState:hf,useActionState:hf,useOptimistic:function(e,t){var a=st();return ze!==null?nf(a,ze,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Do,useCacheRefresh:Af};Df.useEffectEvent=pf;function Qo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Qt(),r=ln(n);r.payload=t,a!=null&&(r.callback=a),t=sn(e,r,n),t!==null&&(Lt(t,e,n),bs(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Qt(),r=ln(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=sn(e,r,n),t!==null&&(Lt(t,e,n),bs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Qt(),n=ln(a);n.tag=2,t!=null&&(n.callback=t),t=sn(e,n,a),t!==null&&(Lt(t,e,a),bs(t,e,a))}};function Uf(e,t,a,n,r,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,u,m):t.prototype&&t.prototype.isPureReactComponent?!ds(a,n)||!ds(r,u):!0}function zf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Xo.enqueueReplaceState(t,t.state,null)}function Qn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}function Mf(e){gi(e)}function Lf(e){console.error(e)}function qf(e){gi(e)}function qi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Bf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ko(e,t,a){return a=ln(a),a.tag=3,a.payload={element:null},a.callback=function(){qi(e,t)},a}function Hf(e){return e=ln(e),e.tag=3,e}function $f(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var u=n.value;e.payload=function(){return r(u)},e.callback=function(){Bf(t,a,n)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Bf(t,a,n),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})})}function op(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&yl(t,a,r,!0),a=$t.current,a!==null){switch(a.tag){case 31:case 13:return ta===null?Fi():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===Ei?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),yu(e,n,r)),!1;case 22:return a.flags|=65536,n===Ei?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),yu(e,n,r)),!1}throw Error(i(435,a.tag))}return yu(e,n,r),Fi(),!1}if(Se)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==fo&&(e=Error(i(422),{cause:n}),ms(Pt(e,a)))):(n!==fo&&(t=Error(i(423),{cause:n}),ms(Pt(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=Pt(n,a),r=Ko(e.stateNode,n,r),So(e,r),et!==4&&(et=2)),!1;var u=Error(i(520),{cause:n});if(u=Pt(u,a),Ds===null?Ds=[u]:Ds.push(u),et!==4&&(et=2),t===null)return!0;n=Pt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=Ko(a.stateNode,n,e),So(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(fn===null||!fn.has(u))))return a.flags|=65536,r&=-r,a.lanes|=r,r=Hf(r),$f(r,e,a,n),So(a,r),!1}a=a.return}while(a!==null);return!1}var Jo=Error(i(461)),ot=!1;function jt(e,t,a,n){t.child=e===null?Vd(t,null,a,n):Yn(t,e.child,a,n)}function Gf(e,t,a,n,r){a=a.render;var u=t.ref;if("ref"in n){var m={};for(var y in n)y!=="ref"&&(m[y]=n[y])}else m=n;return Bn(t),n=Co(e,t,a,m,u,r),y=Ro(),e!==null&&!ot?(Oo(e,t,r),Ua(e,t,r)):(Se&&y&&uo(t),t.flags|=1,jt(e,t,n,r),t.child)}function Yf(e,t,a,n,r){if(e===null){var u=a.type;return typeof u=="function"&&!io(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Vf(e,t,u,n,r)):(e=bi(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!au(e,r)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:ds,a(m,n)&&e.ref===t.ref)return Ua(e,t,r)}return t.flags|=1,e=Aa(u,n),e.ref=t.ref,e.return=t,t.child=e}function Vf(e,t,a,n,r){if(e!==null){var u=e.memoizedProps;if(ds(u,n)&&e.ref===t.ref)if(ot=!1,t.pendingProps=n=u,au(e,r))(e.flags&131072)!==0&&(ot=!0);else return t.lanes=e.lanes,Ua(e,t,r)}return Zo(e,t,a,n,r)}function Qf(e,t,a,n){var r=n.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;n=r&~u}else n=0,t.child=null;return Xf(e,t,u,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Si(t,u!==null?u.cachePool:null),u!==null?Kd(t,u):Eo(),Jd(t);else return n=t.lanes=536870912,Xf(e,t,u!==null?u.baseLanes|a:a,a,n)}else u!==null?(Si(t,u.cachePool),Kd(t,u),on(),t.memoizedState=null):(e!==null&&Si(t,null),Eo(),on());return jt(e,t,r,a),t.child}function Ns(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xf(e,t,a,n,r){var u=bo();return u=u===null?null:{parent:it._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Si(t,null),Eo(),Jd(t),e!==null&&yl(e,t,n,!0),t.childLanes=r,null}function Bi(e,t){return t=$i({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Kf(e,t,a){return Yn(t,e.child,null,a),e=Bi(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function up(e,t,a){var n=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(n.mode==="hidden")return e=Bi(t,n),t.lanes=536870912,Ns(null,e);if(To(t),(e=Ge)?(e=sm(e,ea),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:va,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},a=Cd(e),a.return=t,t.child=a,_t=t,Ge=null)):e=null,e===null)throw tn(t);return t.lanes=536870912,null}return Bi(t,n)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(To(t),r)if(t.flags&256)t.flags&=-257,t=Kf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(ot||yl(e,t,a,!1),r=(a&e.childLanes)!==0,ot||r){if(n=qe,n!==null&&(m=Mc(n,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,zn(e,m),Lt(n,e,m),Jo;Fi(),t=Kf(e,t,a)}else e=u.treeContext,Ge=aa(m.nextSibling),_t=t,Se=!0,en=null,ea=!1,e!==null&&kd(t,e),t=Bi(t,n),t.flags|=4096;return t}return e=Aa(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Hi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Zo(e,t,a,n,r){return Bn(t),a=Co(e,t,a,n,void 0,r),n=Ro(),e!==null&&!ot?(Oo(e,t,r),Ua(e,t,r)):(Se&&n&&uo(t),t.flags|=1,jt(e,t,a,r),t.child)}function Jf(e,t,a,n,r,u){return Bn(t),t.updateQueue=null,a=Fd(t,n,a,r),Zd(e),n=Ro(),e!==null&&!ot?(Oo(e,t,u),Ua(e,t,u)):(Se&&n&&uo(t),t.flags|=1,jt(e,t,a,u),t.child)}function Zf(e,t,a,n,r){if(Bn(t),t.stateNode===null){var u=ml,m=a.contextType;typeof m=="object"&&m!==null&&(u=St(m)),u=new a(n,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Xo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=n,u.state=t.memoizedState,u.refs={},wo(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?St(m):ml,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Qo(t,a,m,n),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Xo.enqueueReplaceState(u,u.state,null),ws(t,n,u,r),xs(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){u=t.stateNode;var y=t.memoizedProps,w=Qn(a,y);u.props=w;var R=u.context,q=a.contextType;m=ml,typeof q=="object"&&q!==null&&(m=St(q));var $=a.getDerivedStateFromProps;q=typeof $=="function"||typeof u.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,q||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y||R!==m)&&zf(t,u,n,m),nn=!1;var O=t.memoizedState;u.state=O,ws(t,n,u,r),xs(),R=t.memoizedState,y||O!==R||nn?(typeof $=="function"&&(Qo(t,a,$,n),R=t.memoizedState),(w=nn||Uf(t,a,w,n,O,R,m))?(q||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=R),u.props=n,u.state=R,u.context=m,n=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,_o(e,t),m=t.memoizedProps,q=Qn(a,m),u.props=q,$=t.pendingProps,O=u.context,R=a.contextType,w=ml,typeof R=="object"&&R!==null&&(w=St(R)),y=a.getDerivedStateFromProps,(R=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==$||O!==w)&&zf(t,u,n,w),nn=!1,O=t.memoizedState,u.state=O,ws(t,n,u,r),xs();var D=t.memoizedState;m!==$||O!==D||nn||e!==null&&e.dependencies!==null&&wi(e.dependencies)?(typeof y=="function"&&(Qo(t,a,y,n),D=t.memoizedState),(q=nn||Uf(t,a,q,n,O,D,w)||e!==null&&e.dependencies!==null&&wi(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,D,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,D,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=D),u.props=n,u.state=D,u.context=w,n=q):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),n=!1)}return u=n,Hi(e,t),n=(t.flags&128)!==0,u||n?(u=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&n?(t.child=Yn(t,e.child,null,r),t.child=Yn(t,null,a,r)):jt(e,t,a,r),t.memoizedState=u.state,e=t.child):e=Ua(e,t,r),e}function Ff(e,t,a,n){return Ln(),t.flags|=256,jt(e,t,a,n),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Po(e){return{baseLanes:e,cachePool:qd()}}function Wo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Vt),e}function Pf(e,t,a){var n=t.pendingProps,r=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(r?rn(t):on(),(e=Ge)?(e=sm(e,ea),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:va,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},a=Cd(e),a.return=t,t.child=a,_t=t,Ge=null)):e=null,e===null)throw tn(t);return Uu(e)?t.lanes=32:t.lanes=536870912,null}var y=n.children;return n=n.fallback,r?(on(),r=t.mode,y=$i({mode:"hidden",children:y},r),n=Mn(n,r,a,null),y.return=t,n.return=t,y.sibling=n,t.child=y,n=t.child,n.memoizedState=Po(a),n.childLanes=Wo(e,m,a),t.memoizedState=Fo,Ns(null,n)):(rn(t),Io(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(u)t.flags&256?(rn(t),t.flags&=-257,t=eu(e,t,a)):t.memoizedState!==null?(on(),t.child=e.child,t.flags|=128,t=null):(on(),y=n.fallback,r=t.mode,n=$i({mode:"visible",children:n.children},r),y=Mn(y,r,a,null),y.flags|=2,n.return=t,y.return=t,n.sibling=y,t.child=n,Yn(t,e.child,null,a),n=t.child,n.memoizedState=Po(a),n.childLanes=Wo(e,m,a),t.memoizedState=Fo,t=Ns(null,n));else if(rn(t),Uu(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var R=m.dgst;m=R,n=Error(i(419)),n.stack="",n.digest=m,ms({value:n,source:null,stack:null}),t=eu(e,t,a)}else if(ot||yl(e,t,a,!1),m=(a&e.childLanes)!==0,ot||m){if(m=qe,m!==null&&(n=Mc(m,a),n!==0&&n!==w.retryLane))throw w.retryLane=n,zn(e,n),Lt(m,e,n),Jo;Du(y)||Fi(),t=eu(e,t,a)}else Du(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ge=aa(y.nextSibling),_t=t,Se=!0,en=null,ea=!1,e!==null&&kd(t,e),t=Io(t,n.children),t.flags|=4096);return t}return r?(on(),y=n.fallback,r=t.mode,w=e.child,R=w.sibling,n=Aa(w,{mode:"hidden",children:n.children}),n.subtreeFlags=w.subtreeFlags&65011712,R!==null?y=Aa(R,y):(y=Mn(y,r,a,null),y.flags|=2),y.return=t,n.return=t,n.sibling=y,t.child=n,Ns(null,n),n=t.child,y=e.child.memoizedState,y===null?y=Po(a):(r=y.cachePool,r!==null?(w=it._currentValue,r=r.parent!==w?{parent:w,pool:w}:r):r=qd(),y={baseLanes:y.baseLanes|a,cachePool:r}),n.memoizedState=y,n.childLanes=Wo(e,m,a),t.memoizedState=Fo,Ns(e.child,n)):(rn(t),a=e.child,e=a.sibling,a=Aa(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Io(e,t){return t=$i({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $i(e,t){return e=Ht(22,e,null,t),e.lanes=0,e}function eu(e,t,a){return Yn(t,e.child,null,a),e=Io(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),go(e.return,t,a)}function tu(e,t,a,n,r,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=n,m.tail=a,m.tailMode=r,m.treeForkCount=u)}function If(e,t,a){var n=t.pendingProps,r=n.revealOrder,u=n.tail;n=n.children;var m=lt.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,X(lt,m),jt(e,t,n,a),n=Se?hs:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wf(e,a,t);else if(e.tag===19)Wf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&Ci(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),tu(t,!1,r,a,u,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ci(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}tu(t,!0,a,null,u,n);break;case"together":tu(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),dn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(yl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=Aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function au(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wi(e)))}function cp(e,t,a){switch(t.tag){case 3:Oe(t,t.stateNode.containerInfo),an(t,it,e.memoizedState.cache),Ln();break;case 27:case 5:Re(t);break;case 4:Oe(t,t.stateNode.containerInfo);break;case 10:an(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,To(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(rn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Pf(e,t,a):(rn(t),e=Ua(e,t,a),e!==null?e.sibling:null);rn(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(yl(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return If(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),X(lt,lt.current),n)break;return null;case 22:return t.lanes=0,Qf(e,t,a,t.pendingProps);case 24:an(t,it,e.memoizedState.cache)}return Ua(e,t,a)}function eh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ot=!0;else{if(!au(e,a)&&(t.flags&128)===0)return ot=!1,cp(e,t,a);ot=(e.flags&131072)!==0}else ot=!1,Se&&(t.flags&1048576)!==0&&Od(t,hs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=$n(t.elementType),t.type=e,typeof e=="function")io(e)?(n=Qn(e,n),t.tag=1,t=Zf(null,t,e,n,a)):(t.tag=0,t=Zo(null,t,e,n,a));else{if(e!=null){var r=e.$$typeof;if(r===Q){t.tag=11,t=Gf(null,t,e,n,a);break e}else if(r===ee){t.tag=14,t=Yf(null,t,e,n,a);break e}}throw t=Ze(e)||e,Error(i(306,t,""))}}return t;case 0:return Zo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=Qn(n,t.pendingProps),Zf(e,t,n,r,a);case 3:e:{if(Oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));n=t.pendingProps;var u=t.memoizedState;r=u.element,_o(e,t),ws(t,n,null,a);var m=t.memoizedState;if(n=m.cache,an(t,it,n),n!==u.cache&&po(t,[it],a,!0),xs(),n=m.element,u.isDehydrated)if(u={element:n,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Ff(e,t,n,a);break e}else if(n!==r){r=Pt(Error(i(424)),t),ms(r),t=Ff(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=aa(e.firstChild),_t=t,Se=!0,en=null,ea=!0,a=Vd(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ln(),n===r){t=Ua(e,t,a);break e}jt(e,t,n,a)}t=t.child}return t;case 26:return Hi(e,t),e===null?(a=dm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Se||(a=t.type,e=t.pendingProps,n=nr(le.current).createElement(a),n[wt]=t,n[Ot]=e,Et(n,a,e),yt(n),t.stateNode=n):t.memoizedState=dm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Re(t),e===null&&Se&&(n=t.stateNode=om(t.type,t.pendingProps,le.current),_t=t,ea=!0,r=Ge,pn(t.type)?(zu=r,Ge=aa(n.firstChild)):Ge=r),jt(e,t,t.pendingProps.children,a),Hi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((r=n=Ge)&&(n=Hp(n,t.type,t.pendingProps,ea),n!==null?(t.stateNode=n,_t=t,Ge=aa(n.firstChild),ea=!1,r=!0):r=!1),r||tn(t)),Re(t),r=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,n=u.children,Ru(r,u)?n=null:m!==null&&Ru(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=Co(e,t,tp,null,null,a),$s._currentValue=r),Hi(e,t),jt(e,t,n,a),t.child;case 6:return e===null&&Se&&((e=a=Ge)&&(a=$p(a,t.pendingProps,ea),a!==null?(t.stateNode=a,_t=t,Ge=null,e=!0):e=!1),e||tn(t)),null;case 13:return Pf(e,t,a);case 4:return Oe(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yn(t,null,n,a):jt(e,t,n,a),t.child;case 11:return Gf(e,t,t.type,t.pendingProps,a);case 7:return jt(e,t,t.pendingProps,a),t.child;case 8:return jt(e,t,t.pendingProps.children,a),t.child;case 12:return jt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,an(t,t.type,n.value),jt(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,Bn(t),r=St(r),n=n(r),t.flags|=1,jt(e,t,n,a),t.child;case 14:return Yf(e,t,t.type,t.pendingProps,a);case 15:return Vf(e,t,t.type,t.pendingProps,a);case 19:return If(e,t,a);case 31:return up(e,t,a);case 22:return Qf(e,t,a,t.pendingProps);case 24:return Bn(t),n=St(it),e===null?(r=bo(),r===null&&(r=qe,u=vo(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=a),r=u),t.memoizedState={parent:n,cache:r},wo(t),an(t,it,r)):((e.lanes&a)!==0&&(_o(e,t),ws(t,null,null,a),xs()),r=e.memoizedState,u=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),an(t,it,n)):(n=u.cache,an(t,it,n),n!==r.cache&&po(t,[it],a,!0))),jt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function za(e){e.flags|=4}function nu(e,t,a,n,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Th())e.flags|=8192;else throw Gn=Ei,xo}else e.flags&=-16777217}function th(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pm(t))if(Th())e.flags|=8192;else throw Gn=Ei,xo}function Gi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Kt():536870912,e.lanes|=t,Rl|=t)}function Ts(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function dp(e,t,a){var n=t.pendingProps;switch(co(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Oa(it),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(vl(t)?za(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ho())),Ye(t),null;case 26:var r=t.type,u=t.memoizedState;return e===null?(za(t),u!==null?(Ye(t),th(t,u)):(Ye(t),nu(t,r,null,n,a))):u?u!==e.memoizedState?(za(t),Ye(t),th(t,u)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&za(t),Ye(t),nu(t,r,e,n,a)),null;case 27:if($e(t),a=le.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&za(t);else{if(!n){if(t.stateNode===null)throw Error(i(166));return Ye(t),null}e=I.current,vl(t)?Dd(t):(e=om(r,n,a),t.stateNode=e,za(t))}return Ye(t),null;case 5:if($e(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&za(t);else{if(!n){if(t.stateNode===null)throw Error(i(166));return Ye(t),null}if(u=I.current,vl(t))Dd(t);else{var m=nr(le.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof n.is=="string"?m.createElement("select",{is:n.is}):m.createElement("select"),n.multiple?u.multiple=!0:n.size&&(u.size=n.size);break;default:u=typeof n.is=="string"?m.createElement(r,{is:n.is}):m.createElement(r)}}u[wt]=t,u[Ot]=n;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(Et(u,r,n),r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&za(t)}}return Ye(t),nu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&za(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(i(166));if(e=le.current,vl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=_t,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[wt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Ph(e.nodeValue,a)),e||tn(t,!0)}else e=nr(e).createTextNode(n),e[wt]=t,t.stateNode=e}return Ye(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=vl(t),a!==null){if(e===null){if(!n)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[wt]=t}else Ln(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else a=ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Ye(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=vl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(i(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));r[wt]=t}else Ln(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),r=!1}else r=ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==r&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Gi(t,t.updateQueue),Ye(t),null);case 4:return je(),e===null&&Eu(t.stateNode.containerInfo),Ye(t),null;case 10:return Oa(t.type),Ye(t),null;case 19:if(U(lt),n=t.memoizedState,n===null)return Ye(t),null;if(r=(t.flags&128)!==0,u=n.rendering,u===null)if(r)Ts(n,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ci(e),u!==null){for(t.flags|=128,Ts(n,!1),e=u.updateQueue,t.updateQueue=e,Gi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ad(a,e),a=a.sibling;return X(lt,lt.current&1|2),Se&&Ca(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&pt()>Ki&&(t.flags|=128,r=!0,Ts(n,!1),t.lanes=4194304)}else{if(!r)if(e=Ci(u),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Gi(t,e),Ts(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!Se)return Ye(t),null}else 2*pt()-n.renderingStartTime>Ki&&a!==536870912&&(t.flags|=128,r=!0,Ts(n,!1),t.lanes=4194304);n.isBackwards?(u.sibling=t.child,t.child=u):(e=n.last,e!==null?e.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=pt(),e.sibling=null,a=lt.current,X(lt,r?a&1|2:a&1),Se&&Ca(t,n.treeForkCount),e):(Ye(t),null);case 22:case 23:return Gt(t),No(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&Gi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&U(Hn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Oa(it),Ye(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function fp(e,t){switch(co(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oa(it),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $e(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(i(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(lt),null;case 4:return je(),null;case 10:return Oa(t.type),null;case 22:case 23:return Gt(t),No(),e!==null&&U(Hn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Oa(it),null;case 25:return null;default:return null}}function ah(e,t){switch(co(t),t.tag){case 3:Oa(it),je();break;case 26:case 27:case 5:$e(t);break;case 4:je();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:U(lt);break;case 10:Oa(t.type);break;case 22:case 23:Gt(t),No(),e!==null&&U(Hn);break;case 24:Oa(it)}}function As(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var u=a.create,m=a.inst;n=u(),m.destroy=n}a=a.next}while(a!==r)}}catch(y){Ue(t,t.return,y)}}function un(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var u=r.next;n=u;do{if((n.tag&e)===e){var m=n.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,r=t;var w=a,R=y;try{R()}catch(q){Ue(r,w,q)}}}n=n.next}while(n!==u)}}catch(q){Ue(t,t.return,q)}}function nh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Xd(t,a)}catch(n){Ue(e,e.return,n)}}}function lh(e,t,a){a.props=Qn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Ue(e,t,n)}}function Cs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){Ue(e,t,r)}}function ba(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){Ue(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Ue(e,t,r)}else a.current=null}function sh(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){Ue(e,e.return,r)}}function lu(e,t,a){try{var n=e.stateNode;Up(n,e.type,a,t),n[Ot]=t}catch(r){Ue(e,e.return,r)}}function ih(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pn(e.type)||e.tag===4}function su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ih(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Na));else if(n!==4&&(n===27&&pn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(iu(e,t,a),e=e.sibling;e!==null;)iu(e,t,a),e=e.sibling}function Yi(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&pn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yi(e,t,a),e=e.sibling;e!==null;)Yi(e,t,a),e=e.sibling}function rh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Et(t,n,a),t[wt]=e,t[Ot]=a}catch(u){Ue(e,e.return,u)}}var Ma=!1,ut=!1,ru=!1,oh=typeof WeakSet=="function"?WeakSet:Set,bt=null;function hp(e,t){if(e=e.containerInfo,Au=cr,e=bd(e),Ir(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,u=n.focusNode;n=n.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,y=-1,w=-1,R=0,q=0,$=e,O=null;t:for(;;){for(var D;$!==a||r!==0&&$.nodeType!==3||(y=m+r),$!==u||n!==0&&$.nodeType!==3||(w=m+n),$.nodeType===3&&(m+=$.nodeValue.length),(D=$.firstChild)!==null;)O=$,$=D;for(;;){if($===e)break t;if(O===a&&++R===r&&(y=m),O===u&&++q===n&&(w=m),(D=$.nextSibling)!==null)break;$=O,O=$.parentNode}$=D}a=y===-1||w===-1?null:{start:y,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cu={focusedElem:e,selectionRange:a},cr=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)r=e[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,r=u.memoizedProps,u=u.memoizedState,n=a.stateNode;try{var ae=Qn(a.type,r);e=n.getSnapshotBeforeUpdate(ae,u),n.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ue(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ku(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ku(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function uh(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:qa(e,a),n&4&&As(5,a);break;case 1:if(qa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Ue(a,a.return,m)}else{var r=Qn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ue(a,a.return,m)}}n&64&&nh(a),n&512&&Cs(a,a.return);break;case 3:if(qa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Xd(e,t)}catch(m){Ue(a,a.return,m)}}break;case 27:t===null&&n&4&&rh(a);case 26:case 5:qa(e,a),t===null&&n&4&&sh(a),n&512&&Cs(a,a.return);break;case 12:qa(e,a);break;case 31:qa(e,a),n&4&&fh(e,a);break;case 13:qa(e,a),n&4&&hh(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_p.bind(null,a),Gp(e,a))));break;case 22:if(n=a.memoizedState!==null||Ma,!n){t=t!==null&&t.memoizedState!==null||ut,r=Ma;var u=ut;Ma=n,(ut=t)&&!u?Ba(e,a,(a.subtreeFlags&8772)!==0):qa(e,a),Ma=r,ut=u}break;case 30:break;default:qa(e,a)}}function ch(e){var t=e.alternate;t!==null&&(e.alternate=null,ch(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Mr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Dt=!1;function La(e,t,a){for(a=a.child;a!==null;)dh(e,t,a),a=a.sibling}function dh(e,t,a){if(H&&typeof H.onCommitFiberUnmount=="function")try{H.onCommitFiberUnmount(Fa,a)}catch{}switch(a.tag){case 26:ut||ba(a,t),La(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||ba(a,t);var n=Xe,r=Dt;pn(a.type)&&(Xe=a.stateNode,Dt=!1),La(e,t,a),qs(a.stateNode),Xe=n,Dt=r;break;case 5:ut||ba(a,t);case 6:if(n=Xe,r=Dt,Xe=null,La(e,t,a),Xe=n,Dt=r,Xe!==null)if(Dt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(u){Ue(a,t,u)}else try{Xe.removeChild(a.stateNode)}catch(u){Ue(a,t,u)}break;case 18:Xe!==null&&(Dt?(e=Xe,nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ql(e)):nm(Xe,a.stateNode));break;case 4:n=Xe,r=Dt,Xe=a.stateNode.containerInfo,Dt=!0,La(e,t,a),Xe=n,Dt=r;break;case 0:case 11:case 14:case 15:un(2,a,t),ut||un(4,a,t),La(e,t,a);break;case 1:ut||(ba(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&lh(a,t,n)),La(e,t,a);break;case 21:La(e,t,a);break;case 22:ut=(n=ut)||a.memoizedState!==null,La(e,t,a),ut=n;break;default:La(e,t,a)}}function fh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ql(e)}catch(a){Ue(t,t.return,a)}}}function hh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ql(e)}catch(a){Ue(t,t.return,a)}}function mp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new oh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new oh),t;default:throw Error(i(435,e.tag))}}function Vi(e,t){var a=mp(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var r=Sp.bind(null,e,n);n.then(r,r)}})}function Ut(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],u=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(pn(y.type)){Xe=y.stateNode,Dt=!1;break e}break;case 5:Xe=y.stateNode,Dt=!1;break e;case 3:case 4:Xe=y.stateNode.containerInfo,Dt=!0;break e}y=y.return}if(Xe===null)throw Error(i(160));dh(u,m,r),Xe=null,Dt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mh(t,e),t=t.sibling}var oa=null;function mh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(t,e),zt(e),n&4&&(un(3,e,e.return),As(3,e),un(5,e,e.return));break;case 1:Ut(t,e),zt(e),n&512&&(ut||a===null||ba(a,a.return)),n&64&&Ma&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=oa;if(Ut(t,e),zt(e),n&512&&(ut||a===null||ba(a,a.return)),n&4){var u=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":u=r.getElementsByTagName("title")[0],(!u||u[as]||u[wt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(n),r.head.insertBefore(u,r.querySelector("head > title"))),Et(u,n,a),u[wt]=e,yt(u),n=u;break e;case"link":var m=mm("link","href",r).get(n+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(u=m[y],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}u=r.createElement(n),Et(u,n,a),r.head.appendChild(u);break;case"meta":if(m=mm("meta","content",r).get(n+(a.content||""))){for(y=0;y<m.length;y++)if(u=m[y],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}u=r.createElement(n),Et(u,n,a),r.head.appendChild(u);break;default:throw Error(i(468,n))}u[wt]=e,yt(u),n=u}e.stateNode=n}else gm(r,e.type,e.stateNode);else e.stateNode=hm(r,n,e.memoizedProps);else u!==n?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,n===null?gm(r,e.type,e.stateNode):hm(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&lu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ut(t,e),zt(e),n&512&&(ut||a===null||ba(a,a.return)),a!==null&&n&4&&lu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ut(t,e),zt(e),n&512&&(ut||a===null||ba(a,a.return)),e.flags&32){r=e.stateNode;try{rl(r,"")}catch(ae){Ue(e,e.return,ae)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,lu(e,r,a!==null?a.memoizedProps:r)),n&1024&&(ru=!0);break;case 6:if(Ut(t,e),zt(e),n&4){if(e.stateNode===null)throw Error(i(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(ae){Ue(e,e.return,ae)}}break;case 3:if(ir=null,r=oa,oa=lr(t.containerInfo),Ut(t,e),oa=r,zt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(t.containerInfo)}catch(ae){Ue(e,e.return,ae)}ru&&(ru=!1,gh(e));break;case 4:n=oa,oa=lr(e.stateNode.containerInfo),Ut(t,e),zt(e),oa=n;break;case 12:Ut(t,e),zt(e);break;case 31:Ut(t,e),zt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vi(e,n)));break;case 13:Ut(t,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xi=pt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vi(e,n)));break;case 22:r=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,R=Ma,q=ut;if(Ma=R||r,ut=q||w,Ut(t,e),ut=q,Ma=R,zt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||w||Ma||ut||Xn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(u=w.stateNode,r)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=w.stateNode;var $=w.memoizedProps.style,O=$!=null&&$.hasOwnProperty("display")?$.display:null;y.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(ae){Ue(w,w.return,ae)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=r?"":w.memoizedProps}catch(ae){Ue(w,w.return,ae)}}}else if(t.tag===18){if(a===null){w=t;try{var D=w.stateNode;r?lm(D,!0):lm(w.stateNode,!1)}catch(ae){Ue(w,w.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Vi(e,a))));break;case 19:Ut(t,e),zt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vi(e,n)));break;case 30:break;case 21:break;default:Ut(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(ih(n)){a=n;break}n=n.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var r=a.stateNode,u=su(e);Yi(e,u,r);break;case 5:var m=a.stateNode;a.flags&32&&(rl(m,""),a.flags&=-33);var y=su(e);Yi(e,y,m);break;case 3:case 4:var w=a.stateNode.containerInfo,R=su(e);iu(e,R,w);break;default:throw Error(i(161))}}catch(q){Ue(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function qa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)uh(e,t.alternate,t),t=t.sibling}function Xn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:un(4,t,t.return),Xn(t);break;case 1:ba(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&lh(t,t.return,a),Xn(t);break;case 27:qs(t.stateNode);case 26:case 5:ba(t,t.return),Xn(t);break;case 22:t.memoizedState===null&&Xn(t);break;case 30:Xn(t);break;default:Xn(t)}e=e.sibling}}function Ba(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Ba(r,u,a),As(4,u);break;case 1:if(Ba(r,u,a),n=u,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(R){Ue(n,n.return,R)}if(n=u,r=n.updateQueue,r!==null){var y=n.stateNode;try{var w=r.shared.hiddenCallbacks;if(w!==null)for(r.shared.hiddenCallbacks=null,r=0;r<w.length;r++)Qd(w[r],y)}catch(R){Ue(n,n.return,R)}}a&&m&64&&nh(u),Cs(u,u.return);break;case 27:rh(u);case 26:case 5:Ba(r,u,a),a&&n===null&&m&4&&sh(u),Cs(u,u.return);break;case 12:Ba(r,u,a);break;case 31:Ba(r,u,a),a&&m&4&&fh(r,u);break;case 13:Ba(r,u,a),a&&m&4&&hh(r,u);break;case 22:u.memoizedState===null&&Ba(r,u,a),Cs(u,u.return);break;case 30:break;default:Ba(r,u,a)}t=t.sibling}}function ou(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&gs(a))}function uu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gs(e))}function ua(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ph(e,t,a,n),t=t.sibling}function ph(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ua(e,t,a,n),r&2048&&As(9,t);break;case 1:ua(e,t,a,n);break;case 3:ua(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gs(e)));break;case 12:if(r&2048){ua(e,t,a,n),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,y=u.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ue(t,t.return,w)}}else ua(e,t,a,n);break;case 31:ua(e,t,a,n);break;case 13:ua(e,t,a,n);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?ua(e,t,a,n):Rs(e,t):u._visibility&2?ua(e,t,a,n):(u._visibility|=2,Tl(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),r&2048&&ou(m,t);break;case 24:ua(e,t,a,n),r&2048&&uu(t.alternate,t);break;default:ua(e,t,a,n)}}function Tl(e,t,a,n,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,y=a,w=n,R=m.flags;switch(m.tag){case 0:case 11:case 15:Tl(u,m,y,w,r),As(8,m);break;case 23:break;case 22:var q=m.stateNode;m.memoizedState!==null?q._visibility&2?Tl(u,m,y,w,r):Rs(u,m):(q._visibility|=2,Tl(u,m,y,w,r)),r&&R&2048&&ou(m.alternate,m);break;case 24:Tl(u,m,y,w,r),r&&R&2048&&uu(m.alternate,m);break;default:Tl(u,m,y,w,r)}t=t.sibling}}function Rs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:Rs(a,n),r&2048&&ou(n.alternate,n);break;case 24:Rs(a,n),r&2048&&uu(n.alternate,n);break;default:Rs(a,n)}t=t.sibling}}var Os=8192;function Al(e,t,a){if(e.subtreeFlags&Os)for(e=e.child;e!==null;)vh(e,t,a),e=e.sibling}function vh(e,t,a){switch(e.tag){case 26:Al(e,t,a),e.flags&Os&&e.memoizedState!==null&&ev(a,oa,e.memoizedState,e.memoizedProps);break;case 5:Al(e,t,a);break;case 3:case 4:var n=oa;oa=lr(e.stateNode.containerInfo),Al(e,t,a),oa=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Os,Os=16777216,Al(e,t,a),Os=n):Al(e,t,a));break;default:Al(e,t,a)}}function yh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ks(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];bt=n,xh(n,e)}yh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bh(e),e=e.sibling}function bh(e){switch(e.tag){case 0:case 11:case 15:ks(e),e.flags&2048&&un(9,e,e.return);break;case 3:ks(e);break;case 12:ks(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qi(e)):ks(e);break;default:ks(e)}}function Qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];bt=n,xh(n,e)}yh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:un(8,t,t.return),Qi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Qi(t));break;default:Qi(t)}e=e.sibling}}function xh(e,t){for(;bt!==null;){var a=bt;switch(a.tag){case 0:case 11:case 15:un(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:gs(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,bt=n;else e:for(a=e;bt!==null;){n=bt;var r=n.sibling,u=n.return;if(ch(n),n===a){bt=null;break e}if(r!==null){r.return=u,bt=r;break e}bt=u}}}var gp={getCacheForType:function(e){var t=St(it),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return St(it).controller.signal}},pp=typeof WeakMap=="function"?WeakMap:Map,Ce=0,qe=null,ve=null,xe=0,De=0,Yt=null,cn=!1,Cl=!1,cu=!1,Ha=0,et=0,dn=0,Kn=0,du=0,Vt=0,Rl=0,Ds=null,Mt=null,fu=!1,Xi=0,wh=0,Ki=1/0,Ji=null,fn=null,ht=0,hn=null,Ol=null,$a=0,hu=0,mu=null,_h=null,Us=0,gu=null;function Qt(){return(Ce&2)!==0&&xe!==0?xe&-xe:M.T!==null?wu():Lc()}function Sh(){if(Vt===0)if((xe&536870912)===0||Se){var e=Be;Be<<=1,(Be&3932160)===0&&(Be=262144),Vt=e}else Vt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Vt}function Lt(e,t,a){(e===qe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(kl(e,0),mn(e,xe,Vt,!1)),ja(e,a),((Ce&2)===0||e!==qe)&&(e===qe&&((Ce&2)===0&&(Kn|=a),et===4&&mn(e,xe,Vt,!1)),xa(e))}function jh(e,t,a){if((Ce&6)!==0)throw Error(i(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||vt(e,t),r=n?bp(e,t):vu(e,t,!0),u=n;do{if(r===0){Cl&&!n&&mn(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!vp(a)){r=vu(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;r=Ds;var w=y.current.memoizedState.isDehydrated;if(w&&(kl(y,m).flags|=256),m=vu(y,m,!1),m!==2){if(cu&&!w){y.errorRecoveryDisabledLanes|=u,Kn|=u,r=4;break e}u=Mt,Mt=r,u!==null&&(Mt===null?Mt=u:Mt.push.apply(Mt,u))}r=m}if(u=!1,r!==2)continue}}if(r===1){kl(e,0),mn(e,t,0,!0);break}e:{switch(n=e,u=r,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:mn(n,t,Vt,!cn);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(r=Xi+300-pt(),10<r)){if(mn(n,t,Vt,!cn),ft(n,0,!0)!==0)break e;$a=t,n.timeoutHandle=tm(Eh.bind(null,n,a,Mt,Ji,fu,t,Vt,Kn,Rl,cn,u,"Throttled",-0,0),r);break e}Eh(n,a,Mt,Ji,fu,t,Vt,Kn,Rl,cn,u,null,-0,0)}}break}while(!0);xa(e)}function Eh(e,t,a,n,r,u,m,y,w,R,q,$,O,D){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Na},vh(t,u,$);var ae=(u&62914560)===u?Xi-pt():(u&4194048)===u?wh-pt():0;if(ae=tv($,ae),ae!==null){$a=u,e.cancelPendingCommit=ae(Dh.bind(null,e,t,u,a,n,r,m,y,w,q,$,null,O,D)),mn(e,u,m,!R);return}}Dh(e,t,u,a,n,r,m,y,w)}function vp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],u=r.getSnapshot;r=r.value;try{if(!Bt(u(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t,a,n){t&=~du,t&=~Kn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var u=31-K(r),m=1<<u;n[u]=-1,r&=~m}a!==0&&pa(e,a,t)}function Zi(){return(Ce&6)===0?(zs(0),!1):!0}function pu(){if(ve!==null){if(De===0)var e=ve.return;else e=ve,Ra=qn=null,ko(e),_l=null,vs=0,e=ve;for(;e!==null;)ah(e.alternate,e),e=e.return;ve=null}}function kl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Lp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$a=0,pu(),qe=e,ve=a=Aa(e.current,null),xe=t,De=0,Yt=null,cn=!1,Cl=vt(e,t),cu=!1,Rl=Vt=du=Kn=dn=et=0,Mt=Ds=null,fu=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-K(n),u=1<<r;t|=e[r],n&=~u}return Ha=t,pi(),a}function Nh(e,t){de=null,M.H=Es,t===wl||t===ji?(t=$d(),De=3):t===xo?(t=$d(),De=4):De=t===Jo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,ve===null&&(et=1,qi(e,Pt(t,e.current)))}function Th(){var e=$t.current;return e===null?!0:(xe&4194048)===xe?ta===null:(xe&62914560)===xe||(xe&536870912)!==0?e===ta:!1}function Ah(){var e=M.H;return M.H=Es,e===null?Es:e}function Ch(){var e=M.A;return M.A=gp,e}function Fi(){et=4,cn||(xe&4194048)!==xe&&$t.current!==null||(Cl=!0),(dn&134217727)===0&&(Kn&134217727)===0||qe===null||mn(qe,xe,Vt,!1)}function vu(e,t,a){var n=Ce;Ce|=2;var r=Ah(),u=Ch();(qe!==e||xe!==t)&&(Ji=null,kl(e,t)),t=!1;var m=et;e:do try{if(De!==0&&ve!==null){var y=ve,w=Yt;switch(De){case 8:pu(),m=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var R=De;if(De=0,Yt=null,Dl(e,y,w,R),a&&Cl){m=0;break e}break;default:R=De,De=0,Yt=null,Dl(e,y,w,R)}}yp(),m=et;break}catch(q){Nh(e,q)}while(!0);return t&&e.shellSuspendCounter++,Ra=qn=null,Ce=n,M.H=r,M.A=u,ve===null&&(qe=null,xe=0,pi()),m}function yp(){for(;ve!==null;)Rh(ve)}function bp(e,t){var a=Ce;Ce|=2;var n=Ah(),r=Ch();qe!==e||xe!==t?(Ji=null,Ki=pt()+500,kl(e,t)):Cl=vt(e,t);e:do try{if(De!==0&&ve!==null){t=ve;var u=Yt;t:switch(De){case 1:De=0,Yt=null,Dl(e,t,u,1);break;case 2:case 9:if(Bd(u)){De=0,Yt=null,Oh(t);break}t=function(){De!==2&&De!==9||qe!==e||(De=7),xa(e)},u.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Bd(u)?(De=0,Yt=null,Oh(t)):(De=0,Yt=null,Dl(e,t,u,7));break;case 5:var m=null;switch(ve.tag){case 26:m=ve.memoizedState;case 5:case 27:var y=ve;if(m?pm(m):y.stateNode.complete){De=0,Yt=null;var w=y.sibling;if(w!==null)ve=w;else{var R=y.return;R!==null?(ve=R,Pi(R)):ve=null}break t}}De=0,Yt=null,Dl(e,t,u,5);break;case 6:De=0,Yt=null,Dl(e,t,u,6);break;case 8:pu(),et=6;break e;default:throw Error(i(462))}}xp();break}catch(q){Nh(e,q)}while(!0);return Ra=qn=null,M.H=n,M.A=r,Ce=a,ve!==null?0:(qe=null,xe=0,pi(),et)}function xp(){for(;ve!==null&&!dt();)Rh(ve)}function Rh(e){var t=eh(e.alternate,e,Ha);e.memoizedProps=e.pendingProps,t===null?Pi(e):ve=t}function Oh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Jf(a,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Jf(a,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:ko(t);default:ah(a,t),t=ve=Ad(t,Ha),t=eh(a,t,Ha)}e.memoizedProps=e.pendingProps,t===null?Pi(e):ve=t}function Dl(e,t,a,n){Ra=qn=null,ko(t),_l=null,vs=0;var r=t.return;try{if(op(e,r,t,a,xe)){et=1,qi(e,Pt(a,e.current)),ve=null;return}}catch(u){if(r!==null)throw ve=r,u;et=1,qi(e,Pt(a,e.current)),ve=null;return}t.flags&32768?(Se||n===1?e=!0:Cl||(xe&536870912)!==0?e=!1:(cn=e=!0,(n===2||n===9||n===3||n===6)&&(n=$t.current,n!==null&&n.tag===13&&(n.flags|=16384))),kh(t,e)):Pi(t)}function Pi(e){var t=e;do{if((t.flags&32768)!==0){kh(t,cn);return}e=t.return;var a=dp(t.alternate,t,Ha);if(a!==null){ve=a;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);et===0&&(et=5)}function kh(e,t){do{var a=fp(e.alternate,e);if(a!==null){a.flags&=32767,ve=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=a}while(e!==null);et=6,ve=null}function Dh(e,t,a,n,r,u,m,y,w){e.cancelPendingCommit=null;do Wi();while(ht!==0);if((Ce&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(u=t.lanes|t.childLanes,u|=lo,ke(e,a,u,m,y,w),e===qe&&(ve=qe=null,xe=0),Ol=t,hn=e,$a=a,hu=u,mu=r,_h=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jp(Xt,function(){return qh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null,r=F.p,F.p=2,m=Ce,Ce|=4;try{hp(e,t,a)}finally{Ce=m,F.p=r,M.T=n}}ht=1,Uh(),zh(),Mh()}}function Uh(){if(ht===1){ht=0;var e=hn,t=Ol,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var n=F.p;F.p=2;var r=Ce;Ce|=4;try{mh(t,e);var u=Cu,m=bd(e.containerInfo),y=u.focusedElem,w=u.selectionRange;if(m!==y&&y&&y.ownerDocument&&yd(y.ownerDocument.documentElement,y)){if(w!==null&&Ir(y)){var R=w.start,q=w.end;if(q===void 0&&(q=R),"selectionStart"in y)y.selectionStart=R,y.selectionEnd=Math.min(q,y.value.length);else{var $=y.ownerDocument||document,O=$&&$.defaultView||window;if(O.getSelection){var D=O.getSelection(),ae=y.textContent.length,oe=Math.min(w.start,ae),Le=w.end===void 0?oe:Math.min(w.end,ae);!D.extend&&oe>Le&&(m=Le,Le=oe,oe=m);var N=vd(y,oe),E=vd(y,Le);if(N&&E&&(D.rangeCount!==1||D.anchorNode!==N.node||D.anchorOffset!==N.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var C=$.createRange();C.setStart(N.node,N.offset),D.removeAllRanges(),oe>Le?(D.addRange(C),D.extend(E.node,E.offset)):(C.setEnd(E.node,E.offset),D.addRange(C))}}}}for($=[],D=y;D=D.parentNode;)D.nodeType===1&&$.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<$.length;y++){var B=$[y];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}cr=!!Au,Cu=Au=null}finally{Ce=r,F.p=n,M.T=a}}e.current=t,ht=2}}function zh(){if(ht===2){ht=0;var e=hn,t=Ol,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var n=F.p;F.p=2;var r=Ce;Ce|=4;try{uh(e,t.alternate,t)}finally{Ce=r,F.p=n,M.T=a}}ht=3}}function Mh(){if(ht===4||ht===3){ht=0,An();var e=hn,t=Ol,a=$a,n=_h;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ht=5:(ht=0,Ol=hn=null,Lh(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(fn=null),Ur(a),t=t.stateNode,H&&typeof H.onCommitFiberRoot=="function")try{H.onCommitFiberRoot(Fa,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=M.T,r=F.p,F.p=2,M.T=null;try{for(var u=e.onRecoverableError,m=0;m<n.length;m++){var y=n[m];u(y.value,{componentStack:y.stack})}}finally{M.T=t,F.p=r}}($a&3)!==0&&Wi(),xa(e),r=e.pendingLanes,(a&261930)!==0&&(r&42)!==0?e===gu?Us++:(Us=0,gu=e):Us=0,zs(0)}}function Lh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gs(t)))}function Wi(){return Uh(),zh(),Mh(),qh()}function qh(){if(ht!==5)return!1;var e=hn,t=hu;hu=0;var a=Ur($a),n=M.T,r=F.p;try{F.p=32>a?32:a,M.T=null,a=mu,mu=null;var u=hn,m=$a;if(ht=0,Ol=hn=null,$a=0,(Ce&6)!==0)throw Error(i(331));var y=Ce;if(Ce|=4,bh(u.current),ph(u,u.current,m,a),Ce=y,zs(0,!1),H&&typeof H.onPostCommitFiberRoot=="function")try{H.onPostCommitFiberRoot(Fa,u)}catch{}return!0}finally{F.p=r,M.T=n,Lh(e,t)}}function Bh(e,t,a){t=Pt(a,t),t=Ko(e.stateNode,t,2),e=sn(e,t,2),e!==null&&(ja(e,2),xa(e))}function Ue(e,t,a){if(e.tag===3)Bh(e,e,a);else for(;t!==null;){if(t.tag===3){Bh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fn===null||!fn.has(n))){e=Pt(a,e),a=Hf(2),n=sn(t,a,2),n!==null&&($f(a,n,t,e),ja(n,2),xa(n));break}}t=t.return}}function yu(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new pp;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(cu=!0,r.add(a),e=wp.bind(null,e,t,a),t.then(e,e))}function wp(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(xe&a)===a&&(et===4||et===3&&(xe&62914560)===xe&&300>pt()-Xi?(Ce&2)===0&&kl(e,0):du|=a,Rl===xe&&(Rl=0)),xa(e)}function Hh(e,t){t===0&&(t=Kt()),e=zn(e,t),e!==null&&(ja(e,t),xa(e))}function _p(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Hh(e,a)}function Sp(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}n!==null&&n.delete(t),Hh(e,a)}function jp(e,t){return Sa(e,t)}var Ii=null,Ul=null,bu=!1,er=!1,xu=!1,gn=0;function xa(e){e!==Ul&&e.next===null&&(Ul===null?Ii=Ul=e:Ul=Ul.next=e),er=!0,bu||(bu=!0,Np())}function zs(e,t){if(!xu&&er){xu=!0;do for(var a=!1,n=Ii;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var u=0;else{var m=n.suspendedLanes,y=n.pingedLanes;u=(1<<31-K(42|e)+1)-1,u&=r&~(m&~y),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Vh(n,u))}else u=xe,u=ft(n,n===qe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(u&3)===0||vt(n,u)||(a=!0,Vh(n,u));n=n.next}while(a);xu=!1}}function Ep(){$h()}function $h(){er=bu=!1;var e=0;gn!==0&&Mp()&&(e=gn);for(var t=pt(),a=null,n=Ii;n!==null;){var r=n.next,u=Gh(n,t);u===0?(n.next=null,a===null?Ii=r:a.next=r,r===null&&(Ul=a)):(a=n,(e!==0||(u&3)!==0)&&(er=!0)),n=r}ht!==0&&ht!==5||zs(e),gn!==0&&(gn=0)}function Gh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-K(u),y=1<<m,w=r[m];w===-1?((y&a)===0||(y&n)!==0)&&(r[m]=Nt(y,t)):w<=t&&(e.expiredLanes|=y),u&=~y}if(t=qe,a=xe,a=ft(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&ga(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||vt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&ga(n),Ur(a)){case 2:case 8:a=Fe;break;case 32:a=Xt;break;case 268435456:a=Za;break;default:a=Xt}return n=Yh.bind(null,e),a=Sa(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&ga(n),e.callbackPriority=2,e.callbackNode=null,2}function Yh(e,t){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wi()&&e.callbackNode!==a)return null;var n=xe;return n=ft(e,e===qe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(jh(e,n,t),Gh(e,pt()),e.callbackNode!=null&&e.callbackNode===a?Yh.bind(null,e):null)}function Vh(e,t){if(Wi())return null;jh(e,t,!0)}function Np(){qp(function(){(Ce&6)!==0?Sa(ia,Ep):$h()})}function wu(){if(gn===0){var e=bl;e===0&&(e=nt,nt<<=1,(nt&261888)===0&&(nt=256)),gn=e}return gn}function Qh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oi(""+e)}function Xh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Tp(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var u=Qh((r[Ot]||null).action),m=n.submitter;m&&(t=(t=m[Ot]||null)?Qh(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var y=new fi("action","action",null,n,r);e.push({event:y,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(gn!==0){var w=m?Xh(r,m):new FormData(r);$o(a,{pending:!0,data:w,method:r.method,action:u},null,w)}}else typeof u=="function"&&(y.preventDefault(),w=m?Xh(r,m):new FormData(r),$o(a,{pending:!0,data:w,method:r.method,action:u},u,w))},currentTarget:r}]})}}for(var _u=0;_u<no.length;_u++){var Su=no[_u],Ap=Su.toLowerCase(),Cp=Su[0].toUpperCase()+Su.slice(1);ra(Ap,"on"+Cp)}ra(_d,"onAnimationEnd"),ra(Sd,"onAnimationIteration"),ra(jd,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(Qg,"onTransitionRun"),ra(Xg,"onTransitionStart"),ra(Kg,"onTransitionCancel"),ra(Ed,"onTransitionEnd"),sl("onMouseEnter",["mouseout","mouseover"]),sl("onMouseLeave",["mouseout","mouseover"]),sl("onPointerEnter",["pointerout","pointerover"]),sl("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ms));function Kh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var u=void 0;if(t)for(var m=n.length-1;0<=m;m--){var y=n[m],w=y.instance,R=y.currentTarget;if(y=y.listener,w!==u&&r.isPropagationStopped())break e;u=y,r.currentTarget=R;try{u(r)}catch(q){gi(q)}r.currentTarget=null,u=w}else for(m=0;m<n.length;m++){if(y=n[m],w=y.instance,R=y.currentTarget,y=y.listener,w!==u&&r.isPropagationStopped())break e;u=y,r.currentTarget=R;try{u(r)}catch(q){gi(q)}r.currentTarget=null,u=w}}}}function ye(e,t){var a=t[zr];a===void 0&&(a=t[zr]=new Set);var n=e+"__bubble";a.has(n)||(Jh(t,e,2,!1),a.add(n))}function ju(e,t,a){var n=0;t&&(n|=4),Jh(a,e,n,t)}var tr="_reactListening"+Math.random().toString(36).slice(2);function Eu(e){if(!e[tr]){e[tr]=!0,Hc.forEach(function(a){a!=="selectionchange"&&(Rp.has(a)||ju(a,!1,e),ju(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tr]||(t[tr]=!0,ju("selectionchange",!1,t))}}function Jh(e,t,a,n){switch(Sm(t)){case 2:var r=lv;break;case 8:r=sv;break;default:r=Hu}a=r.bind(null,t,a,e),r=void 0,!Vr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Nu(e,t,a,n,r){var u=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var y=n.stateNode.containerInfo;if(y===r)break;if(m===4)for(m=n.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;y!==null;){if(m=al(y),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){n=u=m;continue e}y=y.parentNode}}n=n.return}Wc(function(){var R=u,q=Gr(a),$=[];e:{var O=Nd.get(e);if(O!==void 0){var D=fi,ae=e;switch(e){case"keypress":if(ci(a)===0)break e;case"keydown":case"keyup":D=Sg;break;case"focusin":ae="focus",D=Jr;break;case"focusout":ae="blur",D=Jr;break;case"beforeblur":case"afterblur":D=Jr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Ng;break;case _d:case Sd:case jd:D=mg;break;case Ed:D=Ag;break;case"scroll":case"scrollend":D=ug;break;case"wheel":D=Rg;break;case"copy":case"cut":case"paste":D=pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=nd;break;case"toggle":case"beforetoggle":D=kg}var oe=(t&4)!==0,Le=!oe&&(e==="scroll"||e==="scrollend"),N=oe?O!==null?O+"Capture":null:O;oe=[];for(var E=R,C;E!==null;){var B=E;if(C=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||C===null||N===null||(B=ls(E,N),B!=null&&oe.push(Ls(E,B,C))),Le)break;E=E.return}0<oe.length&&(O=new D(O,ae,null,a,q),$.push({event:O,listeners:oe}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",O&&a!==$r&&(ae=a.relatedTarget||a.fromElement)&&(al(ae)||ae[tl]))break e;if((D||O)&&(O=q.window===q?q:(O=q.ownerDocument)?O.defaultView||O.parentWindow:window,D?(ae=a.relatedTarget||a.toElement,D=R,ae=ae?al(ae):null,ae!==null&&(Le=f(ae),oe=ae.tag,ae!==Le||oe!==5&&oe!==27&&oe!==6)&&(ae=null)):(D=null,ae=R),D!==ae)){if(oe=td,B="onMouseLeave",N="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(oe=nd,B="onPointerLeave",N="onPointerEnter",E="pointer"),Le=D==null?O:ns(D),C=ae==null?O:ns(ae),O=new oe(B,E+"leave",D,a,q),O.target=Le,O.relatedTarget=C,B=null,al(q)===R&&(oe=new oe(N,E+"enter",ae,a,q),oe.target=C,oe.relatedTarget=Le,B=oe),Le=B,D&&ae)t:{for(oe=Op,N=D,E=ae,C=0,B=N;B;B=oe(B))C++;B=0;for(var re=E;re;re=oe(re))B++;for(;0<C-B;)N=oe(N),C--;for(;0<B-C;)E=oe(E),B--;for(;C--;){if(N===E||E!==null&&N===E.alternate){oe=N;break t}N=oe(N),E=oe(E)}oe=null}else oe=null;D!==null&&Zh($,O,D,oe,!1),ae!==null&&Le!==null&&Zh($,Le,ae,oe,!0)}}e:{if(O=R?ns(R):window,D=O.nodeName&&O.nodeName.toLowerCase(),D==="select"||D==="input"&&O.type==="file")var Te=dd;else if(ud(O))if(fd)Te=Gg;else{Te=Hg;var se=Bg}else D=O.nodeName,!D||D.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&Hr(R.elementType)&&(Te=dd):Te=$g;if(Te&&(Te=Te(e,R))){cd($,Te,a,q);break e}se&&se(e,O,R),e==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&Br(O,"number",O.value)}switch(se=R?ns(R):window,e){case"focusin":(ud(se)||se.contentEditable==="true")&&(dl=se,eo=R,fs=null);break;case"focusout":fs=eo=dl=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,xd($,a,q);break;case"selectionchange":if(Vg)break;case"keydown":case"keyup":xd($,a,q)}var me;if(Fr)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else cl?rd(e,a)&&(we="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(ld&&a.locale!=="ko"&&(cl||we!=="onCompositionStart"?we==="onCompositionEnd"&&cl&&(me=Ic()):(Wa=q,Qr="value"in Wa?Wa.value:Wa.textContent,cl=!0)),se=ar(R,we),0<se.length&&(we=new ad(we,e,null,a,q),$.push({event:we,listeners:se}),me?we.data=me:(me=od(a),me!==null&&(we.data=me)))),(me=Ug?zg(e,a):Mg(e,a))&&(we=ar(R,"onBeforeInput"),0<we.length&&(se=new ad("onBeforeInput","beforeinput",null,a,q),$.push({event:se,listeners:we}),se.data=me)),Tp($,e,R,a,q)}Kh($,t)})}function Ls(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ar(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=ls(e,a),r!=null&&n.unshift(Ls(e,r,u)),r=ls(e,t),r!=null&&n.push(Ls(e,r,u))),e.tag===3)return n;e=e.return}return[]}function Op(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zh(e,t,a,n,r){for(var u=t._reactName,m=[];a!==null&&a!==n;){var y=a,w=y.alternate,R=y.stateNode;if(y=y.tag,w!==null&&w===n)break;y!==5&&y!==26&&y!==27||R===null||(w=R,r?(R=ls(a,u),R!=null&&m.unshift(Ls(a,R,w))):r||(R=ls(a,u),R!=null&&m.push(Ls(a,R,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var kp=/\r\n?/g,Dp=/\u0000|\uFFFD/g;function Fh(e){return(typeof e=="string"?e:""+e).replace(kp,`
`).replace(Dp,"")}function Ph(e,t){return t=Fh(t),Fh(e)===t}function Me(e,t,a,n,r,u){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||rl(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&rl(e,""+n);break;case"className":ii(e,"class",n);break;case"tabIndex":ii(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(e,a,n);break;case"style":Fc(e,n,u);break;case"data":if(t!=="object"){ii(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=oi(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Me(e,t,"name",r.name,r,null),Me(e,t,"formEncType",r.formEncType,r,null),Me(e,t,"formMethod",r.formMethod,r,null),Me(e,t,"formTarget",r.formTarget,r,null)):(Me(e,t,"encType",r.encType,r,null),Me(e,t,"method",r.method,r,null),Me(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=oi(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Na);break;case"onScroll":n!=null&&ye("scroll",e);break;case"onScrollEnd":n!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(i(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=oi(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":ye("beforetoggle",e),ye("toggle",e),si(e,"popover",n);break;case"xlinkActuate":Ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Ea(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Ea(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Ea(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Ea(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":si(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rg.get(a)||a,si(e,a,n))}}function Tu(e,t,a,n,r,u){switch(a){case"style":Fc(e,n,u);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(i(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof n=="string"?rl(e,n):(typeof n=="number"||typeof n=="bigint")&&rl(e,""+n);break;case"onScroll":n!=null&&ye("scroll",e);break;case"onScrollEnd":n!=null&&ye("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$c.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),u=e[Ot]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof n=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):si(e,a,n)}}}function Et(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var n=!1,r=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Me(e,t,u,m,a,null)}}r&&Me(e,t,"srcSet",a.srcSet,a,null),n&&Me(e,t,"src",a.src,a,null);return;case"input":ye("invalid",e);var y=u=m=r=null,w=null,R=null;for(n in a)if(a.hasOwnProperty(n)){var q=a[n];if(q!=null)switch(n){case"name":r=q;break;case"type":m=q;break;case"checked":w=q;break;case"defaultChecked":R=q;break;case"value":u=q;break;case"defaultValue":y=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,t));break;default:Me(e,t,n,q,a,null)}}Xc(e,u,y,w,R,m,r,!1);return;case"select":ye("invalid",e),n=m=u=null;for(r in a)if(a.hasOwnProperty(r)&&(y=a[r],y!=null))switch(r){case"value":u=y;break;case"defaultValue":m=y;break;case"multiple":n=y;default:Me(e,t,r,y,a,null)}t=u,a=m,e.multiple=!!n,t!=null?il(e,!!n,t,!1):a!=null&&il(e,!!n,a,!0);return;case"textarea":ye("invalid",e),u=r=n=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":n=y;break;case"defaultValue":r=y;break;case"children":u=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:Me(e,t,m,y,a,null)}Jc(e,n,r,u);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(n=a[w],n!=null))switch(w){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Me(e,t,w,n,a,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(n=0;n<Ms.length;n++)ye(Ms[n],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(n=a[R],n!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Me(e,t,R,n,a,null)}return;default:if(Hr(t)){for(q in a)a.hasOwnProperty(q)&&(n=a[q],n!==void 0&&Tu(e,t,q,n,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(n=a[y],n!=null&&Me(e,t,y,n,a,null))}function Up(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,m=null,y=null,w=null,R=null,q=null;for(D in a){var $=a[D];if(a.hasOwnProperty(D)&&$!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":w=$;default:n.hasOwnProperty(D)||Me(e,t,D,null,n,$)}}for(var O in n){var D=n[O];if($=a[O],n.hasOwnProperty(O)&&(D!=null||$!=null))switch(O){case"type":u=D;break;case"name":r=D;break;case"checked":R=D;break;case"defaultChecked":q=D;break;case"value":m=D;break;case"defaultValue":y=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,t));break;default:D!==$&&Me(e,t,O,D,n,$)}}qr(e,m,y,w,R,q,u,r);return;case"select":D=m=y=O=null;for(u in a)if(w=a[u],a.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":D=w;default:n.hasOwnProperty(u)||Me(e,t,u,null,n,w)}for(r in n)if(u=n[r],w=a[r],n.hasOwnProperty(r)&&(u!=null||w!=null))switch(r){case"value":O=u;break;case"defaultValue":y=u;break;case"multiple":m=u;default:u!==w&&Me(e,t,r,u,n,w)}t=y,a=m,n=D,O!=null?il(e,!!a,O,!1):!!n!=!!a&&(t!=null?il(e,!!a,t,!0):il(e,!!a,a?[]:"",!1));return;case"textarea":D=O=null;for(y in a)if(r=a[y],a.hasOwnProperty(y)&&r!=null&&!n.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Me(e,t,y,null,n,r)}for(m in n)if(r=n[m],u=a[m],n.hasOwnProperty(m)&&(r!=null||u!=null))switch(m){case"value":O=r;break;case"defaultValue":D=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(i(91));break;default:r!==u&&Me(e,t,m,r,n,u)}Kc(e,O,D);return;case"option":for(var ae in a)if(O=a[ae],a.hasOwnProperty(ae)&&O!=null&&!n.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Me(e,t,ae,null,n,O)}for(w in n)if(O=n[w],D=a[w],n.hasOwnProperty(w)&&O!==D&&(O!=null||D!=null))switch(w){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Me(e,t,w,O,n,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)O=a[oe],a.hasOwnProperty(oe)&&O!=null&&!n.hasOwnProperty(oe)&&Me(e,t,oe,null,n,O);for(R in n)if(O=n[R],D=a[R],n.hasOwnProperty(R)&&O!==D&&(O!=null||D!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(137,t));break;default:Me(e,t,R,O,n,D)}return;default:if(Hr(t)){for(var Le in a)O=a[Le],a.hasOwnProperty(Le)&&O!==void 0&&!n.hasOwnProperty(Le)&&Tu(e,t,Le,void 0,n,O);for(q in n)O=n[q],D=a[q],!n.hasOwnProperty(q)||O===D||O===void 0&&D===void 0||Tu(e,t,q,O,n,D);return}}for(var N in a)O=a[N],a.hasOwnProperty(N)&&O!=null&&!n.hasOwnProperty(N)&&Me(e,t,N,null,n,O);for($ in n)O=n[$],D=a[$],!n.hasOwnProperty($)||O===D||O==null&&D==null||Me(e,t,$,O,n,D)}function Wh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var r=a[n],u=r.transferSize,m=r.initiatorType,y=r.duration;if(u&&y&&Wh(m)){for(m=0,y=r.responseEnd,n+=1;n<a.length;n++){var w=a[n],R=w.startTime;if(R>y)break;var q=w.transferSize,$=w.initiatorType;q&&Wh($)&&(w=w.responseEnd,m+=q*(w<y?1:(y-R)/(w-R)))}if(--n,t+=8*(u+m)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Au=null,Cu=null;function nr(e){return e.nodeType===9?e:e.ownerDocument}function Ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function em(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ou=null;function Mp(){var e=window.event;return e&&e.type==="popstate"?e===Ou?!1:(Ou=e,!0):(Ou=null,!1)}var tm=typeof setTimeout=="function"?setTimeout:void 0,Lp=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,qp=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(e){return am.resolve(null).then(e).catch(Bp)}:tm;function Bp(e){setTimeout(function(){throw e})}function pn(e){return e==="head"}function nm(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(r),ql(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")qs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,qs(a);for(var u=a.firstChild;u;){var m=u.nextSibling,y=u.nodeName;u[as]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&qs(e.ownerDocument.body);a=r}while(a);ql(t)}function lm(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function ku(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ku(a),Mr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Hp(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[as])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=aa(e.nextSibling),e===null)break}return null}function $p(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=aa(e.nextSibling),e===null))return null;return e}function sm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=aa(e.nextSibling),e===null))return null;return e}function Du(e){return e.data==="$?"||e.data==="$~"}function Uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function aa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zu=null;function im(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return aa(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function om(e,t,a){switch(t=nr(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function qs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Mr(e)}var na=new Map,um=new Set;function lr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ga=F.d;F.d={f:Yp,r:Vp,D:Qp,C:Xp,L:Kp,m:Jp,X:Fp,S:Zp,M:Pp};function Yp(){var e=Ga.f(),t=Zi();return e||t}function Vp(e){var t=nl(e);t!==null&&t.tag===5&&t.type==="form"?Nf(t):Ga.r(e)}var zl=typeof document>"u"?null:document;function cm(e,t,a){var n=zl;if(n&&typeof t=="string"&&t){var r=Zt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),um.has(r)||(um.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),Et(t,"link",e),yt(t),n.head.appendChild(t)))}}function Qp(e){Ga.D(e),cm("dns-prefetch",e,null)}function Xp(e,t){Ga.C(e,t),cm("preconnect",e,t)}function Kp(e,t,a){Ga.L(e,t,a);var n=zl;if(n&&e&&t){var r='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+Zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+Zt(a.imageSizes)+'"]')):r+='[href="'+Zt(e)+'"]';var u=r;switch(t){case"style":u=Ml(e);break;case"script":u=Ll(e)}na.has(u)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),na.set(u,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(Bs(u))||t==="script"&&n.querySelector(Hs(u))||(t=n.createElement("link"),Et(t,"link",e),yt(t),n.head.appendChild(t)))}}function Jp(e,t){Ga.m(e,t);var a=zl;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Zt(n)+'"][href="'+Zt(e)+'"]',u=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ll(e)}if(!na.has(u)&&(e=x({rel:"modulepreload",href:e},t),na.set(u,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hs(u)))return}n=a.createElement("link"),Et(n,"link",e),yt(n),a.head.appendChild(n)}}}function Zp(e,t,a){Ga.S(e,t,a);var n=zl;if(n&&e){var r=ll(n).hoistableStyles,u=Ml(e);t=t||"default";var m=r.get(u);if(!m){var y={loading:0,preload:null};if(m=n.querySelector(Bs(u)))y.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=na.get(u))&&Mu(e,a);var w=m=n.createElement("link");yt(w),Et(w,"link",e),w._p=new Promise(function(R,q){w.onload=R,w.onerror=q}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,sr(m,t,n)}m={type:"stylesheet",instance:m,count:1,state:y},r.set(u,m)}}}function Fp(e,t){Ga.X(e,t);var a=zl;if(a&&e){var n=ll(a).hoistableScripts,r=Ll(e),u=n.get(r);u||(u=a.querySelector(Hs(r)),u||(e=x({src:e,async:!0},t),(t=na.get(r))&&Lu(e,t),u=a.createElement("script"),yt(u),Et(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(r,u))}}function Pp(e,t){Ga.M(e,t);var a=zl;if(a&&e){var n=ll(a).hoistableScripts,r=Ll(e),u=n.get(r);u||(u=a.querySelector(Hs(r)),u||(e=x({src:e,async:!0,type:"module"},t),(t=na.get(r))&&Lu(e,t),u=a.createElement("script"),yt(u),Et(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(r,u))}}function dm(e,t,a,n){var r=(r=le.current)?lr(r):null;if(!r)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ml(a.href),a=ll(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ml(a.href);var u=ll(r).hoistableStyles,m=u.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=r.querySelector(Bs(e)))&&!u._p&&(m.instance=u,m.state.loading=5),na.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},na.set(e,a),u||Wp(r,e,a,m.state))),t&&n===null)throw Error(i(528,""));return m}if(t&&n!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ll(a),a=ll(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ml(e){return'href="'+Zt(e)+'"'}function Bs(e){return'link[rel="stylesheet"]['+e+"]"}function fm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Wp(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Et(t,"link",a),yt(t),e.head.appendChild(t))}function Ll(e){return'[src="'+Zt(e)+'"]'}function Hs(e){return"script[async]"+e}function hm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Zt(a.href)+'"]');if(n)return t.instance=n,yt(n),n;var r=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),yt(n),Et(n,"style",r),sr(n,a.precedence,e),t.instance=n;case"stylesheet":r=Ml(a.href);var u=e.querySelector(Bs(r));if(u)return t.state.loading|=4,t.instance=u,yt(u),u;n=fm(a),(r=na.get(r))&&Mu(n,r),u=(e.ownerDocument||e).createElement("link"),yt(u);var m=u;return m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),Et(u,"link",n),t.state.loading|=4,sr(u,a.precedence,e),t.instance=u;case"script":return u=Ll(a.src),(r=e.querySelector(Hs(u)))?(t.instance=r,yt(r),r):(n=a,(r=na.get(u))&&(n=x({},a),Lu(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),yt(r),Et(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,sr(n,a.precedence,e));return t.instance}function sr(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,u=r,m=0;m<n.length;m++){var y=n[m];if(y.dataset.precedence===t)u=y;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ir=null;function mm(e,t,a){if(ir===null){var n=new Map,r=ir=new Map;r.set(a,n)}else r=ir,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var u=a[r];if(!(u[as]||u[wt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var y=n.get(m);y?y.push(u):n.set(m,[u])}}return n}function gm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ip(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function pm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ev(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var r=Ml(n.href),u=t.querySelector(Bs(r));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=rr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,yt(u);return}u=t.ownerDocument||t,n=fm(n),(r=na.get(r))&&Mu(n,r),u=u.createElement("link"),yt(u);var m=u;m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),Et(u,"link",n),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=rr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var qu=0;function tv(e,t){return e.stylesheets&&e.count===0&&ur(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&ur(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&qu===0&&(qu=62500*zp());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ur(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>qu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(r)}}:null}function rr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ur(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var or=null;function ur(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,or=new Map,t.forEach(av,e),or=null,rr.call(e))}function av(e,t){if(!(t.state.loading&4)){var a=or.get(e);if(a)var n=a.get(null);else{a=new Map,or.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var m=r[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),n=m)}n&&a.set(null,n)}r=t.instance,m=r.getAttribute("data-precedence"),u=a.get(m)||n,u===n&&a.set(null,r),a.set(m,r),this.count++,n=rr.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var $s={$$typeof:k,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function nv(e,t,a,n,r,u,m,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function vm(e,t,a,n,r,u,m,y,w,R,q,$){return e=new nv(e,t,a,m,w,R,q,$,y),t=1,u===!0&&(t|=24),u=Ht(3,null,null,t),e.current=u,u.stateNode=e,t=vo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:n,isDehydrated:a,cache:t},wo(u),e}function ym(e){return e?(e=ml,e):ml}function bm(e,t,a,n,r,u){r=ym(r),n.context===null?n.context=r:n.pendingContext=r,n=ln(t),n.payload={element:a},u=u===void 0?null:u,u!==null&&(n.callback=u),a=sn(e,n,t),a!==null&&(Lt(a,e,t),bs(a,e,t))}function xm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Bu(e,t){xm(e,t),(e=e.alternate)&&xm(e,t)}function wm(e){if(e.tag===13||e.tag===31){var t=zn(e,67108864);t!==null&&Lt(t,e,67108864),Bu(e,67108864)}}function _m(e){if(e.tag===13||e.tag===31){var t=Qt();t=Dr(t);var a=zn(e,t);a!==null&&Lt(a,e,t),Bu(e,t)}}var cr=!0;function lv(e,t,a,n){var r=M.T;M.T=null;var u=F.p;try{F.p=2,Hu(e,t,a,n)}finally{F.p=u,M.T=r}}function sv(e,t,a,n){var r=M.T;M.T=null;var u=F.p;try{F.p=8,Hu(e,t,a,n)}finally{F.p=u,M.T=r}}function Hu(e,t,a,n){if(cr){var r=$u(n);if(r===null)Nu(e,t,n,dr,a),jm(e,n);else if(rv(r,e,t,a,n))n.stopPropagation();else if(jm(e,n),t&4&&-1<iv.indexOf(e)){for(;r!==null;){var u=nl(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=We(u.pendingLanes);if(m!==0){var y=u;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var w=1<<31-K(m);y.entanglements[1]|=w,m&=~w}xa(u),(Ce&6)===0&&(Ki=pt()+500,zs(0))}}break;case 31:case 13:y=zn(u,2),y!==null&&Lt(y,u,2),Zi(),Bu(u,2)}if(u=$u(n),u===null&&Nu(e,t,n,dr,a),u===r)break;r=u}r!==null&&n.stopPropagation()}else Nu(e,t,n,null,a)}}function $u(e){return e=Gr(e),Gu(e)}var dr=null;function Gu(e){if(dr=null,e=al(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=v(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dr=e,null}function Sm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case ia:return 2;case Fe:return 8;case Xt:case Cn:return 32;case Za:return 268435456;default:return 32}default:return 32}}var Yu=!1,vn=null,yn=null,bn=null,Gs=new Map,Ys=new Map,xn=[],iv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(t.pointerId)}}function Vs(e,t,a,n,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:u,targetContainers:[r]},t!==null&&(t=nl(t),t!==null&&wm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function rv(e,t,a,n,r){switch(t){case"focusin":return vn=Vs(vn,e,t,a,n,r),!0;case"dragenter":return yn=Vs(yn,e,t,a,n,r),!0;case"mouseover":return bn=Vs(bn,e,t,a,n,r),!0;case"pointerover":var u=r.pointerId;return Gs.set(u,Vs(Gs.get(u)||null,e,t,a,n,r)),!0;case"gotpointercapture":return u=r.pointerId,Ys.set(u,Vs(Ys.get(u)||null,e,t,a,n,r)),!0}return!1}function Em(e){var t=al(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,qc(e.priority,function(){_m(a)});return}}else if(t===31){if(t=v(a),t!==null){e.blockedOn=t,qc(e.priority,function(){_m(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=$u(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);$r=n,a.target.dispatchEvent(n),$r=null}else return t=nl(a),t!==null&&wm(t),e.blockedOn=a,!1;t.shift()}return!0}function Nm(e,t,a){fr(e)&&a.delete(t)}function ov(){Yu=!1,vn!==null&&fr(vn)&&(vn=null),yn!==null&&fr(yn)&&(yn=null),bn!==null&&fr(bn)&&(bn=null),Gs.forEach(Nm),Ys.forEach(Nm)}function hr(e,t){e.blockedOn===t&&(e.blockedOn=null,Yu||(Yu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,ov)))}var mr=null;function Tm(e){mr!==e&&(mr=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){mr===e&&(mr=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(Gu(n||a)===null)continue;break}var u=nl(a);u!==null&&(e.splice(t,3),t-=3,$o(u,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function ql(e){function t(w){return hr(w,e)}vn!==null&&hr(vn,e),yn!==null&&hr(yn,e),bn!==null&&hr(bn,e),Gs.forEach(t),Ys.forEach(t);for(var a=0;a<xn.length;a++){var n=xn[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<xn.length&&(a=xn[0],a.blockedOn===null);)Em(a),a.blockedOn===null&&xn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],u=a[n+1],m=r[Ot]||null;if(typeof u=="function")m||Tm(a);else if(m){var y=null;if(u&&u.hasAttribute("formAction")){if(r=u,m=u[Ot]||null)y=m.formAction;else if(Gu(r)!==null)continue}else y=m.action;typeof y=="function"?a[n+1]=y:(a.splice(n,3),n-=3),Tm(a)}}}function Am(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return r=m})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Vu(e){this._internalRoot=e}gr.prototype.render=Vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,n=Qt();bm(a,n,e,t,null,null)},gr.prototype.unmount=Vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bm(e.current,2,null,e,null,null),Zi(),t[tl]=null}};function gr(e){this._internalRoot=e}gr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<xn.length&&t!==0&&t<xn[a].priority;a++);xn.splice(a,0,e),a===0&&Em(e)}};var Cm=l.version;if(Cm!=="19.2.3")throw Error(i(527,Cm,"19.2.3"));F.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var uv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pr.isDisabled&&pr.supportsFiber)try{Fa=pr.inject(uv),H=pr}catch{}}return Xs.createRoot=function(e,t){if(!d(e))throw Error(i(299));var a=!1,n="",r=Mf,u=Lf,m=qf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=vm(e,1,!1,null,null,a,n,null,r,u,m,Am),e[tl]=t.current,Eu(e),new Vu(t)},Xs.hydrateRoot=function(e,t,a){if(!d(e))throw Error(i(299));var n=!1,r="",u=Mf,m=Lf,y=qf,w=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=vm(e,1,!0,t,a??null,n,r,w,u,m,y,Am),t.context=ym(null),a=t.current,n=Qt(),n=Dr(n),r=ln(n),r.callback=null,sn(a,r,n),a=n,t.current.lanes=a,ja(t,a),xa(t),e[tl]=t.current,Eu(e),new gr(t)},Xs.version="19.2.3",Xs}var Bm;function wv(){if(Bm)return Ku.exports;Bm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),Ku.exports=xv(),Ku.exports}var _v=wv();const Sv=wc(_v);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hm="popstate";function jv(o={}){function l(i,d){let{pathname:f,search:h,hash:v}=i.location;return oc("",{pathname:f,search:h,hash:v},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function s(i,d){return typeof d=="string"?d:Ws(d)}return Nv(l,s,null,o)}function Ke(o,l){if(o===!1||o===null||typeof o>"u")throw new Error(l)}function fa(o,l){if(!o){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Ev(){return Math.random().toString(36).substring(2,10)}function $m(o,l){return{usr:o.state,key:o.key,idx:l}}function oc(o,l,s=null,i){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof l=="string"?Wl(l):l,state:s,key:l&&l.key||i||Ev()}}function Ws({pathname:o="/",search:l="",hash:s=""}){return l&&l!=="?"&&(o+=l.charAt(0)==="?"?l:"?"+l),s&&s!=="#"&&(o+=s.charAt(0)==="#"?s:"#"+s),o}function Wl(o){let l={};if(o){let s=o.indexOf("#");s>=0&&(l.hash=o.substring(s),o=o.substring(0,s));let i=o.indexOf("?");i>=0&&(l.search=o.substring(i),o=o.substring(0,i)),o&&(l.pathname=o)}return l}function Nv(o,l,s,i={}){let{window:d=document.defaultView,v5Compat:f=!1}=i,h=d.history,v="POP",g=null,p=b();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function b(){return(h.state||{idx:null}).idx}function x(){v="POP";let L=b(),Y=L==null?null:L-p;p=L,g&&g({action:v,location:z.location,delta:Y})}function j(L,Y){v="PUSH";let G=oc(z.location,L,Y);p=b()+1;let k=$m(G,p),Q=z.createHref(G);try{h.pushState(k,"",Q)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;d.location.assign(Q)}f&&g&&g({action:v,location:z.location,delta:1})}function A(L,Y){v="REPLACE";let G=oc(z.location,L,Y);p=b();let k=$m(G,p),Q=z.createHref(G);h.replaceState(k,"",Q),f&&g&&g({action:v,location:z.location,delta:0})}function T(L){return Tv(L)}let z={get action(){return v},get location(){return o(d,h)},listen(L){if(g)throw new Error("A history only accepts one active listener");return d.addEventListener(Hm,x),g=L,()=>{d.removeEventListener(Hm,x),g=null}},createHref(L){return l(d,L)},createURL:T,encodeLocation(L){let Y=T(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:j,replace:A,go(L){return h.go(L)}};return z}function Tv(o,l=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(s,"No window.location.(origin|href) available to create URL");let i=typeof o=="string"?o:Ws(o);return i=i.replace(/ $/,"%20"),!l&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function b0(o,l,s="/"){return Av(o,l,s,!1)}function Av(o,l,s,i){let d=typeof l=="string"?Wl(l):l,f=Xa(d.pathname||"/",s);if(f==null)return null;let h=x0(o);Cv(h);let v=null;for(let g=0;v==null&&g<h.length;++g){let p=Hv(f);v=qv(h[g],p,i)}return v}function x0(o,l=[],s=[],i="",d=!1){let f=(h,v,g=d,p)=>{let b={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:v,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&g)return;Ke(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let x=Qa([i,b.relativePath]),j=s.concat(b);h.children&&h.children.length>0&&(Ke(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),x0(h.children,l,j,x,g)),!(h.path==null&&!h.index)&&l.push({path:x,score:Mv(x,h.index),routesMeta:j})};return o.forEach((h,v)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))f(h,v);else for(let p of w0(h.path))f(h,v,!0,p)}),l}function w0(o){let l=o.split("/");if(l.length===0)return[];let[s,...i]=l,d=s.endsWith("?"),f=s.replace(/\?$/,"");if(i.length===0)return d?[f,""]:[f];let h=w0(i.join("/")),v=[];return v.push(...h.map(g=>g===""?f:[f,g].join("/"))),d&&v.push(...h),v.map(g=>o.startsWith("/")&&g===""?"/":g)}function Cv(o){o.sort((l,s)=>l.score!==s.score?s.score-l.score:Lv(l.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var Rv=/^:[\w-]+$/,Ov=3,kv=2,Dv=1,Uv=10,zv=-2,Gm=o=>o==="*";function Mv(o,l){let s=o.split("/"),i=s.length;return s.some(Gm)&&(i+=zv),l&&(i+=kv),s.filter(d=>!Gm(d)).reduce((d,f)=>d+(Rv.test(f)?Ov:f===""?Dv:Uv),i)}function Lv(o,l){return o.length===l.length&&o.slice(0,-1).every((i,d)=>i===l[d])?o[o.length-1]-l[l.length-1]:0}function qv(o,l,s=!1){let{routesMeta:i}=o,d={},f="/",h=[];for(let v=0;v<i.length;++v){let g=i[v],p=v===i.length-1,b=f==="/"?l:l.slice(f.length)||"/",x=Nr({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},b),j=g.route;if(!x&&p&&s&&!i[i.length-1].route.index&&(x=Nr({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!x)return null;Object.assign(d,x.params),h.push({params:d,pathname:Qa([f,x.pathname]),pathnameBase:Vv(Qa([f,x.pathnameBase])),route:j}),x.pathnameBase!=="/"&&(f=Qa([f,x.pathnameBase]))}return h}function Nr(o,l){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[s,i]=Bv(o.path,o.caseSensitive,o.end),d=l.match(s);if(!d)return null;let f=d[0],h=f.replace(/(.)\/+$/,"$1"),v=d.slice(1);return{params:i.reduce((p,{paramName:b,isOptional:x},j)=>{if(b==="*"){let T=v[j]||"";h=f.slice(0,f.length-T.length).replace(/(.)\/+$/,"$1")}const A=v[j];return x&&!A?p[b]=void 0:p[b]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:h,pattern:o}}function Bv(o,l=!1,s=!0){fa(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let i=[],d="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,v,g)=>(i.push({paramName:v,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return o.endsWith("*")?(i.push({paramName:"*"}),d+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?d+="\\/*$":o!==""&&o!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,l?void 0:"i"),i]}function Hv(o){try{return o.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return fa(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),o}}function Xa(o,l){if(l==="/")return o;if(!o.toLowerCase().startsWith(l.toLowerCase()))return null;let s=l.endsWith("/")?l.length-1:l.length,i=o.charAt(s);return i&&i!=="/"?null:o.slice(s)||"/"}function $v(o,l="/"){let{pathname:s,search:i="",hash:d=""}=typeof o=="string"?Wl(o):o;return{pathname:s?s.startsWith("/")?s:Gv(s,l):l,search:Qv(i),hash:Xv(d)}}function Gv(o,l){let s=l.replace(/\/+$/,"").split("/");return o.split("/").forEach(d=>{d===".."?s.length>1&&s.pop():d!=="."&&s.push(d)}),s.length>1?s.join("/"):"/"}function Pu(o,l,s,i){return`Cannot include a '${o}' character in a manually specified \`to.${l}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yv(o){return o.filter((l,s)=>s===0||l.route.path&&l.route.path.length>0)}function Sc(o){let l=Yv(o);return l.map((s,i)=>i===l.length-1?s.pathname:s.pathnameBase)}function jc(o,l,s,i=!1){let d;typeof o=="string"?d=Wl(o):(d={...o},Ke(!d.pathname||!d.pathname.includes("?"),Pu("?","pathname","search",d)),Ke(!d.pathname||!d.pathname.includes("#"),Pu("#","pathname","hash",d)),Ke(!d.search||!d.search.includes("#"),Pu("#","search","hash",d)));let f=o===""||d.pathname==="",h=f?"/":d.pathname,v;if(h==null)v=s;else{let x=l.length-1;if(!i&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),x-=1;d.pathname=j.join("/")}v=x>=0?l[x]:"/"}let g=$v(d,v),p=h&&h!=="/"&&h.endsWith("/"),b=(f||h===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(p||b)&&(g.pathname+="/"),g}var Qa=o=>o.join("/").replace(/\/\/+/g,"/"),Vv=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Qv=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Xv=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Kv(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var _0=["POST","PUT","PATCH","DELETE"];new Set(_0);var Jv=["GET",..._0];new Set(Jv);var Il=S.createContext(null);Il.displayName="DataRouter";var Rr=S.createContext(null);Rr.displayName="DataRouterState";S.createContext(!1);var S0=S.createContext({isTransitioning:!1});S0.displayName="ViewTransition";var Zv=S.createContext(new Map);Zv.displayName="Fetchers";var Fv=S.createContext(null);Fv.displayName="Await";var ha=S.createContext(null);ha.displayName="Navigation";var ei=S.createContext(null);ei.displayName="Location";var _a=S.createContext({outlet:null,matches:[],isDataRoute:!1});_a.displayName="Route";var Ec=S.createContext(null);Ec.displayName="RouteError";function Pv(o,{relative:l}={}){Ke(es(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=S.useContext(ha),{hash:d,pathname:f,search:h}=ti(o,{relative:l}),v=f;return s!=="/"&&(v=f==="/"?s:Qa([s,f])),i.createHref({pathname:v,search:h,hash:d})}function es(){return S.useContext(ei)!=null}function Ka(){return Ke(es(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(ei).location}var j0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(o){S.useContext(ha).static||S.useLayoutEffect(o)}function Wn(){let{isDataRoute:o}=S.useContext(_a);return o?cy():Wv()}function Wv(){Ke(es(),"useNavigate() may be used only in the context of a <Router> component.");let o=S.useContext(Il),{basename:l,navigator:s}=S.useContext(ha),{matches:i}=S.useContext(_a),{pathname:d}=Ka(),f=JSON.stringify(Sc(i)),h=S.useRef(!1);return E0(()=>{h.current=!0}),S.useCallback((g,p={})=>{if(fa(h.current,j0),!h.current)return;if(typeof g=="number"){s.go(g);return}let b=jc(g,JSON.parse(f),d,p.relative==="path");o==null&&l!=="/"&&(b.pathname=b.pathname==="/"?l:Qa([l,b.pathname])),(p.replace?s.replace:s.push)(b,p.state,p)},[l,s,f,d,o])}S.createContext(null);function ti(o,{relative:l}={}){let{matches:s}=S.useContext(_a),{pathname:i}=Ka(),d=JSON.stringify(Sc(s));return S.useMemo(()=>jc(o,JSON.parse(d),i,l==="path"),[o,d,i,l])}function Iv(o,l){return N0(o,l)}function N0(o,l,s,i,d){var G;Ke(es(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=S.useContext(ha),{matches:h}=S.useContext(_a),v=h[h.length-1],g=v?v.params:{},p=v?v.pathname:"/",b=v?v.pathnameBase:"/",x=v&&v.route;{let k=x&&x.path||"";T0(p,!x||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let j=Ka(),A;if(l){let k=typeof l=="string"?Wl(l):l;Ke(b==="/"||((G=k.pathname)==null?void 0:G.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${k.pathname}" was given in the \`location\` prop.`),A=k}else A=j;let T=A.pathname||"/",z=T;if(b!=="/"){let k=b.replace(/^\//,"").split("/");z="/"+T.replace(/^\//,"").split("/").slice(k.length).join("/")}let L=b0(o,{pathname:z});fa(x||L!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),fa(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=ly(L&&L.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:Qa([b,f.encodeLocation?f.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?b:Qa([b,f.encodeLocation?f.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),h,s,i,d);return l&&Y?S.createElement(ei.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},Y):Y}function ey(){let o=uy(),l=Kv(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),s=o instanceof Error?o.stack:null,i="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:i},f={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",o),h=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:f},"ErrorBoundary")," or"," ",S.createElement("code",{style:f},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},l),s?S.createElement("pre",{style:d},s):null,h)}var ty=S.createElement(ey,null),ay=class extends S.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,l){return l.location!==o.location||l.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:l.error,location:l.location,revalidation:o.revalidation||l.revalidation}}componentDidCatch(o,l){this.props.unstable_onError?this.props.unstable_onError(o,l):console.error("React Router caught the following error during render",o)}render(){return this.state.error!==void 0?S.createElement(_a.Provider,{value:this.props.routeContext},S.createElement(Ec.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ny({routeContext:o,match:l,children:s}){let i=S.useContext(Il);return i&&i.static&&i.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=l.route.id),S.createElement(_a.Provider,{value:o},s)}function ly(o,l=[],s=null,i=null,d=null){if(o==null){if(!s)return null;if(s.errors)o=s.matches;else if(l.length===0&&!s.initialized&&s.matches.length>0)o=s.matches;else return null}let f=o,h=s==null?void 0:s.errors;if(h!=null){let p=f.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);Ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,p+1))}let v=!1,g=-1;if(s)for(let p=0;p<f.length;p++){let b=f[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=p),b.route.id){let{loaderData:x,errors:j}=s,A=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||A){v=!0,g>=0?f=f.slice(0,g+1):f=[f[0]];break}}}return f.reduceRight((p,b,x)=>{let j,A=!1,T=null,z=null;s&&(j=h&&b.route.id?h[b.route.id]:void 0,T=b.route.errorElement||ty,v&&(g<0&&x===0?(T0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,z=null):g===x&&(A=!0,z=b.route.hydrateFallbackElement||null)));let L=l.concat(f.slice(0,x+1)),Y=()=>{let G;return j?G=T:A?G=z:b.route.Component?G=S.createElement(b.route.Component,null):b.route.element?G=b.route.element:G=p,S.createElement(ny,{match:b,routeContext:{outlet:p,matches:L,isDataRoute:s!=null},children:G})};return s&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?S.createElement(ay,{location:s.location,revalidation:s.revalidation,component:T,error:j,children:Y(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:i}):Y()},null)}function Nc(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sy(o){let l=S.useContext(Il);return Ke(l,Nc(o)),l}function iy(o){let l=S.useContext(Rr);return Ke(l,Nc(o)),l}function ry(o){let l=S.useContext(_a);return Ke(l,Nc(o)),l}function Tc(o){let l=ry(o),s=l.matches[l.matches.length-1];return Ke(s.route.id,`${o} can only be used on routes that contain a unique "id"`),s.route.id}function oy(){return Tc("useRouteId")}function uy(){var i;let o=S.useContext(Ec),l=iy("useRouteError"),s=Tc("useRouteError");return o!==void 0?o:(i=l.errors)==null?void 0:i[s]}function cy(){let{router:o}=sy("useNavigate"),l=Tc("useNavigate"),s=S.useRef(!1);return E0(()=>{s.current=!0}),S.useCallback(async(d,f={})=>{fa(s.current,j0),s.current&&(typeof d=="number"?o.navigate(d):await o.navigate(d,{fromRouteId:l,...f}))},[o,l])}var Ym={};function T0(o,l,s){!l&&!Ym[o]&&(Ym[o]=!0,fa(!1,s))}S.memo(dy);function dy({routes:o,future:l,state:s,unstable_onError:i}){return N0(o,void 0,s,i,l)}function A0({to:o,replace:l,state:s,relative:i}){Ke(es(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=S.useContext(ha);fa(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=S.useContext(_a),{pathname:h}=Ka(),v=Wn(),g=jc(o,Sc(f),h,i==="path"),p=JSON.stringify(g);return S.useEffect(()=>{v(JSON.parse(p),{replace:l,state:s,relative:i})},[v,p,i,l,s]),null}function Sn(o){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fy({basename:o="/",children:l=null,location:s,navigationType:i="POP",navigator:d,static:f=!1}){Ke(!es(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=o.replace(/^\/*/,"/"),v=S.useMemo(()=>({basename:h,navigator:d,static:f,future:{}}),[h,d,f]);typeof s=="string"&&(s=Wl(s));let{pathname:g="/",search:p="",hash:b="",state:x=null,key:j="default"}=s,A=S.useMemo(()=>{let T=Xa(g,h);return T==null?null:{location:{pathname:T,search:p,hash:b,state:x,key:j},navigationType:i}},[h,g,p,b,x,j,i]);return fa(A!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:S.createElement(ha.Provider,{value:v},S.createElement(ei.Provider,{children:l,value:A}))}function hy({children:o,location:l}){return Iv(uc(o),l)}function uc(o,l=[]){let s=[];return S.Children.forEach(o,(i,d)=>{if(!S.isValidElement(i))return;let f=[...l,d];if(i.type===S.Fragment){s.push.apply(s,uc(i.props.children,f));return}Ke(i.type===Sn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||f.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=uc(i.props.children,f)),s.push(h)}),s}var jr="get",Er="application/x-www-form-urlencoded";function Or(o){return o!=null&&typeof o.tagName=="string"}function my(o){return Or(o)&&o.tagName.toLowerCase()==="button"}function gy(o){return Or(o)&&o.tagName.toLowerCase()==="form"}function py(o){return Or(o)&&o.tagName.toLowerCase()==="input"}function vy(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function yy(o,l){return o.button===0&&(!l||l==="_self")&&!vy(o)}var vr=null;function by(){if(vr===null)try{new FormData(document.createElement("form"),0),vr=!1}catch{vr=!0}return vr}var xy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wu(o){return o!=null&&!xy.has(o)?(fa(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Er}"`),null):o}function wy(o,l){let s,i,d,f,h;if(gy(o)){let v=o.getAttribute("action");i=v?Xa(v,l):null,s=o.getAttribute("method")||jr,d=Wu(o.getAttribute("enctype"))||Er,f=new FormData(o)}else if(my(o)||py(o)&&(o.type==="submit"||o.type==="image")){let v=o.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=o.getAttribute("formaction")||v.getAttribute("action");if(i=g?Xa(g,l):null,s=o.getAttribute("formmethod")||v.getAttribute("method")||jr,d=Wu(o.getAttribute("formenctype"))||Wu(v.getAttribute("enctype"))||Er,f=new FormData(v,o),!by()){let{name:p,type:b,value:x}=o;if(b==="image"){let j=p?`${p}.`:"";f.append(`${j}x`,"0"),f.append(`${j}y`,"0")}else p&&f.append(p,x)}}else{if(Or(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=jr,i=null,d=Er,h=o}return f&&d==="text/plain"&&(h=f,f=void 0),{action:i,method:s.toLowerCase(),encType:d,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ac(o,l){if(o===!1||o===null||typeof o>"u")throw new Error(l)}function _y(o,l,s){let i=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return i.pathname==="/"?i.pathname=`_root.${s}`:l&&Xa(i.pathname,l)==="/"?i.pathname=`${l.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function Sy(o,l){if(o.id in l)return l[o.id];try{let s=await import(o.module);return l[o.id]=s,s}catch(s){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jy(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function Ey(o,l,s){let i=await Promise.all(o.map(async d=>{let f=l.routes[d.route.id];if(f){let h=await Sy(f,s);return h.links?h.links():[]}return[]}));return Cy(i.flat(1).filter(jy).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Vm(o,l,s,i,d,f){let h=(g,p)=>s[p]?g.route.id!==s[p].route.id:!0,v=(g,p)=>{var b;return s[p].pathname!==g.pathname||((b=s[p].route.path)==null?void 0:b.endsWith("*"))&&s[p].params["*"]!==g.params["*"]};return f==="assets"?l.filter((g,p)=>h(g,p)||v(g,p)):f==="data"?l.filter((g,p)=>{var x;let b=i.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,p)||v(g,p))return!0;if(g.route.shouldRevalidate){let j=g.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:((x=s[0])==null?void 0:x.params)||{},nextUrl:new URL(o,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function Ny(o,l,{includeHydrateFallback:s}={}){return Ty(o.map(i=>{let d=l.routes[i.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),s&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function Ty(o){return[...new Set(o)]}function Ay(o){let l={},s=Object.keys(o).sort();for(let i of s)l[i]=o[i];return l}function Cy(o,l){let s=new Set;return new Set(l),o.reduce((i,d)=>{let f=JSON.stringify(Ay(d));return s.has(f)||(s.add(f),i.push({key:f,link:d})),i},[])}function C0(){let o=S.useContext(Il);return Ac(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function Ry(){let o=S.useContext(Rr);return Ac(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Cc=S.createContext(void 0);Cc.displayName="FrameworkContext";function R0(){let o=S.useContext(Cc);return Ac(o,"You must render this element inside a <HydratedRouter> element"),o}function Oy(o,l){let s=S.useContext(Cc),[i,d]=S.useState(!1),[f,h]=S.useState(!1),{onFocus:v,onBlur:g,onMouseEnter:p,onMouseLeave:b,onTouchStart:x}=l,j=S.useRef(null);S.useEffect(()=>{if(o==="render"&&h(!0),o==="viewport"){let z=Y=>{Y.forEach(G=>{h(G.isIntersecting)})},L=new IntersectionObserver(z,{threshold:.5});return j.current&&L.observe(j.current),()=>{L.disconnect()}}},[o]),S.useEffect(()=>{if(i){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[i]);let A=()=>{d(!0)},T=()=>{d(!1),h(!1)};return s?o!=="intent"?[f,j,{}]:[f,j,{onFocus:Ks(v,A),onBlur:Ks(g,T),onMouseEnter:Ks(p,A),onMouseLeave:Ks(b,T),onTouchStart:Ks(x,A)}]:[!1,j,{}]}function Ks(o,l){return s=>{o&&o(s),s.defaultPrevented||l(s)}}function ky({page:o,...l}){let{router:s}=C0(),i=S.useMemo(()=>b0(s.routes,o,s.basename),[s.routes,o,s.basename]);return i?S.createElement(Uy,{page:o,matches:i,...l}):null}function Dy(o){let{manifest:l,routeModules:s}=R0(),[i,d]=S.useState([]);return S.useEffect(()=>{let f=!1;return Ey(o,l,s).then(h=>{f||d(h)}),()=>{f=!0}},[o,l,s]),i}function Uy({page:o,matches:l,...s}){let i=Ka(),{manifest:d,routeModules:f}=R0(),{basename:h}=C0(),{loaderData:v,matches:g}=Ry(),p=S.useMemo(()=>Vm(o,l,g,d,i,"data"),[o,l,g,d,i]),b=S.useMemo(()=>Vm(o,l,g,d,i,"assets"),[o,l,g,d,i]),x=S.useMemo(()=>{if(o===i.pathname+i.search+i.hash)return[];let T=new Set,z=!1;if(l.forEach(Y=>{var k;let G=d.routes[Y.route.id];!G||!G.hasLoader||(!p.some(Q=>Q.route.id===Y.route.id)&&Y.route.id in v&&((k=f[Y.route.id])!=null&&k.shouldRevalidate)||G.hasClientLoader?z=!0:T.add(Y.route.id))}),T.size===0)return[];let L=_y(o,h,"data");return z&&T.size>0&&L.searchParams.set("_routes",l.filter(Y=>T.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[L.pathname+L.search]},[h,v,i,d,p,l,o,f]),j=S.useMemo(()=>Ny(b,d),[b,d]),A=Dy(b);return S.createElement(S.Fragment,null,x.map(T=>S.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...s})),j.map(T=>S.createElement("link",{key:T,rel:"modulepreload",href:T,...s})),A.map(({key:T,link:z})=>S.createElement("link",{key:T,nonce:s.nonce,...z})))}function zy(...o){return l=>{o.forEach(s=>{typeof s=="function"?s(l):s!=null&&(s.current=l)})}}var O0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O0&&(window.__reactRouterVersion="7.9.1")}catch{}function My({basename:o,children:l,window:s}){let i=S.useRef();i.current==null&&(i.current=jv({window:s,v5Compat:!0}));let d=i.current,[f,h]=S.useState({action:d.action,location:d.location}),v=S.useCallback(g=>{S.startTransition(()=>h(g))},[h]);return S.useLayoutEffect(()=>d.listen(v),[d,v]),S.createElement(fy,{basename:o,children:l,location:f.location,navigationType:f.action,navigator:d})}var k0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tr=S.forwardRef(function({onClick:l,discover:s="render",prefetch:i="none",relative:d,reloadDocument:f,replace:h,state:v,target:g,to:p,preventScrollReset:b,viewTransition:x,...j},A){let{basename:T}=S.useContext(ha),z=typeof p=="string"&&k0.test(p),L,Y=!1;if(typeof p=="string"&&z&&(L=p,O0))try{let Ee=new URL(window.location.href),Je=p.startsWith("//")?new URL(Ee.protocol+p):new URL(p),Ve=Xa(Je.pathname,T);Je.origin===Ee.origin&&Ve!=null?p=Ve+Je.search+Je.hash:Y=!0}catch{fa(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Pv(p,{relative:d}),[k,Q,te]=Oy(i,j),P=Hy(p,{replace:h,state:v,target:g,preventScrollReset:b,relative:d,viewTransition:x});function ee(Ee){l&&l(Ee),Ee.defaultPrevented||P(Ee)}let ge=S.createElement("a",{...j,...te,href:L||G,onClick:Y||f?l:ee,ref:zy(A,Q),target:g,"data-discover":!z&&s==="render"?"true":void 0});return k&&!z?S.createElement(S.Fragment,null,ge,S.createElement(ky,{page:G})):ge});Tr.displayName="Link";var Ly=S.forwardRef(function({"aria-current":l="page",caseSensitive:s=!1,className:i="",end:d=!1,style:f,to:h,viewTransition:v,children:g,...p},b){let x=ti(h,{relative:p.relative}),j=Ka(),A=S.useContext(Rr),{navigator:T,basename:z}=S.useContext(ha),L=A!=null&&Qy(x)&&v===!0,Y=T.encodeLocation?T.encodeLocation(x).pathname:x.pathname,G=j.pathname,k=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;s||(G=G.toLowerCase(),k=k?k.toLowerCase():null,Y=Y.toLowerCase()),k&&z&&(k=Xa(k,z)||k);const Q=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let te=G===Y||!d&&G.startsWith(Y)&&G.charAt(Q)==="/",P=k!=null&&(k===Y||!d&&k.startsWith(Y)&&k.charAt(Y.length)==="/"),ee={isActive:te,isPending:P,isTransitioning:L},ge=te?l:void 0,Ee;typeof i=="function"?Ee=i(ee):Ee=[i,te?"active":null,P?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let Je=typeof f=="function"?f(ee):f;return S.createElement(Tr,{...p,"aria-current":ge,className:Ee,ref:b,style:Je,to:h,viewTransition:v},typeof g=="function"?g(ee):g)});Ly.displayName="NavLink";var qy=S.forwardRef(({discover:o="render",fetcherKey:l,navigate:s,reloadDocument:i,replace:d,state:f,method:h=jr,action:v,onSubmit:g,relative:p,preventScrollReset:b,viewTransition:x,...j},A)=>{let T=Yy(),z=Vy(v,{relative:p}),L=h.toLowerCase()==="get"?"get":"post",Y=typeof v=="string"&&k0.test(v),G=k=>{if(g&&g(k),k.defaultPrevented)return;k.preventDefault();let Q=k.nativeEvent.submitter,te=(Q==null?void 0:Q.getAttribute("formmethod"))||h;T(Q||k.currentTarget,{fetcherKey:l,method:te,navigate:s,replace:d,state:f,relative:p,preventScrollReset:b,viewTransition:x})};return S.createElement("form",{ref:A,method:L,action:z,onSubmit:i?g:G,...j,"data-discover":!Y&&o==="render"?"true":void 0})});qy.displayName="Form";function By(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D0(o){let l=S.useContext(Il);return Ke(l,By(o)),l}function Hy(o,{target:l,replace:s,state:i,preventScrollReset:d,relative:f,viewTransition:h}={}){let v=Wn(),g=Ka(),p=ti(o,{relative:f});return S.useCallback(b=>{if(yy(b,l)){b.preventDefault();let x=s!==void 0?s:Ws(g)===Ws(p);v(o,{replace:x,state:i,preventScrollReset:d,relative:f,viewTransition:h})}},[g,v,p,s,i,l,o,d,f,h])}var $y=0,Gy=()=>`__${String(++$y)}__`;function Yy(){let{router:o}=D0("useSubmit"),{basename:l}=S.useContext(ha),s=oy();return S.useCallback(async(i,d={})=>{let{action:f,method:h,encType:v,formData:g,body:p}=wy(i,l);if(d.navigate===!1){let b=d.fetcherKey||Gy();await o.fetch(b,s,d.action||f,{preventScrollReset:d.preventScrollReset,formData:g,body:p,formMethod:d.method||h,formEncType:d.encType||v,flushSync:d.flushSync})}else await o.navigate(d.action||f,{preventScrollReset:d.preventScrollReset,formData:g,body:p,formMethod:d.method||h,formEncType:d.encType||v,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[o,l,s])}function Vy(o,{relative:l}={}){let{basename:s}=S.useContext(ha),i=S.useContext(_a);Ke(i,"useFormAction must be used inside a RouteContext");let[d]=i.matches.slice(-1),f={...ti(o||".",{relative:l})},h=Ka();if(o==null){f.search=h.search;let v=new URLSearchParams(f.search),g=v.getAll("index");if(g.some(b=>b==="")){v.delete("index"),g.filter(x=>x).forEach(x=>v.append("index",x));let b=v.toString();f.search=b?`?${b}`:""}}return(!o||o===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(f.pathname=f.pathname==="/"?s:Qa([s,f.pathname])),Ws(f)}function Qy(o,{relative:l}={}){let s=S.useContext(S0);Ke(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=D0("useViewTransitionState"),d=ti(o,{relative:l});if(!s.isTransitioning)return!1;let f=Xa(s.currentLocation.pathname,i)||s.currentLocation.pathname,h=Xa(s.nextLocation.pathname,i)||s.nextLocation.pathname;return Nr(d.pathname,h)!=null||Nr(d.pathname,f)!=null}const Xy="modulepreload",Ky=function(o){return"/"+o},Qm={},ai=function(l,s,i){let d=Promise.resolve();if(s&&s.length>0){let h=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),g=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));d=h(s.map(p=>{if(p=Ky(p),p in Qm)return;Qm[p]=!0;const b=p.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const j=document.createElement("link");if(j.rel=b?"stylesheet":Xy,b||(j.as="script"),j.crossOrigin="",j.href=p,g&&j.setAttribute("nonce",g),document.head.appendChild(j),b)return new Promise((A,T)=>{j.addEventListener("load",A),j.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function f(h){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=h,window.dispatchEvent(v),!v.defaultPrevented)throw h}return d.then(h=>{for(const v of h||[])v.status==="rejected"&&f(v.reason);return l().catch(f)})},Jy=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...s)=>ai(async()=>{const{default:i}=await Promise.resolve().then(()=>ts);return{default:i}},[]).then(({default:i})=>i(...s)):l=fetch,(...s)=>l(...s)};class Rc extends Error{constructor(l,s="FunctionsError",i){super(l),this.name=s,this.context=i}}class Zy extends Rc{constructor(l){super("Failed to send a request to the Edge Function","FunctionsFetchError",l)}}class Xm extends Rc{constructor(l){super("Relay Error invoking the Edge Function","FunctionsRelayError",l)}}class Km extends Rc{constructor(l){super("Edge Function returned a non-2xx status code","FunctionsHttpError",l)}}var cc;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(cc||(cc={}));var Fy=function(o,l,s,i){function d(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function v(b){try{p(i.next(b))}catch(x){h(x)}}function g(b){try{p(i.throw(b))}catch(x){h(x)}}function p(b){b.done?f(b.value):d(b.value).then(v,g)}p((i=i.apply(o,l||[])).next())})};class Py{constructor(l,{headers:s={},customFetch:i,region:d=cc.Any}={}){this.url=l,this.headers=s,this.region=d,this.fetch=Jy(i)}setAuth(l){this.headers.Authorization=`Bearer ${l}`}invoke(l,s={}){var i;return Fy(this,void 0,void 0,function*(){try{const{headers:d,method:f,body:h}=s;let v={},{region:g}=s;g||(g=this.region);const p=new URL(`${this.url}/${l}`);g&&g!=="any"&&(v["x-region"]=g,p.searchParams.set("forceFunctionRegion",g));let b;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",b=h):typeof h=="string"?(v["Content-Type"]="text/plain",b=h):typeof FormData<"u"&&h instanceof FormData?b=h:(v["Content-Type"]="application/json",b=JSON.stringify(h)));const x=yield this.fetch(p.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),d),body:b}).catch(z=>{throw new Zy(z)}),j=x.headers.get("x-relay-error");if(j&&j==="true")throw new Xm(x);if(!x.ok)throw new Km(x);let A=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return A==="application/json"?T=yield x.json():A==="application/octet-stream"?T=yield x.blob():A==="text/event-stream"?T=x:A==="multipart/form-data"?T=yield x.formData():T=yield x.text(),{data:T,error:null,response:x}}catch(d){return{data:null,error:d,response:d instanceof Km||d instanceof Xm?d.context:void 0}}})}}var xt={},Bl={},Hl={},$l={},Gl={},Yl={},Wy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pl=Wy();const Iy=Pl.fetch,U0=Pl.fetch.bind(Pl),z0=Pl.Headers,eb=Pl.Request,tb=Pl.Response,ts=Object.freeze(Object.defineProperty({__proto__:null,Headers:z0,Request:eb,Response:tb,default:U0,fetch:Iy},Symbol.toStringTag,{value:"Module"})),ab=dv(ts);var yr={},Jm;function M0(){if(Jm)return yr;Jm=1,Object.defineProperty(yr,"__esModule",{value:!0});class o extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return yr.default=o,yr}var Zm;function L0(){if(Zm)return Yl;Zm=1;var o=Yl&&Yl.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Yl,"__esModule",{value:!0});const l=o(ab),s=o(M0());class i{constructor(f){var h,v;this.shouldThrowOnError=!1,this.method=f.method,this.url=f.url,this.headers=new Headers(f.headers),this.schema=f.schema,this.body=f.body,this.shouldThrowOnError=(h=f.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=f.signal,this.isMaybeSingle=(v=f.isMaybeSingle)!==null&&v!==void 0?v:!1,f.fetch?this.fetch=f.fetch:typeof fetch>"u"?this.fetch=l.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(f,h){return this.headers=new Headers(this.headers),this.headers.set(f,h),this}then(f,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const v=this.fetch;let g=v(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var b,x,j,A;let T=null,z=null,L=null,Y=p.status,G=p.statusText;if(p.ok){if(this.method!=="HEAD"){const P=await p.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?z=P:z=JSON.parse(P))}const Q=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),te=(j=p.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");Q&&te&&te.length>1&&(L=parseInt(te[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(z)&&(z.length>1?(T={code:"PGRST116",details:`Results contain ${z.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},z=null,L=null,Y=406,G="Not Acceptable"):z.length===1?z=z[0]:z=null)}else{const Q=await p.text();try{T=JSON.parse(Q),Array.isArray(T)&&p.status===404&&(z=[],T=null,Y=200,G="OK")}catch{p.status===404&&Q===""?(Y=204,G="No Content"):T={message:Q}}if(T&&this.isMaybeSingle&&(!((A=T==null?void 0:T.details)===null||A===void 0)&&A.includes("0 rows"))&&(T=null,Y=200,G="OK"),T&&this.shouldThrowOnError)throw new s.default(T)}return{error:T,data:z,count:L,status:Y,statusText:G}});return this.shouldThrowOnError||(g=g.catch(p=>{var b,x,j;return{error:{message:`${(b=p==null?void 0:p.name)!==null&&b!==void 0?b:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(x=p==null?void 0:p.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(j=p==null?void 0:p.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),g.then(f,h)}returns(){return this}overrideTypes(){return this}}return Yl.default=i,Yl}var Fm;function q0(){if(Fm)return Gl;Fm=1;var o=Gl&&Gl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Gl,"__esModule",{value:!0});const l=o(L0());class s extends l.default{select(d){let f=!1;const h=(d??"*").split("").map(v=>/\s/.test(v)&&!f?"":(v==='"'&&(f=!f),v)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(d,{ascending:f=!0,nullsFirst:h,foreignTable:v,referencedTable:g=v}={}){const p=g?`${g}.order`:"order",b=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${b?`${b},`:""}${d}.${f?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(d,{foreignTable:f,referencedTable:h=f}={}){const v=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(v,`${d}`),this}range(d,f,{foreignTable:h,referencedTable:v=h}={}){const g=typeof v>"u"?"offset":`${v}.offset`,p=typeof v>"u"?"limit":`${v}.limit`;return this.url.searchParams.set(g,`${d}`),this.url.searchParams.set(p,`${f-d+1}`),this}abortSignal(d){return this.signal=d,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:d=!1,verbose:f=!1,settings:h=!1,buffers:v=!1,wal:g=!1,format:p="text"}={}){var b;const x=[d?"analyze":null,f?"verbose":null,h?"settings":null,v?"buffers":null,g?"wal":null].filter(Boolean).join("|"),j=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${j}"; options=${x};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(d){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${d}`),this}}return Gl.default=s,Gl}var Pm;function Oc(){if(Pm)return $l;Pm=1;var o=$l&&$l.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty($l,"__esModule",{value:!0});const l=o(q0());class s extends l.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}in(d,f){const h=Array.from(new Set(f)).map(v=>typeof v=="string"&&new RegExp("[,()]").test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(d,`in.(${h})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:h,type:v}={}){let g="";v==="plain"?g="pl":v==="phrase"?g="ph":v==="websearch"&&(g="w");const p=h===void 0?"":`(${h})`;return this.url.searchParams.append(d,`${g}fts${p}.${f}`),this}match(d){return Object.entries(d).forEach(([f,h])=>{this.url.searchParams.append(f,`eq.${h}`)}),this}not(d,f,h){return this.url.searchParams.append(d,`not.${f}.${h}`),this}or(d,{foreignTable:f,referencedTable:h=f}={}){const v=h?`${h}.or`:"or";return this.url.searchParams.append(v,`(${d})`),this}filter(d,f,h){return this.url.searchParams.append(d,`${f}.${h}`),this}}return $l.default=s,$l}var Wm;function B0(){if(Wm)return Hl;Wm=1;var o=Hl&&Hl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Hl,"__esModule",{value:!0});const l=o(Oc());class s{constructor(d,{headers:f={},schema:h,fetch:v}){this.url=d,this.headers=new Headers(f),this.schema=h,this.fetch=v}select(d,{head:f=!1,count:h}={}){const v=f?"HEAD":"GET";let g=!1;const p=(d??"*").split("").map(b=>/\s/.test(b)&&!g?"":(b==='"'&&(g=!g),b)).join("");return this.url.searchParams.set("select",p),h&&this.headers.append("Prefer",`count=${h}`),new l.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(d,{count:f,defaultToNull:h=!0}={}){var v;const g="POST";if(f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const p=d.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(p.length>0){const b=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new l.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}upsert(d,{onConflict:f,ignoreDuplicates:h=!1,count:v,defaultToNull:g=!0}={}){var p;const b="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),f!==void 0&&this.url.searchParams.set("on_conflict",f),v&&this.headers.append("Prefer",`count=${v}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const x=d.reduce((j,A)=>j.concat(Object.keys(A)),[]);if(x.length>0){const j=[...new Set(x)].map(A=>`"${A}"`);this.url.searchParams.set("columns",j.join(","))}}return new l.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(d,{count:f}={}){var h;const v="PATCH";return f&&this.headers.append("Prefer",`count=${f}`),new l.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:d}={}){var f;const h="DELETE";return d&&this.headers.append("Prefer",`count=${d}`),new l.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Hl.default=s,Hl}var Im;function nb(){if(Im)return Bl;Im=1;var o=Bl&&Bl.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Bl,"__esModule",{value:!0});const l=o(B0()),s=o(Oc());class i{constructor(f,{headers:h={},schema:v,fetch:g}={}){this.url=f,this.headers=new Headers(h),this.schemaName=v,this.fetch=g}from(f){const h=new URL(`${this.url}/${f}`);return new l.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new i(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,h={},{head:v=!1,get:g=!1,count:p}={}){var b;let x;const j=new URL(`${this.url}/rpc/${f}`);let A;v||g?(x=v?"HEAD":"GET",Object.entries(h).filter(([z,L])=>L!==void 0).map(([z,L])=>[z,Array.isArray(L)?`{${L.join(",")}}`:`${L}`]).forEach(([z,L])=>{j.searchParams.append(z,L)})):(x="POST",A=h);const T=new Headers(this.headers);return p&&T.set("Prefer",`count=${p}`),new s.default({method:x,url:j,headers:T,schema:this.schemaName,body:A,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return Bl.default=i,Bl}var e0;function lb(){if(e0)return xt;e0=1;var o=xt&&xt.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(xt,"__esModule",{value:!0}),xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const l=o(nb());xt.PostgrestClient=l.default;const s=o(B0());xt.PostgrestQueryBuilder=s.default;const i=o(Oc());xt.PostgrestFilterBuilder=i.default;const d=o(q0());xt.PostgrestTransformBuilder=d.default;const f=o(L0());xt.PostgrestBuilder=f.default;const h=o(M0());return xt.PostgrestError=h.default,xt.default={PostgrestClient:l.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:d.default,PostgrestBuilder:f.default,PostgrestError:h.default},xt}var sb=lb();const ib=wc(sb),{PostgrestClient:rb,PostgrestQueryBuilder:i1,PostgrestFilterBuilder:r1,PostgrestTransformBuilder:o1,PostgrestBuilder:u1,PostgrestError:c1}=ib;class ob{static detectEnvironment(){var l;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((l=navigator.userAgent)===null||l===void 0)&&l.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,d=parseInt(i.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const l=this.detectEnvironment();if(l.constructor)return l.constructor;let s=l.error||"WebSocket not supported in this environment.";throw l.workaround&&(s+=`

Suggested solution: ${l.workaround}`),new Error(s)}static createWebSocket(l,s){const i=this.getWebSocketConstructor();return new i(l,s)}static isWebSocketSupported(){try{const l=this.detectEnvironment();return l.type==="native"||l.type==="ws"}catch{return!1}}}const ub="2.15.5",cb=`realtime-js/${ub}`,db="1.0.0",dc=1e4,fb=1e3,hb=100;var Zs;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Zs||(Zs={}));var mt;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(mt||(mt={}));var da;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(da||(da={}));var fc;(function(o){o.websocket="websocket"})(fc||(fc={}));var Pn;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Pn||(Pn={}));class mb{constructor(){this.HEADER_LENGTH=1}decode(l,s){return l.constructor===ArrayBuffer?s(this._binaryDecode(l)):s(typeof l=="string"?JSON.parse(l):{})}_binaryDecode(l){const s=new DataView(l),i=new TextDecoder;return this._decodeBroadcast(l,s,i)}_decodeBroadcast(l,s,i){const d=s.getUint8(1),f=s.getUint8(2);let h=this.HEADER_LENGTH+2;const v=i.decode(l.slice(h,h+d));h=h+d;const g=i.decode(l.slice(h,h+f));h=h+f;const p=JSON.parse(i.decode(l.slice(h,l.byteLength)));return{ref:null,topic:v,event:g,payload:p}}}class H0{constructor(l,s){this.callback=l,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=l,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(He||(He={}));const t0=(o,l,s={})=>{var i;const d=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(l).reduce((f,h)=>(f[h]=gb(h,o,l,d),f),{})},gb=(o,l,s,i)=>{const d=l.find(v=>v.name===o),f=d==null?void 0:d.type,h=s[o];return f&&!i.includes(f)?$0(f,h):hc(h)},$0=(o,l)=>{if(o.charAt(0)==="_"){const s=o.slice(1,o.length);return bb(l,s)}switch(o){case He.bool:return pb(l);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return vb(l);case He.json:case He.jsonb:return yb(l);case He.timestamp:return xb(l);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return hc(l);default:return hc(l)}},hc=o=>o,pb=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},vb=o=>{if(typeof o=="string"){const l=parseFloat(o);if(!Number.isNaN(l))return l}return o},yb=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(l){return console.log(`JSON parse error: ${l}`),o}return o},bb=(o,l)=>{if(typeof o!="string")return o;const s=o.length-1,i=o[s];if(o[0]==="{"&&i==="}"){let f;const h=o.slice(1,s);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(v=>$0(l,v))}return o},xb=o=>typeof o=="string"?o.replace(" ","T"):o,G0=o=>{let l=o;return l=l.replace(/^ws/i,"http"),l=l.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),l.replace(/\/+$/,"")+"/api/broadcast"};class Iu{constructor(l,s,i={},d=dc){this.channel=l,this.event=s,this.payload=i,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(l){this.timeout=l,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(l){this.payload=Object.assign(Object.assign({},this.payload),l)}receive(l,s){var i;return this._hasReceived(l)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:l,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const l=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},l),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(l,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:l,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:l,response:s}){this.recHooks.filter(i=>i.status===l).forEach(i=>i.callback(s))}_hasReceived(l){return this.receivedResp&&this.receivedResp.status===l}}var a0;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(a0||(a0={}));class Fs{constructor(l,s){this.channel=l,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},d=>{const{onJoin:f,onLeave:h,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fs.syncState(this.state,d,f,h),this.pendingDiffs.forEach(g=>{this.state=Fs.syncDiff(this.state,g,f,h)}),this.pendingDiffs=[],v()}),this.channel._on(i.diff,{},d=>{const{onJoin:f,onLeave:h,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Fs.syncDiff(this.state,d,f,h),v())}),this.onJoin((d,f,h)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:f,newPresences:h})}),this.onLeave((d,f,h)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(l,s,i,d){const f=this.cloneDeep(l),h=this.transformState(s),v={},g={};return this.map(f,(p,b)=>{h[p]||(g[p]=b)}),this.map(h,(p,b)=>{const x=f[p];if(x){const j=b.map(L=>L.presence_ref),A=x.map(L=>L.presence_ref),T=b.filter(L=>A.indexOf(L.presence_ref)<0),z=x.filter(L=>j.indexOf(L.presence_ref)<0);T.length>0&&(v[p]=T),z.length>0&&(g[p]=z)}else v[p]=b}),this.syncDiff(f,{joins:v,leaves:g},i,d)}static syncDiff(l,s,i,d){const{joins:f,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),d||(d=()=>{}),this.map(f,(v,g)=>{var p;const b=(p=l[v])!==null&&p!==void 0?p:[];if(l[v]=this.cloneDeep(g),b.length>0){const x=l[v].map(A=>A.presence_ref),j=b.filter(A=>x.indexOf(A.presence_ref)<0);l[v].unshift(...j)}i(v,b,g)}),this.map(h,(v,g)=>{let p=l[v];if(!p)return;const b=g.map(x=>x.presence_ref);p=p.filter(x=>b.indexOf(x.presence_ref)<0),l[v]=p,d(v,p,g),p.length===0&&delete l[v]}),l}static map(l,s){return Object.getOwnPropertyNames(l).map(i=>s(i,l[i]))}static transformState(l){return l=this.cloneDeep(l),Object.getOwnPropertyNames(l).reduce((s,i)=>{const d=l[i];return"metas"in d?s[i]=d.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):s[i]=d,s},{})}static cloneDeep(l){return JSON.parse(JSON.stringify(l))}onJoin(l){this.caller.onJoin=l}onLeave(l){this.caller.onLeave=l}onSync(l){this.caller.onSync=l}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var n0;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(n0||(n0={}));var Ps;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(Ps||(Ps={}));var Va;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Va||(Va={}));class kc{constructor(l,s={config:{}},i){this.topic=l,this.params=s,this.socket=i,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=l.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Iu(this,da.join,this.params,this.timeout),this.rejoinTimer=new H0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(da.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Fs(this),this.broadcastEndpointURL=G0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(l,s=this.timeout){var i,d,f;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:h,presence:v,private:g}}=this.params,p=(d=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(A=>A.filter))!==null&&d!==void 0?d:[],b=!!this.bindings[Ps.PRESENCE]&&this.bindings[Ps.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,x={},j={broadcast:h,presence:Object.assign(Object.assign({},v),{enabled:b}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(A=>l==null?void 0:l(Va.CHANNEL_ERROR,A)),this._onClose(()=>l==null?void 0:l(Va.CLOSED)),this.updateJoinPayload(Object.assign({config:j},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:A})=>{var T;if(this.socket.setAuth(),A===void 0){l==null||l(Va.SUBSCRIBED);return}else{const z=this.bindings.postgres_changes,L=(T=z==null?void 0:z.length)!==null&&T!==void 0?T:0,Y=[];for(let G=0;G<L;G++){const k=z[G],{filter:{event:Q,schema:te,table:P,filter:ee}}=k,ge=A&&A[G];if(ge&&ge.event===Q&&ge.schema===te&&ge.table===P&&ge.filter===ee)Y.push(Object.assign(Object.assign({},k),{id:ge.id}));else{this.unsubscribe(),this.state=mt.errored,l==null||l(Va.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,l&&l(Va.SUBSCRIBED);return}}).receive("error",A=>{this.state=mt.errored,l==null||l(Va.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{l==null||l(Va.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(l,s={}){return await this.send({type:"presence",event:"track",payload:l},s.timeout||this.timeout)}async untrack(l={}){return await this.send({type:"presence",event:"untrack"},l)}on(l,s,i){return this.state===mt.joined&&l===Ps.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(l,s,i)}async send(l,s={}){var i,d;if(!this._canPush()&&l.type==="broadcast"){const{event:f,payload:h}=l,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((d=p.body)===null||d===void 0?void 0:d.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,v,g;const p=this._push(l.type,l,s.timeout||this.timeout);l.type==="broadcast"&&!(!((g=(v=(h=this.params)===null||h===void 0?void 0:h.config)===null||v===void 0?void 0:v.broadcast)===null||g===void 0)&&g.ack)&&f("ok"),p.receive("ok",()=>f("ok")),p.receive("error",()=>f("error")),p.receive("timeout",()=>f("timed out"))})}updateJoinPayload(l){this.joinPush.updatePayload(l)}unsubscribe(l=this.timeout){this.state=mt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(da.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(d=>{i=new Iu(this,da.leave,{},l),i.receive("ok",()=>{s(),d("ok")}).receive("timeout",()=>{s(),d("timed out")}).receive("error",()=>{d("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(l=>l.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(l,s,i){const d=new AbortController,f=setTimeout(()=>d.abort(),i),h=await this.socket.fetch(l,Object.assign(Object.assign({},s),{signal:d.signal}));return clearTimeout(f),h}_push(l,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${l}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Iu(this,l,s,i);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(l){if(l.startTimeout(),this.pushBuffer.push(l),this.pushBuffer.length>hb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(l,s,i){return s}_isMember(l){return this.topic===l}_joinRef(){return this.joinPush.ref}_trigger(l,s,i){var d,f;const h=l.toLocaleLowerCase(),{close:v,error:g,leave:p,join:b}=da;if(i&&[v,g,p,b].indexOf(h)>=0&&i!==this._joinRef())return;let j=this._onMessage(h,s,i);if(s&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(A=>{var T,z,L;return((T=A.filter)===null||T===void 0?void 0:T.event)==="*"||((L=(z=A.filter)===null||z===void 0?void 0:z.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===h}).map(A=>A.callback(j,i)):(f=this.bindings[h])===null||f===void 0||f.filter(A=>{var T,z,L,Y,G,k;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in A){const Q=A.id,te=(T=A.filter)===null||T===void 0?void 0:T.event;return Q&&((z=s.ids)===null||z===void 0?void 0:z.includes(Q))&&(te==="*"||(te==null?void 0:te.toLocaleLowerCase())===((L=s.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const Q=(G=(Y=A==null?void 0:A.filter)===null||Y===void 0?void 0:Y.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return Q==="*"||Q===((k=s==null?void 0:s.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===h}).map(A=>{if(typeof j=="object"&&"ids"in j){const T=j.data,{schema:z,table:L,commit_timestamp:Y,type:G,errors:k}=T;j=Object.assign(Object.assign({},{schema:z,table:L,commit_timestamp:Y,eventType:G,new:{},old:{},errors:k}),this._getPayloadRecords(T))}A.callback(j,i)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(l){return`chan_reply_${l}`}_on(l,s,i){const d=l.toLocaleLowerCase(),f={type:d,filter:s,callback:i};return this.bindings[d]?this.bindings[d].push(f):this.bindings[d]=[f],this}_off(l,s){const i=l.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(d=>{var f;return!(((f=d.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===i&&kc.isEqual(d.filter,s))})),this}static isEqual(l,s){if(Object.keys(l).length!==Object.keys(s).length)return!1;for(const i in l)if(l[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(l){this._on(da.close,{},l)}_onError(l){this._on(da.error,{},s=>l(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(l=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(l))}_getPayloadRecords(l){const s={new:{},old:{}};return(l.type==="INSERT"||l.type==="UPDATE")&&(s.new=t0(l.columns,l.record)),(l.type==="UPDATE"||l.type==="DELETE")&&(s.old=t0(l.columns,l.old_record)),s}}const ec=()=>{},br={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wb=[1e3,2e3,5e3,1e4],_b=1e4,Sb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jb{constructor(l,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dc,this.transport=null,this.heartbeatIntervalMs=br.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ec,this.ref=0,this.reconnectTimer=null,this.logger=ec,this.conn=null,this.sendBuffer=[],this.serializer=new mb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>{let f;return d?f=d:typeof fetch>"u"?f=(...h)=>ai(async()=>{const{default:v}=await Promise.resolve().then(()=>ts);return{default:v}},void 0).then(({default:v})=>v(...h)).catch(v=>{throw new Error(`Failed to load @supabase/node-fetch: ${v.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):f=fetch,(...h)=>f(...h)},!(!((i=s==null?void 0:s.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${l}/${fc.websocket}`,this.httpEndpoint=G0(l),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ob.createWebSocket(this.endpointURL())}catch(l){this._setConnectionState("disconnected");const s=l.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:db}))}disconnect(l,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},l?this.conn.close(l,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(l){const s=await l.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const l=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),l}log(l,s,i){this.logger(l,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Zs.connecting:return Pn.Connecting;case Zs.open:return Pn.Open;case Zs.closing:return Pn.Closing;default:return Pn.Closed}}isConnected(){return this.connectionState()===Pn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(l,s={config:{}}){const i=`realtime:${l}`,d=this.getChannels().find(f=>f.topic===i);if(d)return d;{const f=new kc(`realtime:${l}`,s,this);return this.channels.push(f),f}}push(l){const{topic:s,event:i,payload:d,ref:f}=l,h=()=>{this.encode(l,v=>{var g;(g=this.conn)===null||g===void 0||g.send(v)})};this.log("push",`${s} ${i} (${f})`,d),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(l=null){this._authPromise=this._performAuth(l);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var l;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(l=this.conn)===null||l===void 0||l.close(fb,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},br.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(l){this.heartbeatCallback=l}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(l=>l()),this.sendBuffer=[])}_makeRef(){let l=this.ref+1;return l===this.ref?this.ref=0:this.ref=l,this.ref.toString()}_leaveOpenTopic(l){let s=this.channels.find(i=>i.topic===l&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${l}"`),s.unsubscribe())}_remove(l){this.channels=this.channels.filter(s=>s.topic!==l.topic)}_onConnMessage(l){this.decode(l.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:d,payload:f,ref:h}=s,v=h?`(${h})`:"",g=f.status||"";this.log("receive",`${g} ${i} ${d} ${v}`.trim(),f),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(d,f,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(l){var s;l==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):l==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=l=>this._onConnError(l),this.conn.onmessage=l=>this._onConnMessage(l),this.conn.onclose=l=>this._onConnClose(l))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(l=>l.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const l=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(l),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(l){var s;this._setConnectionState("disconnected"),this.log("transport","close",l),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",l)}_onConnError(l){this._setConnectionState("disconnected"),this.log("transport",`${l}`),this._triggerChanError(),this._triggerStateCallbacks("error",l)}_triggerChanError(){this.channels.forEach(l=>l._trigger(da.error))}_appendParams(l,s){if(Object.keys(s).length===0)return l;const i=l.match(/\?/)?"&":"?",d=new URLSearchParams(s);return`${l}${i}${d}`}_workerObjectUrl(l){let s;if(l)s=l;else{const i=new Blob([Sb],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(l,s=!1){this._connectionState=l,l==="connecting"?this._wasManualDisconnect=!1:l==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(l=null){let s;l?s=l:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const d={access_token:s,version:cb};s&&i.updateJoinPayload(d),i.joinedOnce&&i._isJoined()&&i._push(da.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(l="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${l}`,s)})}_triggerStateCallbacks(l,s){try{this.stateChangeCallbacks[l].forEach(i=>{try{i(s)}catch(d){this.log("error",`error in ${l} callback`,d)}})}catch(i){this.log("error",`error triggering ${l} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new H0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},br.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(l){var s,i,d,f,h,v,g,p,b;if(this.transport=(s=l==null?void 0:l.transport)!==null&&s!==void 0?s:null,this.timeout=(i=l==null?void 0:l.timeout)!==null&&i!==void 0?i:dc,this.heartbeatIntervalMs=(d=l==null?void 0:l.heartbeatIntervalMs)!==null&&d!==void 0?d:br.HEARTBEAT_INTERVAL,this.worker=(f=l==null?void 0:l.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=l==null?void 0:l.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(v=l==null?void 0:l.heartbeatCallback)!==null&&v!==void 0?v:ec,l!=null&&l.params&&(this.params=l.params),l!=null&&l.logger&&(this.logger=l.logger),(l!=null&&l.logLevel||l!=null&&l.log_level)&&(this.logLevel=l.logLevel||l.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=l==null?void 0:l.reconnectAfterMs)!==null&&g!==void 0?g:(x=>wb[x-1]||_b),this.encode=(p=l==null?void 0:l.encode)!==null&&p!==void 0?p:((x,j)=>j(JSON.stringify(x))),this.decode=(b=l==null?void 0:l.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=l==null?void 0:l.workerUrl}}}class Dc extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}}function gt(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Eb extends Dc{constructor(l,s,i){super(l),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mc extends Dc{constructor(l,s){super(l),this.name="StorageUnknownError",this.originalError=s}}var Nb=function(o,l,s,i){function d(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function v(b){try{p(i.next(b))}catch(x){h(x)}}function g(b){try{p(i.throw(b))}catch(x){h(x)}}function p(b){b.done?f(b.value):d(b.value).then(v,g)}p((i=i.apply(o,l||[])).next())})};const Y0=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...s)=>ai(async()=>{const{default:i}=await Promise.resolve().then(()=>ts);return{default:i}},void 0).then(({default:i})=>i(...s)):l=fetch,(...s)=>l(...s)},Tb=()=>Nb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ai(()=>Promise.resolve().then(()=>ts),void 0)).Response:Response}),gc=o=>{if(Array.isArray(o))return o.map(s=>gc(s));if(typeof o=="function"||o!==Object(o))return o;const l={};return Object.entries(o).forEach(([s,i])=>{const d=s.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));l[d]=gc(i)}),l},Ab=o=>{if(typeof o!="object"||o===null)return!1;const l=Object.getPrototypeOf(o);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var In=function(o,l,s,i){function d(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function v(b){try{p(i.next(b))}catch(x){h(x)}}function g(b){try{p(i.throw(b))}catch(x){h(x)}}function p(b){b.done?f(b.value):d(b.value).then(v,g)}p((i=i.apply(o,l||[])).next())})};const tc=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Cb=(o,l,s)=>In(void 0,void 0,void 0,function*(){const i=yield Tb();o instanceof i&&!(s!=null&&s.noResolveJson)?o.json().then(d=>{const f=o.status||500,h=(d==null?void 0:d.statusCode)||f+"";l(new Eb(tc(d),f,h))}).catch(d=>{l(new mc(tc(d),d))}):l(new mc(tc(o),o))}),Rb=(o,l,s,i)=>{const d={method:o,headers:(l==null?void 0:l.headers)||{}};return o==="GET"||!i?d:(Ab(i)?(d.headers=Object.assign({"Content-Type":"application/json"},l==null?void 0:l.headers),d.body=JSON.stringify(i)):d.body=i,l!=null&&l.duplex&&(d.duplex=l.duplex),Object.assign(Object.assign({},d),s))};function ni(o,l,s,i,d,f){return In(this,void 0,void 0,function*(){return new Promise((h,v)=>{o(s,Rb(l,i,d,f)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Cb(g,v,i))})})}function Ar(o,l,s,i){return In(this,void 0,void 0,function*(){return ni(o,"GET",l,s,i)})}function wa(o,l,s,i,d){return In(this,void 0,void 0,function*(){return ni(o,"POST",l,i,d,s)})}function pc(o,l,s,i,d){return In(this,void 0,void 0,function*(){return ni(o,"PUT",l,i,d,s)})}function Ob(o,l,s,i){return In(this,void 0,void 0,function*(){return ni(o,"HEAD",l,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function V0(o,l,s,i,d){return In(this,void 0,void 0,function*(){return ni(o,"DELETE",l,i,d,s)})}var Rt=function(o,l,s,i){function d(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function v(b){try{p(i.next(b))}catch(x){h(x)}}function g(b){try{p(i.throw(b))}catch(x){h(x)}}function p(b){b.done?f(b.value):d(b.value).then(v,g)}p((i=i.apply(o,l||[])).next())})};const kb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},l0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Db{constructor(l,s={},i,d){this.shouldThrowOnError=!1,this.url=l,this.headers=s,this.bucketId=i,this.fetch=Y0(d)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(l,s,i,d){return Rt(this,void 0,void 0,function*(){try{let f;const h=Object.assign(Object.assign({},l0),d);let v=Object.assign(Object.assign({},this.headers),l==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),g&&f.append("metadata",this.encodeMetadata(g)),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",h.cacheControl),g&&f.append("metadata",this.encodeMetadata(g))):(f=i,v["cache-control"]=`max-age=${h.cacheControl}`,v["content-type"]=h.contentType,g&&(v["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),d!=null&&d.headers&&(v=Object.assign(Object.assign({},v),d.headers));const p=this._removeEmptyFolders(s),b=this._getFinalPath(p),x=yield(l=="PUT"?pc:wa)(this.fetch,`${this.url}/object/${b}`,f,Object.assign({headers:v},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:x.Id,fullPath:x.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(gt(f))return{data:null,error:f};throw f}})}upload(l,s,i){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",l,s,i)})}uploadToSignedUrl(l,s,i,d){return Rt(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(l),h=this._getFinalPath(f),v=new URL(this.url+`/object/upload/sign/${h}`);v.searchParams.set("token",s);try{let g;const p=Object.assign({upsert:l0.upsert},d),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType);const x=yield pc(this.fetch,v.toString(),g,{headers:b});return{data:{path:f,fullPath:x.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(gt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(l,s){return Rt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(l);const d=Object.assign({},this.headers);s!=null&&s.upsert&&(d["x-upsert"]="true");const f=yield wa(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:d}),h=new URL(this.url+f.url),v=h.searchParams.get("token");if(!v)throw new Dc("No token returned by API");return{data:{signedUrl:h.toString(),path:l,token:v},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}update(l,s,i){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",l,s,i)})}move(l,s,i){return Rt(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:l,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(gt(d))return{data:null,error:d};throw d}})}copy(l,s,i){return Rt(this,void 0,void 0,function*(){try{return{data:{path:(yield wa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:l,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(gt(d))return{data:null,error:d};throw d}})}createSignedUrl(l,s,i){return Rt(this,void 0,void 0,function*(){try{let d=this._getFinalPath(l),f=yield wa(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${h}`)},{data:f,error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(gt(d))return{data:null,error:d};throw d}})}createSignedUrls(l,s,i){return Rt(this,void 0,void 0,function*(){try{const d=yield wa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:l},{headers:this.headers}),f=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:d.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${f}`):null})),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(gt(d))return{data:null,error:d};throw d}})}download(l,s){return Rt(this,void 0,void 0,function*(){const d=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),h=f?`?${f}`:"";try{const v=this._getFinalPath(l);return{data:yield(yield Ar(this.fetch,`${this.url}/${d}/${v}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(gt(v))return{data:null,error:v};throw v}})}info(l){return Rt(this,void 0,void 0,function*(){const s=this._getFinalPath(l);try{const i=yield Ar(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:gc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}exists(l){return Rt(this,void 0,void 0,function*(){const s=this._getFinalPath(l);try{return yield Ob(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i)&&i instanceof mc){const d=i.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:i}}throw i}})}getPublicUrl(l,s){const i=this._getFinalPath(l),d=[],f=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";f!==""&&d.push(f);const v=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});g!==""&&d.push(g);let p=d.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${v}/public/${i}${p}`)}}}remove(l){return Rt(this,void 0,void 0,function*(){try{return{data:yield V0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:l},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}list(l,s,i){return Rt(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},kb),s),{prefix:l||""});return{data:yield wa(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},i),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(gt(d))return{data:null,error:d};throw d}})}listV2(l,s){return Rt(this,void 0,void 0,function*(){try{const i=Object.assign({},l);return{data:yield wa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const s=[];return l.width&&s.push(`width=${l.width}`),l.height&&s.push(`height=${l.height}`),l.resize&&s.push(`resize=${l.resize}`),l.format&&s.push(`format=${l.format}`),l.quality&&s.push(`quality=${l.quality}`),s.join("&")}}const Ub="2.12.1",zb={"X-Client-Info":`storage-js/${Ub}`};var Vl=function(o,l,s,i){function d(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function v(b){try{p(i.next(b))}catch(x){h(x)}}function g(b){try{p(i.throw(b))}catch(x){h(x)}}function p(b){b.done?f(b.value):d(b.value).then(v,g)}p((i=i.apply(o,l||[])).next())})};class Mb{constructor(l,s={},i,d){this.shouldThrowOnError=!1;const f=new URL(l);d!=null&&d.useNewHostname&&/supabase\.(co|in|red)$/.test(f.hostname)&&!f.hostname.includes("storage.supabase.")&&(f.hostname=f.hostname.replace("supabase.","storage.supabase.")),this.url=f.href,this.headers=Object.assign(Object.assign({},zb),s),this.fetch=Y0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Vl(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(gt(l))return{data:null,error:l};throw l}})}getBucket(l){return Vl(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${l}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}createBucket(l,s={public:!1}){return Vl(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}updateBucket(l,s){return Vl(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${l}`,{id:l,name:l,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}emptyBucket(l){return Vl(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket/${l}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}deleteBucket(l){return Vl(this,void 0,void 0,function*(){try{return{data:yield V0(this.fetch,`${this.url}/bucket/${l}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}}class Lb extends Mb{constructor(l,s={},i,d){super(l,s,i,d)}from(l){return new Db(this.url,this.headers,l,this.fetch)}}const qb="2.57.4";let Js="";typeof Deno<"u"?Js="deno":typeof document<"u"?Js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Js="react-native":Js="node";const Bb={"X-Client-Info":`supabase-js-${Js}/${qb}`},Hb={headers:Bb},$b={schema:"public"},Gb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yb={};var Vb=function(o,l,s,i){function d(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function v(b){try{p(i.next(b))}catch(x){h(x)}}function g(b){try{p(i.throw(b))}catch(x){h(x)}}function p(b){b.done?f(b.value):d(b.value).then(v,g)}p((i=i.apply(o,l||[])).next())})};const Qb=o=>{let l;return o?l=o:typeof fetch>"u"?l=U0:l=fetch,(...s)=>l(...s)},Xb=()=>typeof Headers>"u"?z0:Headers,Kb=(o,l,s)=>{const i=Qb(s),d=Xb();return(f,h)=>Vb(void 0,void 0,void 0,function*(){var v;const g=(v=yield l())!==null&&v!==void 0?v:o;let p=new d(h==null?void 0:h.headers);return p.has("apikey")||p.set("apikey",o),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),i(f,Object.assign(Object.assign({},h),{headers:p}))})};var Jb=function(o,l,s,i){function d(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function v(b){try{p(i.next(b))}catch(x){h(x)}}function g(b){try{p(i.throw(b))}catch(x){h(x)}}function p(b){b.done?f(b.value):d(b.value).then(v,g)}p((i=i.apply(o,l||[])).next())})};function Zb(o){return o.endsWith("/")?o:o+"/"}function Fb(o,l){var s,i;const{db:d,auth:f,realtime:h,global:v}=o,{db:g,auth:p,realtime:b,global:x}=l,j={db:Object.assign(Object.assign({},g),d),auth:Object.assign(Object.assign({},p),f),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},x),v),{headers:Object.assign(Object.assign({},(s=x==null?void 0:x.headers)!==null&&s!==void 0?s:{}),(i=v==null?void 0:v.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Jb(this,void 0,void 0,function*(){return""})};return o.accessToken?j.accessToken=o.accessToken:delete j.accessToken,j}function Pb(o){const l=o==null?void 0:o.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zb(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Q0="2.71.1",Zl=30*1e3,vc=3,ac=vc*Zl,Wb="http://localhost:9999",Ib="supabase.auth.token",ex={"X-Client-Info":`gotrue-js/${Q0}`},yc="X-Supabase-Api-Version",X0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ax=600*1e3;class Uc extends Error{constructor(l,s,i){super(l),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function fe(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class nx extends Uc{constructor(l,s,i){super(l,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function lx(o){return fe(o)&&o.name==="AuthApiError"}class K0 extends Uc{constructor(l,s){super(l),this.name="AuthUnknownError",this.originalError=s}}class Nn extends Uc{constructor(l,s,i,d){super(l,i,d),this.name=s,this.status=i}}class jn extends Nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sx(o){return fe(o)&&o.name==="AuthSessionMissingError"}class xr extends Nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wr extends Nn{constructor(l){super(l,"AuthInvalidCredentialsError",400,void 0)}}class _r extends Nn{constructor(l,s=null){super(l,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ix(o){return fe(o)&&o.name==="AuthImplicitGrantRedirectError"}class s0 extends Nn{constructor(l,s=null){super(l,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bc extends Nn{constructor(l,s){super(l,"AuthRetryableFetchError",s,void 0)}}function nc(o){return fe(o)&&o.name==="AuthRetryableFetchError"}class i0 extends Nn{constructor(l,s,i){super(l,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class xc extends Nn{constructor(l){super(l,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),r0=` 	
\r=`.split(""),rx=(()=>{const o=new Array(128);for(let l=0;l<o.length;l+=1)o[l]=-1;for(let l=0;l<r0.length;l+=1)o[r0[l].charCodeAt(0)]=-2;for(let l=0;l<Cr.length;l+=1)o[Cr[l].charCodeAt(0)]=l;return o})();function o0(o,l,s){if(o!==null)for(l.queue=l.queue<<8|o,l.queuedBits+=8;l.queuedBits>=6;){const i=l.queue>>l.queuedBits-6&63;s(Cr[i]),l.queuedBits-=6}else if(l.queuedBits>0)for(l.queue=l.queue<<6-l.queuedBits,l.queuedBits=6;l.queuedBits>=6;){const i=l.queue>>l.queuedBits-6&63;s(Cr[i]),l.queuedBits-=6}}function J0(o,l,s){const i=rx[o];if(i>-1)for(l.queue=l.queue<<6|i,l.queuedBits+=6;l.queuedBits>=8;)s(l.queue>>l.queuedBits-8&255),l.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function u0(o){const l=[],s=h=>{l.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},f=h=>{cx(h,i,s)};for(let h=0;h<o.length;h+=1)J0(o.charCodeAt(h),d,f);return l.join("")}function ox(o,l){if(o<=127){l(o);return}else if(o<=2047){l(192|o>>6),l(128|o&63);return}else if(o<=65535){l(224|o>>12),l(128|o>>6&63),l(128|o&63);return}else if(o<=1114111){l(240|o>>18),l(128|o>>12&63),l(128|o>>6&63),l(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function ux(o,l){for(let s=0;s<o.length;s+=1){let i=o.charCodeAt(s);if(i>55295&&i<=56319){const d=(i-55296)*1024&65535;i=(o.charCodeAt(s+1)-56320&65535|d)+65536,s+=1}ox(i,l)}}function cx(o,l,s){if(l.utf8seq===0){if(o<=127){s(o);return}for(let i=1;i<6;i+=1)if((o>>7-i&1)===0){l.utf8seq=i;break}if(l.utf8seq===2)l.codepoint=o&31;else if(l.utf8seq===3)l.codepoint=o&15;else if(l.utf8seq===4)l.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");l.utf8seq-=1}else if(l.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");l.codepoint=l.codepoint<<6|o&63,l.utf8seq-=1,l.utf8seq===0&&s(l.codepoint)}}function dx(o){const l=[],s={queue:0,queuedBits:0},i=d=>{l.push(d)};for(let d=0;d<o.length;d+=1)J0(o.charCodeAt(d),s,i);return new Uint8Array(l)}function fx(o){const l=[];return ux(o,s=>l.push(s)),new Uint8Array(l)}function hx(o){const l=[],s={queue:0,queuedBits:0},i=d=>{l.push(d)};return o.forEach(d=>o0(d,s,i)),o0(null,s,i),l.join("")}function mx(o){return Math.round(Date.now()/1e3)+o}function gx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const l=Math.random()*16|0;return(o=="x"?l:l&3|8).toString(16)})}const ca=()=>typeof window<"u"&&typeof document<"u",Jn={tested:!1,writable:!1},Z0=()=>{if(!ca())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jn.tested)return Jn.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Jn.tested=!0,Jn.writable=!0}catch{Jn.tested=!0,Jn.writable=!1}return Jn.writable};function px(o){const l={},s=new URL(o);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((d,f)=>{l[f]=d})}catch{}return s.searchParams.forEach((i,d)=>{l[d]=i}),l}const F0=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...s)=>ai(async()=>{const{default:i}=await Promise.resolve().then(()=>ts);return{default:i}},void 0).then(({default:i})=>i(...s)):l=fetch,(...s)=>l(...s)},vx=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Fl=async(o,l,s)=>{await o.setItem(l,JSON.stringify(s))},Zn=async(o,l)=>{const s=await o.getItem(l);if(!s)return null;try{return JSON.parse(s)}catch{return s}},_n=async(o,l)=>{await o.removeItem(l)};class kr{constructor(){this.promise=new kr.promiseConstructor((l,s)=>{this.resolve=l,this.reject=s})}}kr.promiseConstructor=Promise;function lc(o){const l=o.split(".");if(l.length!==3)throw new xc("Invalid JWT structure");for(let i=0;i<l.length;i++)if(!tx.test(l[i]))throw new xc("JWT not in base64url format");return{header:JSON.parse(u0(l[0])),payload:JSON.parse(u0(l[1])),signature:dx(l[2]),raw:{header:l[0],payload:l[1]}}}async function yx(o){return await new Promise(l=>{setTimeout(()=>l(null),o)})}function bx(o,l){return new Promise((i,d)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await o(f);if(!l(f,null,h)){i(h);return}}catch(h){if(!l(f,h)){d(h);return}}})()})}function xx(o){return("0"+o.toString(16)).substr(-2)}function wx(){const l=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let d="";for(let f=0;f<56;f++)d+=s.charAt(Math.floor(Math.random()*i));return d}return crypto.getRandomValues(l),Array.from(l,xx).join("")}async function _x(o){const s=new TextEncoder().encode(o),i=await crypto.subtle.digest("SHA-256",s),d=new Uint8Array(i);return Array.from(d).map(f=>String.fromCharCode(f)).join("")}async function Sx(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const s=await _x(o);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ql(o,l,s=!1){const i=wx();let d=i;s&&(d+="/PASSWORD_RECOVERY"),await Fl(o,`${l}-code-verifier`,d);const f=await Sx(i);return[f,i===f?"plain":"s256"]}const jx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ex(o){const l=o.headers.get(yc);if(!l||!l.match(jx))return null;try{return new Date(`${l}T00:00:00.0Z`)}catch{return null}}function Nx(o){if(!o)throw new Error("Missing exp claim");const l=Math.floor(Date.now()/1e3);if(o<=l)throw new Error("JWT has expired")}function Tx(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ax=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xl(o){if(!Ax.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sc(){const o={};return new Proxy(o,{get:(l,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(l,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(l,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function c0(o){return JSON.parse(JSON.stringify(o))}var Cx=function(o,l){var s={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&l.indexOf(i)<0&&(s[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,i=Object.getOwnPropertySymbols(o);d<i.length;d++)l.indexOf(i[d])<0&&Object.prototype.propertyIsEnumerable.call(o,i[d])&&(s[i[d]]=o[i[d]]);return s};const Fn=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Rx=[502,503,504];async function d0(o){var l;if(!vx(o))throw new bc(Fn(o),0);if(Rx.includes(o.status))throw new bc(Fn(o),o.status);let s;try{s=await o.json()}catch(f){throw new K0(Fn(f),f)}let i;const d=Ex(o);if(d&&d.getTime()>=X0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new i0(Fn(s),o.status,((l=s.weak_password)===null||l===void 0?void 0:l.reasons)||[]);if(i==="session_not_found")throw new jn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new i0(Fn(s),o.status,s.weak_password.reasons);throw new nx(Fn(s),o.status||500,i)}const Ox=(o,l,s,i)=>{const d={method:o,headers:(l==null?void 0:l.headers)||{}};return o==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},l==null?void 0:l.headers),d.body=JSON.stringify(i),Object.assign(Object.assign({},d),s))};async function be(o,l,s,i){var d;const f=Object.assign({},i==null?void 0:i.headers);f[yc]||(f[yc]=X0["2024-01-01"].name),i!=null&&i.jwt&&(f.Authorization=`Bearer ${i.jwt}`);const h=(d=i==null?void 0:i.query)!==null&&d!==void 0?d:{};i!=null&&i.redirectTo&&(h.redirect_to=i.redirectTo);const v=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await kx(o,l,s+v,{headers:f,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function kx(o,l,s,i,d,f){const h=Ox(l,i,d,f);let v;try{v=await o(s,Object.assign({},h))}catch(g){throw console.error(g),new bc(Fn(g),0)}if(v.ok||await d0(v),i!=null&&i.noResolveJson)return v;try{return await v.json()}catch(g){await d0(g)}}function Ya(o){var l;let s=null;Mx(o)&&(s=Object.assign({},o),o.expires_at||(s.expires_at=mx(o.expires_in)));const i=(l=o.user)!==null&&l!==void 0?l:o;return{data:{session:s,user:i},error:null}}function f0(o){const l=Ya(o);return!l.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(l.data.weak_password=o.weak_password),l}function En(o){var l;return{data:{user:(l=o.user)!==null&&l!==void 0?l:o},error:null}}function Dx(o){return{data:o,error:null}}function Ux(o){const{action_link:l,email_otp:s,hashed_token:i,redirect_to:d,verification_type:f}=o,h=Cx(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:l,email_otp:s,hashed_token:i,redirect_to:d,verification_type:f},g=Object.assign({},h);return{data:{properties:v,user:g},error:null}}function zx(o){return o}function Mx(o){return o.access_token&&o.refresh_token&&o.expires_in}const ic=["global","local","others"];var Lx=function(o,l){var s={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&l.indexOf(i)<0&&(s[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,i=Object.getOwnPropertySymbols(o);d<i.length;d++)l.indexOf(i[d])<0&&Object.prototype.propertyIsEnumerable.call(o,i[d])&&(s[i[d]]=o[i[d]]);return s};class qx{constructor({url:l="",headers:s={},fetch:i}){this.url=l,this.headers=s,this.fetch=F0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(l,s=ic[0]){if(ic.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ic.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:l,noResolveJson:!0}),{data:null,error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(l,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:l,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:En})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async generateLink(l){try{const{options:s}=l,i=Lx(l,["options"]),d=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(d.new_email=i==null?void 0:i.newEmail,delete d.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:Ux,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(fe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(l){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:l,headers:this.headers,xform:En})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async listUsers(l){var s,i,d,f,h,v,g;try{const p={nextPage:null,lastPage:0,total:0},b=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=l==null?void 0:l.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(f=(d=l==null?void 0:l.perPage)===null||d===void 0?void 0:d.toString())!==null&&f!==void 0?f:""},xform:zx});if(b.error)throw b.error;const x=await b.json(),j=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,A=(g=(v=b.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(T=>{const z=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(T.split(";")[1].split("=")[1]);p[`${L}Page`]=z}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(fe(p))return{data:{users:[]},error:p};throw p}}async getUserById(l){Xl(l);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${l}`,{headers:this.headers,xform:En})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async updateUserById(l,s){Xl(l);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${l}`,{body:s,headers:this.headers,xform:En})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async deleteUser(l,s=!1){Xl(l);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${l}`,{headers:this.headers,body:{should_soft_delete:s},xform:En})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async _listFactors(l){Xl(l.userId);try{const{data:s,error:i}=await be(this.fetch,"GET",`${this.url}/admin/users/${l.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:s,error:i}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _deleteFactor(l){Xl(l.userId),Xl(l.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${l.userId}/factors/${l.id}`,{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}}}function h0(o={}){return{getItem:l=>o[l]||null,setItem:(l,s)=>{o[l]=s},removeItem:l=>{delete o[l]}}}function Bx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kl={debug:!!(globalThis&&Z0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class P0 extends Error{constructor(l){super(l),this.isAcquireTimeout=!0}}class Hx extends P0{}async function $x(o,l,s){Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,l);const i=new globalThis.AbortController;return l>0&&setTimeout(()=>{i.abort(),Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},l),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,l===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async d=>{if(d){Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,d.name);try{return await s()}finally{Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,d.name)}}else{if(l===0)throw Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Hx(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Kl.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Bx();const Gx={url:Wb,storageKey:Ib,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ex,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function m0(o,l,s){return await s()}const Jl={};class Is{constructor(l){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Is.nextInstanceID,Is.nextInstanceID+=1,this.instanceID>0&&ca()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const d=Object.assign(Object.assign({},Gx),l);if(this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.persistSession=d.persistSession,this.storageKey=d.storageKey,this.autoRefreshToken=d.autoRefreshToken,this.admin=new qx({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=F0(d.fetch),this.lock=d.lock||m0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,d.lock?this.lock=d.lock:ca()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=$x:this.lock=m0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Z0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=h0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=h0(this.memoryStorage)),ca()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}get jwks(){var l,s;return(s=(l=Jl[this.storageKey])===null||l===void 0?void 0:l.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(l){Jl[this.storageKey]=Object.assign(Object.assign({},Jl[this.storageKey]),{jwks:l})}get jwks_cached_at(){var l,s;return(s=(l=Jl[this.storageKey])===null||l===void 0?void 0:l.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(l){Jl[this.storageKey]=Object.assign(Object.assign({},Jl[this.storageKey]),{cachedAt:l})}_debug(...l){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Q0}) ${new Date().toISOString()}`,...l),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var l;try{const s=px(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),ca()&&this.detectSessionInUrl&&i!=="none"){const{data:d,error:f}=await this._getSessionFromURL(s,i);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),ix(f)){const g=(l=f.details)===null||l===void 0?void 0:l.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:h,redirectType:v}=d;return this._debug("#_initialize()","detected session in URL",h,"redirect type",v),await this._saveSession(h),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return fe(s)?{error:s}:{error:new K0("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(l){var s,i,d;try{const f=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=l==null?void 0:l.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(d=l==null?void 0:l.options)===null||d===void 0?void 0:d.captchaToken}},xform:Ya}),{data:h,error:v}=f;if(v||!h)return{data:{user:null,session:null},error:v};const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(f){if(fe(f))return{data:{user:null,session:null},error:f};throw f}}async signUp(l){var s,i,d;try{let f;if("email"in l){const{email:b,password:x,options:j}=l;let A=null,T=null;this.flowType==="pkce"&&([A,T]=await Ql(this.storage,this.storageKey)),f=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:b,password:x,data:(s=j==null?void 0:j.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:A,code_challenge_method:T},xform:Ya})}else if("phone"in l){const{phone:b,password:x,options:j}=l;f=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(i=j==null?void 0:j.data)!==null&&i!==void 0?i:{},channel:(d=j==null?void 0:j.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:Ya})}else throw new wr("You must provide either an email or phone number and a password");const{data:h,error:v}=f;if(v||!h)return{data:{user:null,session:null},error:v};const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(f){if(fe(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(l){try{let s;if("email"in l){const{email:f,password:h,options:v}=l;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:f0})}else if("phone"in l){const{phone:f,password:h,options:v}=l;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:f0})}else throw new wr("You must provide either an email or phone number and a password");const{data:i,error:d}=s;return d?{data:{user:null,session:null},error:d}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new xr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:d})}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(l){var s,i,d,f;return await this._handleProviderSignIn(l.provider,{redirectTo:(s=l.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=l.options)===null||i===void 0?void 0:i.scopes,queryParams:(d=l.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(f=l.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(l){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(l))}async signInWithWeb3(l){const{chain:s}=l;if(s==="solana")return await this.signInWithSolana(l);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(l){var s,i,d,f,h,v,g,p,b,x,j,A;let T,z;if("message"in l)T=l.message,z=l.signature;else{const{chain:L,wallet:Y,statement:G,options:k}=l;let Q;if(ca())if(typeof Y=="object")Q=Y;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))Q=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=Y}const te=new URL((s=k==null?void 0:k.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in Q&&Q.signIn){const P=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),G?{statement:G}:null));let ee;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")ee=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)ee=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)T=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),z=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${te.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(d=(i=k==null?void 0:k.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((f=k==null?void 0:k.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((v=k==null?void 0:k.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((g=k==null?void 0:k.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((p=k==null?void 0:k.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((x=(b=k==null?void 0:k.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...k.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);const P=await Q.signMessage(new TextEncoder().encode(T),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=P}}try{const{data:L,error:Y}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:hx(z)},!((j=l.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(A=l.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Ya});if(Y)throw Y;return!L||!L.session||!L.user?{data:{user:null,session:null},error:new xr}:(L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),{data:Object.assign({},L),error:Y})}catch(L){if(fe(L))return{data:{user:null,session:null},error:L};throw L}}async _exchangeCodeForSession(l){const s=await Zn(this.storage,`${this.storageKey}-code-verifier`),[i,d]=(s??"").split("/");try{const{data:f,error:h}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:l,code_verifier:i},xform:Ya});if(await _n(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!f||!f.session||!f.user?{data:{user:null,session:null,redirectType:null},error:new xr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:Object.assign(Object.assign({},f),{redirectType:d??null}),error:h})}catch(f){if(fe(f))return{data:{user:null,session:null,redirectType:null},error:f};throw f}}async signInWithIdToken(l){try{const{options:s,provider:i,token:d,access_token:f,nonce:h}=l,v=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:d,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ya}),{data:g,error:p}=v;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new xr}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(l){var s,i,d,f,h;try{if("email"in l){const{email:v,options:g}=l;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Ql(this.storage,this.storageKey));const{error:x}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in l){const{phone:v,options:g}=l,{data:p,error:b}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(d=g==null?void 0:g.data)!==null&&d!==void 0?d:{},create_user:(f=g==null?void 0:g.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b}}throw new wr("You must provide either an email or phone number.")}catch(v){if(fe(v))return{data:{user:null,session:null},error:v};throw v}}async verifyOtp(l){var s,i;try{let d,f;"options"in l&&(d=(s=l.options)===null||s===void 0?void 0:s.redirectTo,f=(i=l.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:v}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},l),{gotrue_meta_security:{captcha_token:f}}),redirectTo:d,xform:Ya});if(v)throw v;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,p=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(l.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(d){if(fe(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithSSO(l){var s,i,d;try{let f=null,h=null;return this.flowType==="pkce"&&([f,h]=await Ql(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in l?{provider_id:l.providerId}:null),"domain"in l?{domain:l.domain}:null),{redirect_to:(i=(s=l.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((d=l==null?void 0:l.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:l.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:Dx})}catch(f){if(fe(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async l=>{const{data:{session:s},error:i}=l;if(i)throw i;if(!s)throw new jn;const{error:d}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:d}})}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async resend(l){try{const s=`${this.url}/resend`;if("email"in l){const{email:i,type:d,options:f}=l,{error:h}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in l){const{phone:i,type:d,options:f}=l,{data:h,error:v}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:v}}throw new wr("You must provide either an email or phone number and a type")}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(l,s){this._debug("#_acquireLock","begin",l);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,l,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(l){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await l(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let l=null;const s=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?l=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!l)return{data:{session:null},error:null};const i=l.expires_at?l.expires_at*1e3-Date.now()<ac:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",l.expires_at),!i){if(this.userStorage){const h=await Zn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?l.user=h.user:l.user=sc()}if(this.storage.isServer&&l.user){let h=this.suppressGetSessionWarning;l=new Proxy(l,{get:(g,p,b)=>(!h&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,b))})}return{data:{session:l},error:null}}const{session:d,error:f}=await this._callRefreshToken(l.refresh_token);return f?{data:{session:null},error:f}:{data:{session:d},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(l){return l?await this._getUser(l):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(l){try{return l?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:l,xform:En}):await this._useSession(async s=>{var i,d,f;const{data:h,error:v}=s;if(v)throw v;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jn}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0,xform:En})})}catch(s){if(fe(s))return sx(s)&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(l,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(l,s))}async _updateUser(l,s={}){try{return await this._useSession(async i=>{const{data:d,error:f}=i;if(f)throw f;if(!d.session)throw new jn;const h=d.session;let v=null,g=null;this.flowType==="pkce"&&l.email!=null&&([v,g]=await Ql(this.storage,this.storageKey));const{data:p,error:b}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},l),{code_challenge:v,code_challenge_method:g}),jwt:h.access_token,xform:En});if(b)throw b;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async setSession(l){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(l))}async _setSession(l){try{if(!l.access_token||!l.refresh_token)throw new jn;const s=Date.now()/1e3;let i=s,d=!0,f=null;const{payload:h}=lc(l.access_token);if(h.exp&&(i=h.exp,d=i<=s),d){const{session:v,error:g}=await this._callRefreshToken(l.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!v)return{data:{user:null,session:null},error:null};f=v}else{const{data:v,error:g}=await this._getUser(l.access_token);if(g)throw g;f={access_token:l.access_token,refresh_token:l.refresh_token,user:v.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(s){if(fe(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(l){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(l))}async _refreshSession(l){try{return await this._useSession(async s=>{var i;if(!l){const{data:h,error:v}=s;if(v)throw v;l=(i=h.session)!==null&&i!==void 0?i:void 0}if(!(l!=null&&l.refresh_token))throw new jn;const{session:d,error:f}=await this._callRefreshToken(l.refresh_token);return f?{data:{user:null,session:null},error:f}:d?{data:{user:d.user,session:d},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(l,s){try{if(!ca())throw new _r("No browser detected.");if(l.error||l.error_description||l.error_code)throw new _r(l.error_description||"Error in URL with unspecified error_description",{error:l.error||"unspecified_error",code:l.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new s0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _r("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!l.code)throw new s0("No code detected.");const{data:G,error:k}=await this._exchangeCodeForSession(l.code);if(k)throw k;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:d,access_token:f,refresh_token:h,expires_in:v,expires_at:g,token_type:p}=l;if(!f||!v||!h||!p)throw new _r("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(v);let j=b+x;g&&(j=parseInt(g));const A=j-b;A*1e3<=Zl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${x}s`);const T=j-x;b-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,j,b):b-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,j,b);const{data:z,error:L}=await this._getUser(f);if(L)throw L;const Y={provider_token:i,provider_refresh_token:d,access_token:f,expires_in:x,expires_at:j,refresh_token:h,token_type:p,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Y,redirectType:l.type},error:null}}catch(i){if(fe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(l){return!!(l.access_token||l.error_description)}async _isPKCECallback(l){const s=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(l.code&&s)}async signOut(l={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(l))}async _signOut({scope:l}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:d,error:f}=s;if(f)return{error:f};const h=(i=d.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:v}=await this.admin.signOut(h,l);if(v&&!(lx(v)&&(v.status===404||v.status===401||v.status===403)))return{error:v}}return l!=="others"&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(l){const s=gx(),i={id:s,callback:l,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(l){return await this._useSession(async s=>{var i,d;try{const{data:{session:f},error:h}=s;if(h)throw h;await((i=this.stateChangeEmitters.get(l))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",l,"session",f)}catch(f){await((d=this.stateChangeEmitters.get(l))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",l,"error",f),console.error(f)}})}async resetPasswordForEmail(l,s={}){let i=null,d=null;this.flowType==="pkce"&&([i,d]=await Ql(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:l,code_challenge:i,code_challenge_method:d,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(f){if(fe(f))return{data:null,error:f};throw f}}async getUserIdentities(){var l;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(l=s.user.identities)!==null&&l!==void 0?l:[]},error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async linkIdentity(l){var s;try{const{data:i,error:d}=await this._useSession(async f=>{var h,v,g,p,b;const{data:x,error:j}=f;if(j)throw j;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,l.provider,{redirectTo:(h=l.options)===null||h===void 0?void 0:h.redirectTo,scopes:(v=l.options)===null||v===void 0?void 0:v.scopes,queryParams:(g=l.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",A,{headers:this.headers,jwt:(b=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(d)throw d;return ca()&&!(!((s=l.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:l.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(fe(i))return{data:{provider:l.provider,url:null},error:i};throw i}}async unlinkIdentity(l){try{return await this._useSession(async s=>{var i,d;const{data:f,error:h}=s;if(h)throw h;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${l.identity_id}`,{headers:this.headers,jwt:(d=(i=f.session)===null||i===void 0?void 0:i.access_token)!==null&&d!==void 0?d:void 0})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _refreshAccessToken(l){const s=`#_refreshAccessToken(${l.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await bx(async d=>(d>0&&await yx(200*Math.pow(2,d-1)),this._debug(s,"refreshing attempt",d),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:l},headers:this.headers,xform:Ya})),(d,f)=>{const h=200*Math.pow(2,d);return f&&nc(f)&&Date.now()+h-i<Zl})}catch(i){if(this._debug(s,"error",i),fe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(l){return typeof l=="object"&&l!==null&&"access_token"in l&&"refresh_token"in l&&"expires_at"in l}async _handleProviderSignIn(l,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,l,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",l,"options",s,"url",i),ca()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:l,url:i},error:null}}async _recoverAndRefresh(){var l,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const d=await Zn(this.storage,this.storageKey);if(d&&this.userStorage){let h=await Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:d.user},await Fl(this.userStorage,this.storageKey+"-user",h)),d.user=(l=h==null?void 0:h.user)!==null&&l!==void 0?l:sc()}else if(d&&!d.user&&!d.user){const h=await Zn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(d.user=h.user,await _n(this.storage,this.storageKey+"-user"),await Fl(this.storage,this.storageKey,d)):d.user=sc()}if(this._debug(i,"session from storage",d),!this._isValidSession(d)){this._debug(i,"session is not valid"),d!==null&&await this._removeSession();return}const f=((s=d.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ac;if(this._debug(i,`session has${f?"":" not"} expired with margin of ${ac}s`),f){if(this.autoRefreshToken&&d.refresh_token){const{error:h}=await this._callRefreshToken(d.refresh_token);h&&(console.error(h),nc(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:v}=await this._getUser(d.access_token);!v&&(h!=null&&h.user)?(d.user=h.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(i,"error",d),console.error(d);return}finally{this._debug(i,"end")}}async _callRefreshToken(l){var s,i;if(!l)throw new jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${l.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new kr;const{data:f,error:h}=await this._refreshAccessToken(l);if(h)throw h;if(!f.session)throw new jn;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const v={session:f.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(f){if(this._debug(d,"error",f),fe(f)){const h={session:null,error:f};return nc(f)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(f),f}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(l,s,i=!0){const d=`#_notifyAllSubscribers(${l})`;this._debug(d,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:l,session:s});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(l,s)}catch(g){f.push(g)}});if(await Promise.all(h),f.length>0){for(let v=0;v<f.length;v+=1)console.error(f[v]);throw f[0]}}finally{this._debug(d,"end")}}async _saveSession(l){this._debug("#_saveSession()",l),this.suppressGetSessionWarning=!0;const s=Object.assign({},l),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Fl(this.userStorage,this.storageKey+"-user",{user:s.user});const d=Object.assign({},s);delete d.user;const f=c0(d);await Fl(this.storage,this.storageKey,f)}else{const d=c0(s);await Fl(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),await _n(this.storage,this.storageKey),await _n(this.storage,this.storageKey+"-code-verifier"),await _n(this.storage,this.storageKey+"-user"),this.userStorage&&await _n(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const l=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{l&&ca()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",l)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const l=setInterval(()=>this._autoRefreshTokenTick(),Zl);this.autoRefreshTicker=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const l=this.autoRefreshTicker;this.autoRefreshTicker=null,l&&clearInterval(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const l=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((i.expires_at*1e3-l)/Zl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Zl}ms, refresh threshold is ${vc} ticks`),d<=vc&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(l){if(l.isAcquireTimeout||l instanceof P0)this._debug("auto refresh token tick lock not available");else throw l}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ca()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}}async _onVisibilityChanged(l){const s=`#_onVisibilityChanged(${l})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),l||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(l,s,i){const d=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&d.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&d.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[f,h]=await Ql(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});d.push(v.toString())}if(i!=null&&i.queryParams){const f=new URLSearchParams(i.queryParams);d.push(f.toString())}return i!=null&&i.skipBrowserRedirect&&d.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${l}?${d.join("&")}`}async _unenroll(l){try{return await this._useSession(async s=>{var i;const{data:d,error:f}=s;return f?{data:null,error:f}:await be(this.fetch,"DELETE",`${this.url}/factors/${l.factorId}`,{headers:this.headers,jwt:(i=d==null?void 0:d.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _enroll(l){try{return await this._useSession(async s=>{var i,d;const{data:f,error:h}=s;if(h)return{data:null,error:h};const v=Object.assign({friendly_name:l.friendlyName,factor_type:l.factorType},l.factorType==="phone"?{phone:l.phone}:{issuer:l.issuer}),{data:g,error:p}=await be(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(i=f==null?void 0:f.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(l.factorType==="totp"&&(!((d=g==null?void 0:g.totp)===null||d===void 0)&&d.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _verify(l){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:d,error:f}=s;if(f)return{data:null,error:f};const{data:h,error:v}=await be(this.fetch,"POST",`${this.url}/factors/${l.factorId}/verify`,{body:{code:l.code,challenge_id:l.challengeId},headers:this.headers,jwt:(i=d==null?void 0:d.session)===null||i===void 0?void 0:i.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:v})})}catch(s){if(fe(s))return{data:null,error:s};throw s}})}async _challenge(l){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:d,error:f}=s;return f?{data:null,error:f}:await be(this.fetch,"POST",`${this.url}/factors/${l.factorId}/challenge`,{body:{channel:l.channel},headers:this.headers,jwt:(i=d==null?void 0:d.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(fe(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(l){const{data:s,error:i}=await this._challenge({factorId:l.factorId});return i?{data:null,error:i}:await this._verify({factorId:l.factorId,challengeId:s.id,code:l.code})}async _listFactors(){const{data:{user:l},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=(l==null?void 0:l.factors)||[],d=i.filter(h=>h.factor_type==="totp"&&h.status==="verified"),f=i.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:i,totp:d,phone:f},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async l=>{var s,i;const{data:{session:d},error:f}=l;if(f)return{data:null,error:f};if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=lc(d.access_token);let v=null;h.aal&&(v=h.aal);let g=v;((i=(s=d.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const b=h.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(l,s={keys:[]}){let i=s.keys.find(v=>v.kid===l);if(i)return i;const d=Date.now();if(i=this.jwks.keys.find(v=>v.kid===l),i&&this.jwks_cached_at+ax>d)return i;const{data:f,error:h}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=d,i=f.keys.find(v=>v.kid===l),!i)?null:i}async getClaims(l,s={}){try{let i=l;if(!i){const{data:A,error:T}=await this.getSession();if(T||!A.session)return{data:null,error:T};i=A.session.access_token}const{header:d,payload:f,signature:h,raw:{header:v,payload:g}}=lc(i);s!=null&&s.allowExpired||Nx(f.exp);const p=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!p){const{error:A}=await this.getUser(i);if(A)throw A;return{data:{claims:f,header:d,signature:h},error:null}}const b=Tx(d.alg),x=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,h,fx(`${v}.${g}`)))throw new xc("Invalid JWT signature");return{data:{claims:f,header:d,signature:h},error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}}}Is.nextInstanceID=0;const Yx=Is;class Vx extends Yx{constructor(l){super(l)}}var Qx=function(o,l,s,i){function d(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function v(b){try{p(i.next(b))}catch(x){h(x)}}function g(b){try{p(i.throw(b))}catch(x){h(x)}}function p(b){b.done?f(b.value):d(b.value).then(v,g)}p((i=i.apply(o,l||[])).next())})};class Xx{constructor(l,s,i){var d,f,h;this.supabaseUrl=l,this.supabaseKey=s;const v=Pb(l);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",v),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",v),this.storageUrl=new URL("storage/v1",v),this.functionsUrl=new URL("functions/v1",v);const g=`sb-${v.hostname.split(".")[0]}-auth-token`,p={db:$b,realtime:Yb,auth:Object.assign(Object.assign({},Gb),{storageKey:g}),global:Hb},b=Fb(i??{},p);this.storageKey=(d=b.auth.storageKey)!==null&&d!==void 0?d:"",this.headers=(f=b.global.headers)!==null&&f!==void 0?f:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(x,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=Kb(s,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new rb(new URL("rest/v1",v).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new Lb(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Py(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,s={},i={}){return this.rest.rpc(l,s,i)}channel(l,s={config:{}}){return this.realtime.channel(l,s)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var l,s;return Qx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(l=i.session)===null||l===void 0?void 0:l.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:s,detectSessionInUrl:i,storage:d,userStorage:f,storageKey:h,flowType:v,lock:g,debug:p},b,x){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vx({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),b),storageKey:h,autoRefreshToken:l,persistSession:s,detectSessionInUrl:i,storage:d,userStorage:f,flowType:v,lock:g,debug:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new jb(this.realtimeUrl.href,Object.assign(Object.assign({},l),{params:Object.assign({apikey:this.supabaseKey},l==null?void 0:l.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(l,s,i){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:l==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kx=(o,l,s)=>new Xx(o,l,s);function Jx(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const l=o.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}Jx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ja=S.createContext(),Zx="https://qzyhrvxugoqtppbotiel.supabase.co",Fx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6eWhydnh1Z29xdHBwYm90aWVsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNjA1NDYsImV4cCI6MjA2ODkzNjU0Nn0.d47iBV10VKiqTxWHwQkdPonKWfoBf9Xuua2z9KwAzc0",Sr=Kx(Zx,Fx),Px=["@srmist.edu.in","@srmist.in"];function Wx({children:o}){const[l,s]=S.useState(null),[i,d]=S.useState(!0),[f,h]=S.useState(null),v=async()=>{try{const{error:p}=await Sr.auth.signOut({scope:"global"});p&&console.warn("Sign out warning:",p.message)}catch(p){console.warn("Sign out exception:",p)}finally{s(null),h(null)}},g=p=>p?Px.some(b=>p.toLowerCase().endsWith(b)):!1;return S.useEffect(()=>{const p=async j=>{var T;if(!j){s(null);return}const A=(T=j==null?void 0:j.user)==null?void 0:T.email;if(!A){console.log("No email found in session, signing out"),await v(),s(null),h("No email found in authentication");return}g(A)?(console.log("Valid SRM email found:",A),s(j),h(null)):(console.log("User email not from allowed domain:",A),await v(),h("Please use an SRM email (@srmist.edu.in or @srmist.in)"))};(async()=>{try{d(!0);const{data:j,error:A}=await Sr.auth.getSession();A?(console.error("Error getting session:",A),h(A.message),s(null)):await p(j.session)}catch(j){console.error("Unexpected error in fetchSession:",j),h("Failed to initialize session"),s(null)}finally{d(!1)}})();const{data:{subscription:x}}=Sr.auth.onAuthStateChange(async(j,A)=>{var T;console.log("Auth state changed:",j,(T=A==null?void 0:A.user)==null?void 0:T.email);try{switch(d(!0),j){case"SIGNED_IN":console.log("User signed in"),await p(A);break;case"TOKEN_REFRESHED":console.log("Token refreshed"),await p(A);break;case"SIGNED_OUT":console.log("User signed out"),s(null),h(null);break;case"USER_UPDATED":console.log("User updated"),s(A);break;default:console.log("Other auth event:",j);break}}catch(z){console.error("Error in auth state change:",z),h("Error processing authentication")}finally{d(!1)}});return()=>{x.unsubscribe()}},[]),S.useEffect(()=>{const p=setTimeout(()=>{i&&(console.log("Force ending loading state after timeout"),d(!1))},3e3);return()=>clearTimeout(p)},[i]),c.jsx(Ja.Provider,{value:{session:l,supabase:Sr,authError:f,loading:i,signOut:v},children:o})}function g0(){const{session:o,supabase:l,authError:s,loading:i}=S.useContext(Ja),[d,f]=S.useState(null),[h,v]=S.useState(!1),g=Wn();S.useEffect(()=>{o&&o.user&&(console.log("User is logged in, redirecting to home"),g("/home",{replace:!0}))},[o,g]),S.useEffect(()=>{s&&f(s)},[s]);const p=async()=>{try{v(!0),f(null),console.log("Starting Google OAuth login");const{error:b}=await l.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/home`,queryParams:{access_type:"offline",prompt:"select_account"}}});b&&(console.error("Login error:",b),f(`Login failed: ${b.message}`))}catch(b){console.error("Unexpected error during login:",b),f("An unexpected error occurred during login")}finally{v(!1)}};return i?c.jsx("div",{className:"page-container flex items-center justify-center",children:c.jsxs("div",{className:"glass-card p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsx("div",{className:"page-container flex items-center justify-center",children:c.jsxs("div",{className:"w-full max-w-md fade-in",children:[c.jsxs("div",{className:"glass-card p-8 text-center shadow-xl border border-white border-opacity-20",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center text-white text-3xl font-bold mb-6 shadow-lg",children:"SRM"}),c.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Controller of Examinations"}),c.jsx("h3",{className:"text-2xl text-gray-800 mb-2",children:"Grievance Redressal Portal"}),c.jsx("p",{className:"text-gray-600",children:"Access your examination support services"}),c.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-blue-500 to-blue-700 mx-auto mt-4 rounded-full"})]}),d&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg border border-red-200 flex items-center gap-3 slide-in",children:[c.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsx("span",{children:d})]}),c.jsx("button",{onClick:p,disabled:h,className:"primary-button w-full flex items-center justify-center gap-2 py-3 text-base",children:h?c.jsxs("span",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})}),c.jsxs("div",{className:"mt-6 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100",children:[c.jsx("svg",{className:"w-5 h-5 text-blue-500 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Only @srmist.edu.in and @srmist.in email domains are permitted"]})]}),c.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[" ",new Date().getFullYear()," SRM Institute of Science and Technology. All rights reserved."]})]})})}const p0=[{value:"exam_issue",label:"Exam Issue"},{value:"clarification",label:"Clarification"},{value:"reschedule",label:"Reschedule Request"},{value:"grade_dispute",label:"Grade Dispute"},{value:"other",label:"Other"}],Ix=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}];function e1({onRequestSubmitted:o}){const{session:l,supabase:s}=S.useContext(Ja),[i,d]=S.useState(""),[f,h]=S.useState(""),[v,g]=S.useState(""),[p,b]=S.useState("medium"),[x,j]=S.useState(null),[A,T]=S.useState([]),[z,L]=S.useState(""),[Y,G]=S.useState(""),[k,Q]=S.useState(""),[te,P]=S.useState(!1),[ee,ge]=S.useState(null),[Ee,Je]=S.useState(!1),[Ve,Ne]=S.useState(null),[tt,Ze]=S.useState(null),[at,M]=S.useState(!1),[F,ne]=S.useState(0),[pe,J]=S.useState([]),[_,U]=S.useState([]),[X,I]=S.useState([]),[V,le]=S.useState([]),[W,Oe]=S.useState(""),[je,Re]=S.useState([]),[$e,qt]=S.useState("");S.useEffect(()=>{if(!(l!=null&&l.user))return;(async()=>{try{const{data:ce,error:ct}=await s.from("profiles").select("*").eq("id",l.user.id).single();if(ct){console.error("Error fetching profile:",ct);return}Ne(ce),ce.department_id&&L(ce.department_id),ce.branch_id&&Q(ce.branch_id);const{data:At,error:ma}=await s.from("departments").select("*").eq("is_active",!0);if(ma){console.error("Error fetching departments:",ma);return}T(At);const{data:Sa,error:ga}=await s.from("degrees").select("*, departments:department_id(*)");if(ga){console.error("Error fetching degrees:",ga);return}J(Sa||[]),ce!=null&&ce.degree_id&&G(ce.degree_id);const{data:dt,error:An}=await s.from("branches").select("*");if(An)console.error("Error fetching branches:",An);else if(I(dt||[]),ce!=null&&ce.branch_id&&Array.isArray(dt)){const ia=dt.find(Fe=>Fe.id===ce.branch_id);ia&&((!ce.department_id||ce.department_id!==ia.department_id)&&L(ia.department_id),Q(ia.id))}const{data:pt,error:sa}=await s.from("campuses").select("*");sa?console.error("Error fetching campuses:",sa):(Re(pt||[]),ce!=null&&ce.campus_id&&qt(ce.campus_id.toString()))}catch(ce){console.error("Unexpected error:",ce)}})()},[l,s]),S.useEffect(()=>{if(z){const ie=pe.filter(ct=>ct.department_id===parseInt(z));U(ie),ie.find(ct=>ct.id===Y)||G(""),ie.length===1&&G(ie[0].id);const ce=X.filter(ct=>ct.department_id===parseInt(z));le(ce),ce.find(ct=>ct.id===parseInt(k))||Q(""),ce.length===1&&Q(ce[0].id)}else U([]),G(""),le([]),Q("")},[z,pe,X]),S.useEffect(()=>{if(x)if(x.type.split("/")[0]==="image"){const ce=URL.createObjectURL(x);return Ze(ce),()=>URL.revokeObjectURL(ce)}else Ze(null)},[x]);const Tn=ie=>{h(ie.target.value),ne(ie.target.value.length)},la=async ie=>{var ce,ct;if(ie.preventDefault(),!!(l!=null&&l.user)){P(!0),ge(null),Je(!1);try{if(!i.trim())throw new Error("Please enter a request title");if(!f.trim())throw new Error("Please provide a description");if(!v)throw new Error("Please select a request type");if(!z)throw new Error("Please select a department");if(!k)throw new Error("Please select a branch");if(!$e)throw new Error("Please select a campus");let At=null;if(x){const Fe=x.name.split(".").pop();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(Fe.toLowerCase()))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const Cn=`${l.user.id}_${Date.now()}.${Fe}`,{error:Za}=await s.storage.from("request-attachments").upload(Cn,x);if(Za)throw Za;const{data:{publicUrl:el}}=s.storage.from("request-attachments").getPublicUrl(Cn);At=el}let ma="";if(A.length>0){const Fe=A.find(Xt=>Xt.id===z);Fe&&(ma=Fe.name)}let Sa="";if(V.length>0){const Fe=V.find(Xt=>Xt.id===parseInt(k));Fe&&(Sa=Fe.branch_name)}const{data:ga,error:dt}=await s.from("examination_requests").insert({student_id:l.user.id,title:i,description:f,request_type:v,priority:p,degree:Y,department_id:z,branch_id:k,campus_id:parseInt($e),attachments:At?[At]:[],status:"pending"}).select("id, created_at").single();if(dt)throw dt;Oe(ga.id);const An=((ce=p0.find(Fe=>Fe.value===v))==null?void 0:ce.label)||v,pt=((ct=Ix.find(Fe=>Fe.value===p))==null?void 0:ct.label)||p,sa=pe.find(Fe=>Fe.id===parseInt(Y)),ia=sa?`${sa.name} (${sa.code})`:Y;Je(!0),d(""),h(""),g(""),b("medium"),j(null),Ze(null),ne(0),o&&o(),setTimeout(()=>Je(!1),4e3)}catch(At){console.error("Error submitting request:",At),ge(At.message),setTimeout(()=>ge(null),5e3)}finally{P(!1)}}};return c.jsxs("div",{children:[(ee||Ee)&&c.jsxs("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:[ee&&c.jsxs("div",{className:"px-4 py-3 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01M5.07 19h13.86A2 2 0 0021 17.07L13.93 3.52a2 2 0 00-3.86 0L3 17.07A2 2 0 005.07 19z"})}),c.jsx("span",{className:"font-medium",children:ee})]}),Ee&&c.jsxs("div",{className:"px-4 py-3 bg-green-600 text-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"font-medium",children:"Request submitted successfully!"}),W&&c.jsxs("div",{className:"text-xs mt-1",children:["Your Request ID: ",c.jsx("span",{className:"font-mono bg-white text-green-800 px-1 py-0.5 rounded",children:W})]})]})]}),c.jsxs("form",{onSubmit:la,className:"space-y-4",onChange:()=>M(!0),children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Request Title"}),c.jsx("input",{type:"text",value:i,onChange:ie=>d(ie.target.value),className:"form-input",placeholder:"Brief title describing your request",required:!0})]}),c.jsx("div",{children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Request Type"}),c.jsxs("select",{value:v,onChange:ie=>g(ie.target.value),className:"form-select",required:!0,children:[c.jsx("option",{value:"",children:"Select Request Type"}),p0.map(ie=>c.jsx("option",{value:ie.value,children:ie.label},ie.value))]})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),c.jsxs("select",{value:z,onChange:ie=>L(ie.target.value),className:"form-select",required:!0,disabled:A.length===0,children:[c.jsx("option",{value:"",children:"Select Department"}),A.map(ie=>c.jsx("option",{value:ie.id,children:ie.name},ie.id))]}),A.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading departments..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Degree"}),c.jsxs("select",{value:Y,onChange:ie=>G(ie.target.value),className:"form-select",required:!0,disabled:!z,children:[c.jsx("option",{value:"",children:"Select Your Degree"}),_.map(ie=>c.jsxs("option",{value:ie.id,children:[ie.name," (",ie.code,")"]},ie.id))]}),!z&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),z&&_.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No degrees available for selected department"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),c.jsxs("select",{value:k,onChange:ie=>Q(ie.target.value),className:"form-select",required:!0,disabled:!z,children:[c.jsx("option",{value:"",children:"Select Your Branch"}),V.map(ie=>c.jsx("option",{value:ie.id,children:ie.branch_name},ie.id))]}),!z&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),z&&V.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No branches available for selected department"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campus"}),c.jsxs("select",{value:$e,onChange:ie=>qt(ie.target.value),className:"form-select",required:!0,children:[c.jsx("option",{value:"",children:"Select Your Campus"}),je.map(ie=>c.jsx("option",{value:ie.id,children:ie.campus},ie.id))]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),c.jsxs("span",{className:`text-xs ${F>500?"text-red-500":"text-gray-500"}`,children:[F,"/1000 characters"]})]}),c.jsx("textarea",{value:f,onChange:Tn,className:"form-input min-h-[120px]",placeholder:"Provide detailed information about your request",rows:"4",maxLength:1e3,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supporting Files (Optional)"}),c.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition-colors",children:[c.jsx("input",{type:"file",onChange:ie=>j(ie.target.files[0]),className:"w-full",accept:".pdf,.jpg,.jpeg,.png,.gif,.xls,.xlsx"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Accepted formats: PDF, Images (JPG, PNG, GIF), Excel (XLS, XLSX)"})]}),tt&&c.jsxs("div",{className:"mt-2 p-3 border rounded-lg bg-gray-50",children:[c.jsx("div",{className:"font-medium text-sm text-gray-700 mb-1",children:"Preview"}),c.jsx("img",{src:tt,alt:"File preview",className:"max-h-48 rounded border"})]}),x&&!tt&&c.jsxs("div",{className:"mt-2 flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[c.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-700 text-sm font-medium",children:x.name}),c.jsxs("span",{className:"text-xs text-gray-500 block",children:[(x.size/1024).toFixed(1)," KB"]})]})]})]}),c.jsx("div",{className:"pt-3",children:c.jsx("button",{type:"submit",disabled:te,className:`primary-button w-full flex items-center justify-center gap-2 ${te?"opacity-70 cursor-not-allowed":""}`,children:te?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Request..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Submit Request"]})})})]})]})}function v0({status:o}){const l={pending:"status-pending",resolved:"status-resolved",escalated:"status-escalated",terminated:"status-terminated"},s={pending:c.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),resolved:c.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),escalated:c.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),terminated:c.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};return c.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l[o]}`,children:[s[o],o.charAt(0).toUpperCase()+o.slice(1)]})}function t1({refreshKey:o=0}){var F,ne,pe;const{session:l,supabase:s}=S.useContext(Ja),[i,d]=S.useState([]),[f,h]=S.useState(!0),[v,g]=S.useState(null),[p,b]=S.useState(null),[x,j]=S.useState([]),[A,T]=S.useState(!1),[z,L]=S.useState(null),[Y,G]=S.useState(!1),[k,Q]=S.useState(""),[te,P]=S.useState(null),[ee,ge]=S.useState(!1),[Ee,Je]=S.useState(null),Ve=async()=>{try{g(null);const{data:J,error:_}=await s.from("examination_requests").select(`
            *,
            departments:department_id (name, code),
            branches:branch_id (branch_name),
            campuses:campus_id (campus)
          `).eq("student_id",l.user.id).order("created_at",{ascending:!1});if(_)throw _;d(J||[])}catch(J){console.error("Error fetching requests:",J),g("Failed to load your requests. Please try again.")}finally{h(!1)}};S.useEffect(()=>{if(!(l!=null&&l.user))return;(async()=>{try{h(!0);const{data:U,error:X}=await s.from("profiles").select("*").eq("id",l.user.id).single();if(X)throw X;L(U),U.role==="student"?Ve():h(!1)}catch(U){console.error("Error fetching user profile:",U),g("Failed to load your profile information"),h(!1)}})();const _=s.channel("examination_requests_changes").on("postgres_changes",{event:"*",schema:"public",table:"examination_requests",filter:`student_id=eq.${l.user.id}`},U=>{Ve()});return _.subscribe(),()=>{try{s.removeChannel(_)}catch{}}},[l,s,o]);const Ne=async J=>{if(J)try{T(!0);const{data:_,error:U}=await s.from("request_responses").select(`
          *,
          responder:responder_id (full_name, role)
        `).eq("request_id",J).order("created_at",{ascending:!0});if(U)throw U;j(_||[])}catch(_){console.error("Error fetching responses:",_)}finally{T(!1)}},tt=J=>{b(J),Ne(J.id)},Ze=()=>{b(null),j([])},at=J=>{b(J),G(!0),Q(""),P(null)},M=async()=>{if(p){if(!k.trim()&&!te){alert("Please provide additional information or attach a supporting file.");return}try{ge(!0);let J=null;if(te){const I=te.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(I))throw new Error("Unsupported file type.");const le=Date.now(),W=`resubmit_${p.id}_${le}.${I}`,{error:Oe}=await s.storage.from("request-attachments").upload(W,te,{cacheControl:"3600",upsert:!1,contentType:te.type});if(Oe)throw Oe;const{data:je}=s.storage.from("request-attachments").getPublicUrl(W);J=je.publicUrl}const _=`

[Resubmission on ${new Date().toLocaleString()}]
${k}`,U=J?[...p.attachments||[],J]:p.attachments||[],{error:X}=await s.from("examination_requests").update({status:"pending",description:(p.description||"")+_,attachments:U}).eq("id",p.id);if(X)throw X;await s.from("request_responses").insert({request_id:p.id,responder_id:l.user.id,response_text:k,response_type:"resubmission",attachments:J?[J]:[]}),d(I=>I.map(V=>V.id===p.id?{...V,status:"pending",description:(V.description||"")+_,attachments:U}:V)),G(!1),b(null)}catch(J){console.error("Resubmit failed:",J),alert("Failed to resubmit: "+(J.message||"Unknown error"))}finally{ge(!1)}}};return z&&(z.role==="admin"||z.role==="super_admin")?null:f?c.jsxs("div",{className:"glass-card p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Request History"}),c.jsxs("div",{className:"animate-pulse space-y-4",children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),c.jsx("div",{className:"h-20 bg-gray-200 rounded"}),c.jsx("div",{className:"h-20 bg-gray-200 rounded"}),c.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]}):v?c.jsxs("div",{className:"glass-card p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Request History"}),c.jsx("div",{className:"bg-red-50 p-4 rounded-lg text-red-700 mb-6 border border-red-200",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsx("p",{className:"font-medium",children:v})]})})]}):c.jsxs("div",{className:"glass-card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Request History"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[i.length," ",i.length===1?"request":"requests"]}),(z==null?void 0:z.role)==="student"&&i.length>0&&c.jsx("span",{className:"text-xs text-gray-400",title:"Bulk delete disabled",children:"Delete All My Requests (disabled)"})]})]}),i.length===0?c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:[c.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("p",{className:"text-gray-500 mb-3",children:"You haven't submitted any requests yet."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Your examination requests will appear here once submitted."})]}):c.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden border border-gray-200",children:c.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request ID"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campus"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(J=>{var _,U,X;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 font-mono text-xs text-gray-700",children:J.id}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.title}),c.jsx("div",{className:"text-xs text-gray-500 capitalize",children:J.request_type.replace("_"," ")})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-900",children:((_=J.departments)==null?void 0:_.name)||"Unknown"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-900",children:((U=J.branches)==null?void 0:U.branch_name)||"-"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-900",children:((X=J.campuses)==null?void 0:X.campus)||"-"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:new Date(J.created_at).toLocaleDateString()})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(v0,{status:J.status}),J.viewed&&c.jsxs("span",{title:"Viewed by faculty/admin",className:"inline-flex items-center text-green-700 bg-green-100 border border-green-200 px-2 py-0.5 rounded-full text-[10px]",children:[c.jsxs("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Viewed"]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>tt(J),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-blue-200 text-blue-700 bg-blue-50 hover:bg-blue-100",children:[c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]}),J.status==="terminated"&&c.jsx("button",{onClick:()=>at(J),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-purple-200 text-purple-700 bg-purple-50 hover:bg-purple-100",children:"Resubmit"})]})})]},J.id)})})]})})}),p&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:p.title}),c.jsx("button",{onClick:Ze,className:"text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Request ID"}),c.jsx("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded mt-1",children:p.id})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(v0,{status:p.status}),p.viewed&&c.jsxs("span",{className:"inline-flex items-center text-green-700 bg-green-100 border border-green-200 px-2 py-0.5 rounded-full text-[10px]",children:[c.jsxs("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Viewed by Faculty"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),c.jsx("p",{className:"text-sm",children:((F=p.departments)==null?void 0:F.name)||"Unknown"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Branch"}),c.jsx("p",{className:"text-sm",children:((ne=p.branches)==null?void 0:ne.branch_name)||"-"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Campus"}),c.jsx("p",{className:"text-sm",children:((pe=p.campuses)==null?void 0:pe.campus)||"-"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Submitted On"}),c.jsx("p",{className:"text-sm",children:new Date(p.created_at).toLocaleString()})]})]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Description"}),c.jsx("div",{className:"bg-white p-4 rounded border border-gray-200",children:c.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:p.description})}),p.attachments&&p.attachments.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Attachments"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:p.attachments.map((J,_)=>c.jsxs("a",{href:J,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors border border-blue-200",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",_+1]},_))})]})]}),x.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Responses"}),c.jsx("div",{className:"space-y-4",children:x.map(J=>{var _;return c.jsxs("div",{className:"bg-white p-4 rounded border border-gray-200",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:((_=J.responder)==null?void 0:_.full_name)||"Administrator"}),c.jsx("span",{className:"text-xs text-gray-500",children:new Date(J.created_at).toLocaleString()})]}),c.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:J.response_text}),J.attachments&&J.attachments.length>0&&c.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:J.attachments.map((U,X)=>c.jsxs("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",X+1]},X))})})]},J.id)})})]}),c.jsx("div",{className:"text-right",children:c.jsx("button",{onClick:Ze,className:"secondary-button",children:"Close"})})]})}),Y&&p&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Resubmit Request"}),c.jsx("button",{onClick:()=>G(!1),className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"You're resubmitting the same request. The Request ID will remain unchanged."}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Information"}),c.jsx("textarea",{value:k,onChange:J=>Q(J.target.value),className:"form-input min-h-[120px]",placeholder:"Provide additional details or clarifications"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (optional)"}),c.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.gif,.xls,.xlsx",onChange:J=>P(J.target.files[0])}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted: PDF, Images, Excel"})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{className:"secondary-button",onClick:()=>G(!1),children:"Cancel"}),c.jsx("button",{className:`primary-button ${ee?"opacity-70 cursor-not-allowed":""}`,onClick:M,disabled:ee,children:ee?"Submitting...":"Resubmit"})]})]})})]})}function y0({status:o}){const l={pending:"status-pending",resolved:"status-resolved",escalated:"status-escalated",terminated:"status-terminated"};return c.jsx("span",{className:`status-badge ${l[o]||"bg-gray-100"}`,children:o.charAt(0).toUpperCase()+o.slice(1)})}function W0(){var sa,ia,Fe,Xt,Cn,Za,el,li,Fa;const{session:o,supabase:l,signOut:s}=S.useContext(Ja),i=Wn(),[d,f]=S.useState(!0),[h,v]=S.useState(null),[g,p]=S.useState(null),[b,x]=S.useState([]),[j,A]=S.useState([]),[T,z]=S.useState(null),[L,Y]=S.useState(""),[G,k]=S.useState(null),[Q,te]=S.useState(!1),[P,ee]=S.useState("pending"),[ge,Ee]=S.useState(null),[Je,Ve]=S.useState(!1),[Ne,tt]=S.useState(""),[Ze,at]=S.useState([]),[M,F]=S.useState(!1),[ne,pe]=S.useState(""),[J,_]=S.useState("info"),[U,X]=S.useState(!1),[I,V]=S.useState({totalRequests:0,byStatus:{pending:0,escalated:0,resolved:0,terminated:0},totalStudents:0,totalAdmins:0,totalSuperAdmins:0,departments:0,branches:0}),[le,W]=S.useState(""),[Oe,je]=S.useState(""),[Re,$e]=S.useState({total:0,byStatus:{pending:0,escalated:0,resolved:0,terminated:0}}),[qt,Tn]=S.useState({departments:0,branches:0,byStatus:{pending:0,escalated:0,resolved:0,terminated:0}}),la=async()=>{await s(),i("/login",{replace:!0})},ie=(H,Z="info")=>{pe(H),_(Z),setTimeout(()=>pe(""),3e3)};S.useEffect(()=>{if(!(o!=null&&o.user))return;(async()=>{try{console.log("Fetching admin profile...");const{data:Z,error:K}=await l.from("profiles").select("*, departments:department_id(*)").eq("id",o.user.id).single();if(K)throw console.error("Error fetching admin profile:",K),K;if(console.log("Admin profile loaded:",Z),p(Z),Z.role!=="admin"&&Z.role!=="super_admin"){v("Access denied. You do not have administrator privileges."),f(!1);return}const he=Z.role==="super_admin"?"home":"pending";ee(he),await ce(Z,he)}catch(Z){console.error("Error in fetchAdminProfile:",Z),v("Failed to load your profile information: "+(Z.message||"Unknown error")),f(!1)}})()},[o,l]),S.useEffect(()=>{if(G)if(G.type.split("/")[0]==="image"){const Z=URL.createObjectURL(G);return Ee(Z),()=>URL.revokeObjectURL(Z)}else Ee(null)},[G]),S.useEffect(()=>{if(Ne.trim()===""){A(b);return}const H=Ne.toLowerCase().trim(),Z=b.filter(K=>K.id.toLowerCase().includes(H));A(Z)},[Ne,b]);const ce=async(H,Z)=>{if(!H){console.error("Cannot fetch requests: adminProfile is null");return}try{Ve(!0),console.log("Fetching requests for role:",H.role,"tab:",Z);let K=l.from("examination_requests").select(`
          *,
          departments:department_id(*),
          branches:branch_id(*),
          campuses:campus_id(campus),
          student:student_id(id, full_name, email, student_id, phone),
          responses:request_responses(*)
        `).order("created_at",{ascending:!1});if(H.role==="admin"&&(console.log("Filtering by department:",H.department_id),K=K.eq("department_id",H.department_id)),H.role==="super_admin")if(Z==="home"){const[nt,Be,Qe,We,ft,vt,Nt,Kt,Rn,ja]=await Promise.all([l.from("examination_requests").select("id",{count:"exact",head:!0}),l.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","pending"),l.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","escalated"),l.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","resolved"),l.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","terminated"),l.from("profiles").select("id",{count:"exact",head:!0}).eq("role","student"),l.from("profiles").select("id",{count:"exact",head:!0}).eq("role","admin"),l.from("profiles").select("id",{count:"exact",head:!0}).eq("role","super_admin"),l.from("departments").select("id",{count:"exact",head:!0}),l.from("branches").select("id",{count:"exact",head:!0})]),ke={totalRequests:nt.count||0,byStatus:{pending:Be.count||0,escalated:Qe.count||0,resolved:We.count||0,terminated:ft.count||0},totalStudents:vt.count||0,totalAdmins:Nt.count||0,totalSuperAdmins:Kt.count||0,departments:Rn.count||0,branches:ja.count||0};V(ke),$e({total:nt.count||0,byStatus:{pending:Be.count||0,escalated:Qe.count||0,resolved:We.count||0,terminated:ft.count||0}}),Tn({departments:ke.departments,branches:ke.branches,byStatus:{...ke.byStatus}}),x([]),A([]),Ve(!1),f(!1);return}else Z==="all"?console.log("Super admin viewing all requests (no status filter)"):Z==="resolved"?(console.log("Super admin viewing all resolved requests"),K=K.eq("status","resolved")):Z==="escalated"?(console.log("Super admin viewing all escalated requests"),K=K.eq("status","escalated")):Z==="terminated"?(console.log("Super admin viewing all terminated requests"),K=K.eq("status","terminated")):Z==="pending"&&(console.log("Super admin viewing all pending requests"),K=K.eq("status","pending"));else Z==="pending"?(console.log("Filtering for pending requests only"),K=K.eq("status","pending")):Z==="resolved"?(console.log("Filtering for resolved requests only"),K=K.eq("status","resolved")):Z==="escalated"?(console.log("Filtering for escalated requests only"),K=K.eq("status","escalated")):Z==="terminated"&&(console.log("Filtering for terminated requests only"),K=K.eq("status","terminated"));console.log("Final query parameters:",{role:H.role,tab:Z,department:H.role==="admin"?H.department_id:"all"});const{data:he,error:_e}=await K;if(_e)throw console.error("Error in request query:",_e),_e;console.log(`Requests loaded for ${Z} tab:`,(he==null?void 0:he.length)||0);let Pe=he;if(Pe&&Pe.length>0){const nt=Pe.filter(Be=>!Be.student||!Be.student.email);if(nt.length>0){console.warn(`${nt.length} requests have missing student data`);for(const Be of nt){console.log(`Fetching missing student data for request ${Be.id}`);const{data:Qe,error:We}=await l.from("profiles").select("id, full_name, email, student_id, phone").eq("id",Be.student_id).single();We?console.error(`Error fetching student data for request ${Be.id}:`,We):Qe&&(Be.student=Qe,console.log(`Updated student data for request ${Be.id}:`,Qe.email))}}}x(Pe||[]),A(Pe||[])}catch(K){console.error("Error fetching requests:",K),v("Failed to load requests: "+(K.message||"Unknown error"))}finally{Ve(!1),f(!1)}},ct=async(H,Z)=>{try{let K=null,he=null;H&&(K=new Date(`${H}T00:00:00`).toISOString()),Z&&(he=new Date(`${Z}T23:59:59.999`).toISOString());const _e=ke=>{let pa=l.from("examination_requests").select("id",{count:"exact",head:!0});return ke&&(pa=pa.eq("status",ke)),K&&(pa=pa.gte("created_at",K)),he&&(pa=pa.lte("created_at",he)),pa},Pe=(()=>{let ke=l.from("examination_requests").select("department_id");return K&&(ke=ke.gte("created_at",K)),he&&(ke=ke.lte("created_at",he)),ke})(),nt=(()=>{let ke=l.from("examination_requests").select("branch_id");return K&&(ke=ke.gte("created_at",K)),he&&(ke=ke.lte("created_at",he)),ke})(),[Be,Qe,We,ft,vt,Nt,Kt]=await Promise.all([_e(),_e("pending"),_e("escalated"),_e("resolved"),_e("terminated"),Pe,nt]);$e({total:Be.count||0,byStatus:{pending:Qe.count||0,escalated:We.count||0,resolved:ft.count||0,terminated:vt.count||0}});const Rn=Array.isArray(Nt==null?void 0:Nt.data)?new Set(Nt.data.map(ke=>ke.department_id).filter(ke=>ke!=null)).size:0,ja=Array.isArray(Kt==null?void 0:Kt.data)?new Set(Kt.data.map(ke=>ke.branch_id).filter(ke=>ke!=null)).size:0;Tn({departments:Rn,branches:ja,byStatus:{pending:Qe.count||0,escalated:We.count||0,resolved:ft.count||0,terminated:vt.count||0}})}catch(K){console.error("Failed to update pie stats:",K),ie("Failed to update chart. Try a different date range.","error")}},At=async H=>{z(H),Y(""),k(null),Ee(null);try{await l.from("examination_requests").update({viewed:!0}).eq("id",H.id)}catch(Z){console.warn("Could not mark request as viewed (boolean):",(Z==null?void 0:Z.message)||Z)}try{F(!0);const{data:Z,error:K}=await l.from("request_responses").select(`
          *,
          responder:responder_id (full_name, role)
        `).eq("request_id",H.id).neq("response_type","viewed").order("created_at",{ascending:!0});K?console.error("Error fetching responses:",K):at(Z||[])}catch(Z){console.error("Unexpected error fetching responses:",Z)}finally{F(!1)}},ma=async()=>{if(!T||!L.trim()){ie("please fill the respond to request","warning");return}try{te(!0);let H=null;if(G){const Pe=G.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(Pe))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const Be=T.id,Qe=Date.now(),We=`response_${Be}_${Qe}.${Pe}`;console.log("Uploading response file:",We);const{data:ft,error:vt}=await l.storage.from("request-responses").upload(We,G,{cacheControl:"3600",upsert:!1,contentType:G.type});if(vt)throw console.error("File upload error:",vt),vt;const{data:{publicUrl:Nt}}=l.storage.from("request-responses").getPublicUrl(We);H=Nt,console.log("File uploaded successfully, URL:",H);try{(await fetch(H,{method:"HEAD"})).ok||console.warn("Attachment URL may not be publicly accessible:",H)}catch(Kt){console.warn("Could not verify attachment URL accessibility:",Kt)}}console.log("Creating response record...");let Z="";T.status==="escalated"&&(g==null?void 0:g.role)==="super_admin"&&(Z="[Resolved by Super Admin]");const{data:K,error:he}=await l.from("request_responses").insert({request_id:T.id,responder_id:o.user.id,response_text:Z?`${Z} ${L}`:L,response_type:"resolution",attachments:H?[H]:[]}).select("*");if(he)throw console.error("Response record error:",he),he;console.log("Response record created:",K),console.log("Updating request status...");const{error:_e}=await l.from("examination_requests").update({status:"resolved",resolved_at:new Date().toISOString(),resolution_notes:L,assigned_admin_id:o.user.id}).eq("id",T.id);if(_e)throw console.error("Request update error:",_e),_e;z(null),at([]),g&&ce(g,"pending")}catch(H){console.error("Error resolving request:",H),alert("Failed to resolve request: "+(H.message||"Unknown error"))}finally{te(!1)}},Sa=async()=>{if(!T||!L.trim()){ie("please fill the respond to request","warning");return}try{te(!0);let H=null;if(G){const _e=G.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(_e))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const nt=T.id,Be=Date.now(),Qe=`escalation_${nt}_${Be}.${_e}`;console.log("Uploading escalation file:",Qe);const{data:We,error:ft}=await l.storage.from("request-responses").upload(Qe,G,{cacheControl:"3600",upsert:!1,contentType:G.type});if(ft)throw console.error("File upload error:",ft),ft;const{data:{publicUrl:vt}}=l.storage.from("request-responses").getPublicUrl(Qe);H=vt,console.log("File uploaded successfully, URL:",H);try{(await fetch(H,{method:"HEAD"})).ok||console.warn("Attachment URL may not be publicly accessible:",H)}catch(Nt){console.warn("Could not verify attachment URL accessibility:",Nt)}}console.log("Creating escalation response record...");const{data:Z,error:K}=await l.from("request_responses").insert({request_id:T.id,responder_id:o.user.id,response_text:L,response_type:"escalation",attachments:H?[H]:[]}).select("*");if(K)throw console.error("Response record error:",K),K;console.log("Escalation response record created:",Z),console.log("Updating request status to escalated...");const{error:he}=await l.from("examination_requests").update({status:"escalated",assigned_admin_id:o.user.id}).eq("id",T.id);if(he)throw console.error("Request update error:",he),he;z(null),at([]),g&&ce(g,"pending")}catch(H){console.error("Error escalating request:",H),alert("Failed to escalate request: "+(H.message||"Unknown error"))}finally{te(!1)}},ga=async()=>{if(!T||!L.trim()){ie("please fill the respond to request","warning");return}try{te(!0);let H=null;if(G){const _e=G.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(_e))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const nt=T.id,Be=Date.now(),Qe=`termination_${nt}_${Be}.${_e}`;console.log("Uploading termination file:",Qe);const{data:We,error:ft}=await l.storage.from("request-responses").upload(Qe,G,{cacheControl:"3600",upsert:!1,contentType:G.type});if(ft)throw console.error("File upload error:",ft),ft;const{data:{publicUrl:vt}}=l.storage.from("request-responses").getPublicUrl(Qe);H=vt,console.log("File uploaded successfully, URL:",H);try{(await fetch(H,{method:"HEAD"})).ok||console.warn("Attachment URL may not be publicly accessible:",H)}catch(Nt){console.warn("Could not verify attachment URL accessibility:",Nt)}}console.log("Creating termination response record...");const{data:Z,error:K}=await l.from("request_responses").insert({request_id:T.id,responder_id:o.user.id,response_text:L,response_type:"termination",attachments:H?[H]:[]}).select("*");if(K)throw console.error("Response record error:",K),K;console.log("Termination response record created:",Z),console.log("Updating request status to terminated...");const{error:he}=await l.from("examination_requests").update({status:"terminated",resolved_at:new Date().toISOString(),resolution_notes:L,assigned_admin_id:o.user.id}).eq("id",T.id);if(he)throw console.error("Request update error:",he),he;z(null),at([]),g&&ce(g,"pending")}catch(H){console.error("Error terminating request:",H),alert("Failed to terminate request: "+(H.message||"Unknown error"))}finally{te(!1)}},dt=H=>{console.log("Changing tab from",P,"to",H),ee(H),tt(""),g&&requestAnimationFrame(()=>ce(g,H))},An=H=>{tt(H.target.value)},pt=async(H,Z)=>{const{data:K,error:he}=await l.from("examination_requests").update({priority:H}).eq("id",Z).select();if(console.log(he?"Can't Change Priority.":"Successfully changed priority."),K&&K.length>0){const{data:_e,error:Pe}=await l.from("examination_requests").select(`
          *,
          departments:department_id(*),
          student:student_id(id, full_name, email, student_id, phone),
          responses:request_responses(*)
        `).eq("id",Z).single();At(!Pe&&_e?_e:K[0])}};return d&&!g?c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-4 border-blue-600 border-opacity-50 border-t-blue-600"}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading admin dashboard..."})]})}):h?c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"glass-card p-8 w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Access Error"}),c.jsx("p",{className:"mt-2 text-red-600",children:h})]}),c.jsx("button",{onClick:()=>window.location.href="/",className:"secondary-button w-full",children:"Back to Home"})]})}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"dashboard-container fade-in",children:[ne&&c.jsx("div",{className:`mb-4 p-3 rounded-md border ${J==="warning"?"bg-yellow-100 border-yellow-300 text-yellow-800":J==="error"?"bg-red-100 border-red-300 text-red-800":J==="success"?"bg-green-100 border-green-300 text-green-800":"bg-blue-100 border-blue-300 text-blue-800"}`,children:ne}),c.jsxs("div",{className:"card-header",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:(g==null?void 0:g.role)==="super_admin"?"SuperAdmin Dashboard  Controller of Examinations":"Admin Dashboard  Controller of Examinations"}),c.jsx("div",{className:"text-gray-600",children:(g==null?void 0:g.role)==="super_admin"?"Manage all student requests across departments":`Managing ${((sa=g==null?void 0:g.departments)==null?void 0:sa.name)||"Department"} requests`})]}),c.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col md:flex-row gap-2",children:[(g==null?void 0:g.role)==="super_admin"&&c.jsxs("button",{onClick:async()=>{if(!(U||!window.confirm("Delete all resolved requests"+((g==null?void 0:g.role)==="admin"?" in your department":" (all departments)")+"? This cannot be undone.")))try{X(!0);let Z=l.from("examination_requests").select("id").eq("status","resolved");(g==null?void 0:g.role)==="admin"&&(Z=Z.eq("department_id",g.department_id));const{data:K,error:he}=await Z;if(he)throw he;const _e=(K||[]).map(Be=>Be.id);if(_e.length===0){ie("No resolved requests to delete.","info");return}const{error:Pe}=await l.from("request_responses").delete().in("request_id",_e);if(Pe)throw Pe;const{error:nt}=await l.from("examination_requests").delete().in("id",_e);if(nt)throw nt;ie(`Deleted ${_e.length} resolved request(s).`,"success"),g&&await ce(g,P)}catch(Z){console.error("Delete resolved failed:",Z),ie("Failed to delete resolved requests. "+(Z.message||""),"error")}finally{X(!1)}},className:`danger-button flex items-center gap-2 ${U?"opacity-70 cursor-not-allowed":""}`,disabled:U,title:"Delete all resolved requests",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7V4a1 1 0 011-1h4a1 1 0 011 1v3m-9 0h10"})}),U?"Deleting":"Delete All Resolved"]}),c.jsxs("button",{onClick:la,className:"danger-button flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]}),c.jsx("div",{className:"flex overflow-x-auto bg-white rounded-lg shadow mb-6",children:(g==null?void 0:g.role)==="super_admin"?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>dt("home"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${P==="home"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001 1h6a1 1 0 001-1V10m-9 11V9m0 0l-2 2m2-2l2 2"})}),"Home"]})}),c.jsx("button",{onClick:()=>dt("all"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${P==="all"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7h18M3 12h18M3 17h18"})}),"All Requests",P==="all"&&j.length>0&&c.jsx("span",{className:"ml-2 bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:j.length})]})}),c.jsx("button",{onClick:()=>dt("escalated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${P==="escalated"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Escalated Pending",P==="escalated"&&j.length>0&&c.jsx("span",{className:"ml-2 bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:j.length})]})}),c.jsx("button",{onClick:()=>dt("resolved"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${P==="resolved"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Resolved"]})}),c.jsx("button",{onClick:()=>dt("terminated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${P==="terminated"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Terminated"]})}),c.jsx("button",{onClick:()=>dt("pending"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${P==="pending"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pending"]})})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>dt("pending"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${P==="pending"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pending",P==="pending"&&j.length>0&&c.jsx("span",{className:"ml-2 bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:j.length})]})}),c.jsx("button",{onClick:()=>dt("resolved"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${P==="resolved"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(g==null?void 0:g.role)==="super_admin"?"Resolved by Super Admin":"Resolved"]})}),(g==null?void 0:g.role)!=="super_admin"&&c.jsx("button",{onClick:()=>dt("escalated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${P==="escalated"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Escalated"]})}),(g==null?void 0:g.role)!=="super_admin"&&c.jsx("button",{onClick:()=>dt("terminated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${P==="terminated"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Terminated"]})})]})}),(g==null?void 0:g.role)==="super_admin"&&P==="home"?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Total Requests"}),c.jsx("div",{className:"text-2xl font-bold",children:I.totalRequests})]}),c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Students"}),c.jsx("div",{className:"text-2xl font-bold",children:I.totalStudents})]}),c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Admins"}),c.jsx("div",{className:"text-2xl font-bold",children:I.totalAdmins})]}),c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Super Admins"}),c.jsx("div",{className:"text-2xl font-bold",children:I.totalSuperAdmins})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"glass-card p-6 flex flex-col items-center justify-center h-full",children:[c.jsxs("div",{className:"w-full flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Requests by Status"}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",Re.total]})]}),c.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-3 gap-2 mb-4",children:[c.jsxs("div",{className:"md:col-span-1",children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),c.jsx("input",{type:"date",value:le,onChange:H=>{W(H.target.value),ct(H.target.value,Oe)},className:"form-input py-2"})]}),c.jsxs("div",{className:"md:col-span-1",children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),c.jsx("input",{type:"date",value:Oe,onChange:H=>{je(H.target.value),ct(le,H.target.value)},className:"form-input py-2"})]}),c.jsx("div",{className:"md:col-span-1 flex items-end",children:c.jsx("button",{onClick:()=>{W(""),je(""),ct("","")},className:"secondary-button w-full",children:"Reset"})})]}),(()=>{const H=Math.max(1,Re.total),Z=Re.byStatus,K={pending:Z.pending/H*100,escalated:Z.escalated/H*100,resolved:Z.resolved/H*100,terminated:Z.terminated/H*100},he=`conic-gradient(
                    #3b82f6 0% ${K.pending}%,
                    #f59e0b ${K.pending}% ${K.pending+K.escalated}%,
                    #10b981 ${K.pending+K.escalated}% ${K.pending+K.escalated+K.resolved}%,
                    #ef4444 ${K.pending+K.escalated+K.resolved}% 100%
                  )`;return c.jsxs("div",{className:"w-full flex flex-col items-center",children:[c.jsx("div",{className:"w-48 h-48 rounded-full",style:{background:he}}),c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#3b82f6"}}),"Pending (",Z.pending,")"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#f59e0b"}}),"Escalated (",Z.escalated,")"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#10b981"}}),"Resolved (",Z.resolved,")"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#ef4444"}}),"Terminated (",Z.terminated,")"]})]})]})})()]}),c.jsxs("div",{className:"glass-card p-6 lg:col-span-2 h-full flex flex-col",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Organization Overview"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:grid-rows-2 auto-rows-fr gap-4 h-full",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Departments (in range)"}),c.jsx("div",{className:"text-2xl font-bold",children:qt.departments})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Branches (in range)"}),c.jsx("div",{className:"text-2xl font-bold",children:qt.branches})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Active Pending"}),c.jsx("div",{className:"text-2xl font-bold",children:qt.byStatus.pending})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Escalated Pending"}),c.jsx("div",{className:"text-2xl font-bold",children:qt.byStatus.escalated})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Resolved"}),c.jsx("div",{className:"text-2xl font-bold",children:qt.byStatus.resolved})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Terminated"}),c.jsx("div",{className:"text-2xl font-bold",children:qt.byStatus.terminated})]})]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:Ne,onChange:An,placeholder:"Search by Request ID...",className:"form-input pl-10 w-full md:w-64"}),c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})}),Je?c.jsxs("div",{className:"text-center py-10",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-600 border-opacity-50 border-t-blue-600"}),c.jsx("p",{className:"mt-4 text-gray-500",children:"Loading requests..."})]}):j.length===0?c.jsxs("div",{className:"glass-card p-8 text-center",children:[c.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Ne?c.jsxs("p",{className:"text-gray-500",children:['No requests found matching ID: "',Ne,'"']}):c.jsxs("p",{className:"text-gray-500",children:["No ",P," requests found."]})]}):c.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:c.jsxs("table",{className:"data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"data-table-header",children:"Actions"}),c.jsx("th",{className:"data-table-header",children:"Request ID"}),c.jsx("th",{className:"data-table-header",children:"Title"}),c.jsx("th",{className:"data-table-header",children:"Student"}),c.jsx("th",{className:"data-table-header",children:"Department"}),c.jsx("th",{className:"data-table-header",children:"Branch"}),c.jsx("th",{className:"data-table-header",children:"Campus"}),c.jsx("th",{className:"data-table-header",children:"Date"}),c.jsx("th",{className:"data-table-header",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map(H=>{var Z,K,he,_e,Pe;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[c.jsx("td",{className:"data-table-cell",children:c.jsx("button",{onClick:()=>At(H),className:"primary-button text-sm py-1 px-3",children:"View & Respond"})}),c.jsx("td",{className:"data-table-cell",children:c.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:H.id})}),c.jsxs("td",{className:"data-table-cell",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.title}),c.jsx("div",{className:"text-xs text-gray-500",children:H.request_type.replace("_"," ")})]}),c.jsxs("td",{className:"data-table-cell",children:[c.jsx("div",{className:"text-sm",children:(Z=H.student)==null?void 0:Z.full_name}),c.jsx("div",{className:"text-xs text-gray-500",children:(K=H.student)==null?void 0:K.student_id})]}),c.jsx("td",{className:"data-table-cell",children:c.jsx("div",{className:"text-sm",children:((he=H.departments)==null?void 0:he.name)||"Unknown"})}),c.jsx("td",{className:"data-table-cell",children:c.jsx("div",{className:"text-sm",children:((_e=H.branches)==null?void 0:_e.branch_name)||"-"})}),c.jsx("td",{className:"data-table-cell",children:c.jsx("div",{className:"text-sm",children:((Pe=H.campuses)==null?void 0:Pe.campus)||"-"})}),c.jsx("td",{className:"data-table-cell",children:c.jsx("div",{className:"text-sm text-gray-500",children:new Date(H.created_at).toLocaleDateString()})}),c.jsx("td",{className:"data-table-cell",children:c.jsx(y0,{status:H.status})})]},H.id)})})]})})]})]}),T&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-container",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Request Details"}),c.jsx("button",{onClick:()=>z(null),className:"text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),ne&&c.jsx("div",{className:`mb-4 p-3 rounded-md border ${J==="warning"?"bg-yellow-100 border-yellow-300 text-yellow-800":J==="error"?"bg-red-100 border-red-300 text-red-800":J==="success"?"bg-green-100 border-green-300 text-green-800":"bg-blue-100 border-blue-300 text-blue-800"}`,children:ne}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Request Information"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Request ID"}),c.jsx("span",{className:"block font-mono text-sm bg-gray-100 px-2 py-1 rounded mt-1",children:T.id})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Status"}),c.jsx(y0,{status:T.status})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Type"}),c.jsx("span",{className:"capitalize text-sm",children:T.request_type.replace("_"," ")})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Campus"}),c.jsx("span",{className:"text-sm",children:((ia=T.campuses)==null?void 0:ia.campus)||"-"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Priority"}),c.jsxs("select",{className:"capitalize text-sm border rounded px-2 py-1 mt-1",value:T.priority,onChange:H=>pt(H.target.value,T.id),children:[c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"medium",children:"Medium"}),c.jsx("option",{value:"high",children:"High"})]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Submitted On"}),c.jsx("span",{className:"text-sm",children:new Date(T.created_at).toLocaleString()})]})]})]}),c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Student Information"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Name"}),c.jsx("span",{className:"block text-sm font-medium",children:(Fe=T.student)==null?void 0:Fe.full_name})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Email"}),c.jsx("span",{className:"block text-sm",children:(Xt=T.student)==null?void 0:Xt.email})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Student ID"}),c.jsx("span",{className:"block text-sm",children:(Cn=T.student)==null?void 0:Cn.student_id})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Phone"}),c.jsx("span",{className:"block text-sm",children:((Za=T.student)==null?void 0:Za.phone)||"Not provided"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Department"}),c.jsx("span",{className:"block text-sm",children:((el=T.departments)==null?void 0:el.name)||"Unknown"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Branch"}),c.jsx("span",{className:"block text-sm",children:((li=T.branches)==null?void 0:li.branch_name)||"-"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Campus"}),c.jsx("span",{className:"block text-sm",children:((Fa=T.campuses)==null?void 0:Fa.campus)||"-"})]})]})]})]}),c.jsxs("div",{className:"glass-card p-5 mb-6",children:[c.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:T.title}),c.jsx("p",{className:"bg-gray-50 p-4 rounded text-gray-700 mb-4",children:T.description}),T.attachments&&T.attachments.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Attachments"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:T.attachments.map((H,Z)=>c.jsxs("a",{href:H,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors border border-blue-200",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",Z+1]},Z))})]})]}),M?c.jsxs("div",{className:"glass-card p-5 mb-6 text-center",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-5 w-5 border-2 border-gray-400 border-opacity-50 border-t-gray-600"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading previous responses..."})]}):Ze.length>0?c.jsxs("div",{className:"glass-card p-5 mb-6",children:[c.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"Previous Responses"}),c.jsx("div",{className:"space-y-4",children:Ze.map(H=>{var Z,K;return c.jsxs("div",{className:"border-l-4 border-blue-500 bg-blue-50 p-4 rounded-r-lg",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-blue-800",children:((Z=H.responder)==null?void 0:Z.full_name)||"Administrator"}),c.jsx("span",{className:"text-xs ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:((K=H.responder)==null?void 0:K.role)||"admin"})]}),c.jsx("div",{className:"text-xs text-gray-500",children:new Date(H.created_at).toLocaleString()})]}),c.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:H.response_text}),H.attachments&&H.attachments.length>0&&c.jsxs("div",{className:"mt-3 pt-2 border-t border-blue-200",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Attachments:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:H.attachments.map((he,_e)=>c.jsxs("a",{href:he,target:"_blank",rel:"noopener noreferrer",className:"text-xs inline-flex items-center gap-1 bg-white text-blue-700 px-2 py-1 rounded border border-blue-300 hover:bg-blue-50",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",_e+1]},_e))})]})]},H.id)})})]}):null,(T.status==="pending"||T.status==="escalated"&&(g==null?void 0:g.role)==="super_admin")&&c.jsxs("div",{className:"glass-card p-5",children:[c.jsx("h4",{className:"text-lg font-medium mb-4",children:"Respond to Request"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Response"}),c.jsx("textarea",{value:L,onChange:H=>Y(H.target.value),className:"form-input min-h-[120px]",placeholder:"Type your response to the student here...",rows:"4",required:!0})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),c.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 bg-gray-50",children:[c.jsx("input",{type:"file",onChange:H=>k(H.target.files[0]),className:"w-full",accept:".pdf,.jpg,.jpeg,.png,.gif,.xls,.xlsx"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Accepted formats: PDF, Images (JPG, PNG, GIF), Excel (XLS, XLSX)"})]}),ge&&c.jsxs("div",{className:"mt-2 p-3 border rounded-lg bg-gray-50",children:[c.jsx("div",{className:"font-medium text-sm text-gray-700 mb-1",children:"Preview"}),c.jsx("img",{src:ge,alt:"File preview",className:"max-h-48 rounded border"})]}),G&&!ge&&c.jsxs("div",{className:"mt-2 flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[c.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-gray-700 text-sm",children:G.name})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("button",{onClick:ma,disabled:Q,className:"success-button flex items-center gap-2",children:Q?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Resolve Request"]})}),(g==null?void 0:g.role)==="admin"&&c.jsx("button",{onClick:Sa,disabled:Q,className:"primary-button flex items-center gap-2",children:Q?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),"Escalate to SuperAdmin"]})}),c.jsx("button",{onClick:ga,disabled:Q,className:"danger-button flex items-center gap-2",children:Q?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Terminate Request"]})})]})]})]})})]})}function I0(){const{session:o,supabase:l}=S.useContext(Ja),[s,i]=S.useState(null),[d,f]=S.useState(null),[h,v]=S.useState(""),[g,p]=S.useState(""),[b,x]=S.useState(""),[j,A]=S.useState(""),[T,z]=S.useState([]),[L,Y]=S.useState([]),[G,k]=S.useState([]),[Q,te]=S.useState(""),[P,ee]=S.useState(""),[ge,Ee]=S.useState([]),[Je,Ve]=S.useState([]),[Ne,tt]=S.useState(""),[Ze,at]=S.useState(""),[M,F]=S.useState(null),[ne,pe]=S.useState(null),[J,_]=S.useState([]),U=Wn();S.useEffect(()=>{var le;if(!((le=o==null?void 0:o.user)!=null&&le.id))return;(async()=>{try{const{data:W,error:Oe}=await l.from("profiles").select("*").eq("id",o.user.id).eq("is_profile_complete",!0).single();W&&!Oe&&(p((W==null?void 0:W.student_id)||""),x((W==null?void 0:W.phone)||""),A(W!=null&&W.department_id?W.department_id.toString():""),te(W!=null&&W.degree_id?W.degree_id.toString():""),tt(W!=null&&W.branch_id?W.branch_id.toString():""),ee(W!=null&&W.campus_id?W.campus_id.toString():""))}catch(W){console.error("Error checking profile:",W)}})()},[o,l]),S.useEffect(()=>{var je;if(!o){U("/login");return}o.user&&((je=o.user.user_metadata)!=null&&je.full_name&&v(o.user.user_metadata.full_name),o.user.email&&at(o.user.email));const V=async()=>{try{const{data:Re,error:$e}=await l.from("campuses").select("*");$e?(console.error("Error fetching campuses:",$e),f("Failed to load campuses. Please try again.")):_(Re)}catch(Re){console.error("Unexpected error:",Re),f("An unexpected error occurred")}},le=async()=>{try{const{data:Re,error:$e}=await l.from("departments").select("*").eq("is_active",!0);$e?(console.error("Error fetching departments:",$e),f("Failed to load departments. Please try again.")):z(Re)}catch(Re){console.error("Unexpected error:",Re),f("An unexpected error occurred")}},W=async()=>{try{const{data:Re,error:$e}=await l.from("degrees").select("*, departments:department_id(*)");$e?(console.error("Error fetching degrees:",$e),f("Failed to load degrees. Please try again.")):Y(Re||[])}catch(Re){console.error("Unexpected error:",Re),f("An unexpected error occurred")}},Oe=async()=>{try{const{data:Re,error:$e}=await l.from("branches").select("*");$e?console.error("Error fetching branches:",$e):Ee(Re||[])}catch(Re){console.error("Unexpected error (branches):",Re)}};le(),W(),Oe(),V()},[o,l,U]),S.useEffect(()=>{if(j){const V=L.filter(W=>W.department_id===parseInt(j));k(V),Q&&!V.find(W=>W.id===parseInt(Q))&&te("");const le=ge.filter(W=>W.department_id===parseInt(j));Ve(le),Ne&&!le.find(W=>W.id===parseInt(Ne))&&tt("")}else k([]),te(""),Ve([]),tt("")},[j,L,ge,Q,Ne]);const X=V=>{const le=V.target.files[0];if(le){pe(le);const W=URL.createObjectURL(le);return F(W),()=>URL.revokeObjectURL(W)}},I=async V=>{V.preventDefault(),i(!0),f(null);try{if(!(o!=null&&o.user))throw new Error("No user logged in");let le=null;if(ne){const Oe=ne.name.split(".").pop(),je=`${o.user.id}-${Date.now()}.${Oe}`,{error:Re}=await l.storage.from("profile-avatars").upload(je,ne);if(Re)throw console.error("Avatar upload error:",Re),new Error("Failed to upload profile picture");const{data:{publicUrl:$e}}=l.storage.from("profile-avatars").getPublicUrl(je);le=$e}const{error:W}=await l.from("profiles").upsert({id:o.user.id,email:Ze,full_name:h,role:"student",department_id:j,degree_id:Q,branch_id:Ne||null,student_id:g,phone:b,avatar_url:le,is_profile_complete:!0,is_active:!0,campus_id:P||null});if(W)throw console.error("Profile setup error:",W),W;i(!0),window.location.href="/home"}catch(le){console.error("Error setting up profile:",le),f(le.message||"Failed to set up profile")}finally{i(!1)}};return c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"glass-card p-8 w-full max-w-md fade-in",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Complete Your Profile"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Please provide your information to continue"})]}),d&&c.jsx("div",{className:"mb-6 p-3 bg-red-100 text-red-700 rounded-lg border border-red-200",children:d}),c.jsxs("form",{onSubmit:I,className:"space-y-5",children:[c.jsx("div",{className:"flex justify-center mb-2",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:M?c.jsx("img",{src:M,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),c.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-blue-600 rounded-full p-1 cursor-pointer hover:bg-blue-700 transition-colors",children:c.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),c.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:X,className:"hidden"})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:Ze,readOnly:!0,className:"form-input bg-gray-100"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",value:h,onChange:V=>v(V.target.value),className:"form-input",placeholder:"Your full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),c.jsx("input",{type:"text",value:g,onChange:V=>p(V.target.value),className:"form-input",placeholder:"Your Registration number",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),c.jsx("input",{type:"tel",value:b,onChange:V=>x(V.target.value),className:"form-input",placeholder:"Your contact number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),c.jsxs("select",{value:j,onChange:V=>A(V.target.value),className:"form-select",required:!0,children:[c.jsx("option",{value:"",children:"Select Your Department"}),T.map(V=>c.jsx("option",{value:V.id,children:V.name},V.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Degree"}),c.jsxs("select",{value:Q,onChange:V=>te(V.target.value),className:"form-select",required:!0,disabled:!j,children:[c.jsx("option",{value:"",children:"Select Your Degree"}),G.map(V=>c.jsxs("option",{value:V.id,children:[V.name," (",V.code,")"]},V.id))]}),!j&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),j&&G.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No degrees available for selected department"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),c.jsxs("select",{value:Ne,onChange:V=>tt(V.target.value),className:"form-select",required:!0,disabled:!j,children:[c.jsx("option",{value:"",children:"Select Your Branch"}),Je.map(V=>c.jsx("option",{value:V.id,children:V.branch_name},V.id))]}),!j&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),j&&Je.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No branches available for selected department"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campus"}),c.jsxs("select",{value:P,onChange:V=>ee(V.target.value),className:"form-select",required:!0,disabled:!1,children:[c.jsx("option",{value:"",children:"Select Your Campus"}),J.map(V=>c.jsx("option",{value:V.id,children:V.campus},V.id))]})]}),c.jsx("button",{type:"submit",disabled:s||!j||!Q||!Ne||!P,className:`w-full primary-button py-3 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?c.jsxs("span",{className:"flex items-center justify-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Setting Up..."]}):"Complete Profile"})]})]})})}function a1(){var G;const{session:o,supabase:l,authError:s,signOut:i}=S.useContext(Ja),[d,f]=S.useState(!0),[h,v]=S.useState(null),[g,p]=S.useState(null),[b,x]=S.useState(0),j=Wn(),A=async()=>{try{console.log("Checking storage buckets...");const{data:k,error:Q}=await l.storage.listBuckets();if(Q){console.error("Error listing buckets:",Q);return}const te=k.map(P=>P.name);if(console.log("Existing buckets:",te),!te.includes("request-attachments")){console.log("Creating request-attachments bucket...");const{error:P}=await l.storage.createBucket("request-attachments",{public:!0,fileSizeLimit:10485760,allowedMimeTypes:["image/png","image/jpeg","image/gif","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]});P?console.error("Error creating request-attachments bucket:",P):console.log("request-attachments bucket created successfully")}if(!te.includes("request-responses")){console.log("Creating request-responses bucket...");const{error:P}=await l.storage.createBucket("request-responses",{public:!0,fileSizeLimit:10485760,allowedMimeTypes:["image/png","image/jpeg","image/gif","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]});P?console.error("Error creating request-responses bucket:",P):console.log("request-responses bucket created successfully")}}catch(k){console.error("Error ensuring storage buckets:",k)}};S.useEffect(()=>{if(!o){j("/login");return}(async()=>{try{f(!0),await A();const{data:Q,error:te}=await l.from("profiles").select("*, departments:department_id(*)").eq("id",o.user.id).single();te?te.code==="PGRST116"?(console.log("Profile not found, need setup"),v(null)):(console.error("Error fetching profile:",te),p(`Failed to load profile: ${te.message}`)):v(Q)}catch(Q){console.error("Unexpected error:",Q),p("An unexpected error occurred")}finally{f(!1)}})()},[o,l,j]);const T=()=>{x(k=>k+1)},z=async()=>{await i(),j("/login",{replace:!0})},L=()=>{j("/profile-setup")};if(d)return c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-4 border-blue-600 border-opacity-50 border-t-blue-600"}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading your dashboard..."})]})});if(g||s)return c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"glass-card p-8 w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Error"}),c.jsx("p",{className:"mt-2 text-red-600",children:g||s})]}),c.jsx("button",{onClick:z,className:"secondary-button w-full",children:"Sign Out and Try Again"})]})});if(!h)return c.jsx(I0,{});if(h.role==="admin"||h.role==="super_admin")return console.log("Rendering AdminDashboard for role:",h.role),c.jsx(W0,{});const Y=()=>{const k=new Date().getHours();return k<12?"Good morning":k<18?"Good afternoon":"Good evening"};return c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"dashboard-container fade-in",children:[c.jsxs("div",{className:"card-header",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Student Dashboard"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-gray-600",children:[c.jsxs("span",{className:"font-medium",children:[Y(),", ",h.full_name.split(" ")[0]]}),c.jsx("span",{children:""}),c.jsxs("span",{children:["Registration Number: ",h.student_id]}),c.jsx("span",{children:""}),c.jsx("span",{children:((G=h.departments)==null?void 0:G.name)||"Department not set"})]})]}),c.jsxs("div",{className:"mt-4 md:mt-0 flex items-center gap-3",children:[c.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm text-gray-700 font-medium",title:"Edit Profile",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),c.jsx("span",{className:"hidden sm:inline",children:"Edit Profile"})]}),c.jsxs("button",{onClick:z,className:"danger-button flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]}),c.jsx("div",{className:"mb-8 bg-blue-50 border-l-4 border-blue-500 p-4 rounded-md shadow-sm",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-blue-700",children:"Welcome to the SRMIST Examination Grievance Redressal Portal. Here you can submit and track your examination-related requests."})})]})}),c.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[c.jsx("div",{children:c.jsxs("div",{className:"glass-card p-6 card-hover",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Submit New Request"]}),c.jsx(e1,{onRequestSubmitted:T})]})}),c.jsx("div",{children:c.jsx(t1,{refreshKey:b})})]})]})})}function n1(){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-blue-100 p-6",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("header",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-800",children:"SRMIST Examination Grievance Redressal Portal"}),c.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"A comprehensive system for managing examination-related requests"})]}),c.jsx("img",{src:"/favicon.ico",alt:"SRM Logo",className:"w-20 h-20 mt-4 md:mt-0"})]}),c.jsxs("div",{className:"mt-8 flex flex-wrap gap-4",children:[c.jsx(Tr,{to:"/login",className:"primary-button",children:"Login to Portal"}),c.jsxs("a",{href:"https://github.com/yourusername/coe-qr",target:"_blank",rel:"noopener noreferrer",className:"secondary-button flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0012 2z"})}),"GitHub Repository"]})]})]}),c.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"System Overview"}),c.jsx("p",{className:"text-gray-700 mb-6",children:"The SRMIST Examination Grievance Redressal Portal is a comprehensive platform designed to streamline the process of submitting, tracking, and resolving examination-related requests. The system supports multiple user roles including students, department administrators, and super administrators."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),c.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Student Portal"})]}),c.jsx("p",{className:"text-gray-600",children:"Submit examination requests, track request status, and view response history."})]}),c.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),c.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Department Admin"})]}),c.jsx("p",{className:"text-gray-600",children:"Review and process requests, respond to students, and escalate complex issues to super admins."})]}),c.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),c.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Super Admin"})]}),c.jsx("p",{className:"text-gray-600",children:"Handle escalated requests, manage system settings, and oversee all departments."})]})]})]}),c.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-6",children:"Key Features"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"Request Management"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[c.jsx("li",{children:"Submit examination-related requests with supporting documents"}),c.jsx("li",{children:"Track request status in real-time"}),c.jsx("li",{children:"Categorize requests by type, priority, and department"}),c.jsx("li",{children:"Automated email notifications for status updates"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"Admin Dashboard"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[c.jsx("li",{children:"Comprehensive view of all pending requests"}),c.jsx("li",{children:"Filter and search capabilities"}),c.jsx("li",{children:"Request escalation workflow"}),c.jsx("li",{children:"Detailed response history tracking"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"User Management"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[c.jsx("li",{children:"Role-based access control"}),c.jsx("li",{children:"Secure authentication via Supabase"}),c.jsx("li",{children:"Profile management with avatar uploads"}),c.jsx("li",{children:"Department-specific permissions"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"Communication"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[c.jsx("li",{children:"Email notifications for request updates"}),c.jsx("li",{children:"File attachments for supporting documents"}),c.jsx("li",{children:"Serverless email delivery via Supabase Edge Functions"}),c.jsx("li",{children:"Beautifully formatted HTML emails"})]})]})]})]}),c.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Technology Stack"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Frontend"}),c.jsxs("ul",{className:"space-y-1 text-gray-600",children:[c.jsx("li",{children:" React.js"}),c.jsx("li",{children:" React Router"}),c.jsx("li",{children:" Tailwind CSS"}),c.jsx("li",{children:" Vite"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Backend"}),c.jsxs("ul",{className:"space-y-1 text-gray-600",children:[c.jsx("li",{children:" Supabase"}),c.jsx("li",{children:" PostgreSQL"}),c.jsx("li",{children:" Row Level Security"}),c.jsx("li",{children:" Edge Functions"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Authentication"}),c.jsxs("ul",{className:"space-y-1 text-gray-600",children:[c.jsx("li",{children:" Supabase Auth"}),c.jsx("li",{children:" JWT Tokens"}),c.jsx("li",{children:" Role-based Access"}),c.jsx("li",{children:" Secure Sessions"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Deployment"}),c.jsxs("ul",{className:"space-y-1 text-gray-600",children:[c.jsx("li",{children:" Vercel/Netlify"}),c.jsx("li",{children:" Supabase Cloud"}),c.jsx("li",{children:" CI/CD Pipeline"}),c.jsx("li",{children:" Environment Variables"})]})]})]})]}),c.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"System Architecture"}),c.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100 overflow-auto",children:c.jsx("pre",{className:"text-xs md:text-sm text-blue-800 whitespace-pre",children:`
          
                                                                   
   React Frontend     Supabase Auth     Supabase Storage 
                                                                   
          
                                                            
                                                            
                                        
                                                           
   React Router                                            
                                                           
                                        
                                                            
                                                            
          
                                                                   
  Component Layer    Supabase Client    Supabase Database
                                                                   
          
                                                            
                                                            
                               
                                                                     
                            Edge Functions      Email Service   
                                                                     
                               
`})})]}),c.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Getting Started"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-2",children:"Installation"}),c.jsx("div",{className:"bg-gray-800 text-gray-200 p-4 rounded-lg overflow-x-auto",children:c.jsxs("pre",{className:"text-sm",children:["$ git clone https://github.com/yourusername/coe-qr.git",c.jsx("br",{}),"$ cd coe-qr",c.jsx("br",{}),"$ npm install",c.jsx("br",{}),"$ npm run dev"]})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-2",children:"Environment Setup"}),c.jsxs("p",{className:"text-gray-700 mb-3",children:["Create a ",c.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-blue-600",children:".env"})," file in the root directory with the following variables:"]}),c.jsx("div",{className:"bg-gray-800 text-gray-200 p-4 rounded-lg overflow-x-auto",children:c.jsxs("pre",{className:"text-sm",children:["VITE_SUPABASE_URL=your_supabase_url",c.jsx("br",{}),"VITE_SUPABASE_ANON_KEY=your_supabase_anon_key",c.jsx("br",{}),"VITE_BREVO_API_KEY=your_brevo_api_key"]})})]}),c.jsx("div",{className:"flex justify-center mt-8",children:c.jsx(Tr,{to:"/login",className:"primary-button",children:"Access the Portal"})})]})]}),c.jsx("footer",{className:"mt-12 text-center text-gray-600",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," SRMIST Examination Grievance Redressal Portal. All rights reserved."]})})]})})}function rc({element:o}){const{session:l,loading:s}=S.useContext(Ja);return s?c.jsx("div",{className:"page-container flex items-center justify-center",children:c.jsxs("div",{className:"glass-card p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):l?o:c.jsx(A0,{to:"/login",replace:!0})}function l1(){const{session:o,authError:l,loading:s}=S.useContext(Ja),i=Wn(),d=Ka();return S.useEffect(()=>{o&&d.pathname==="/login"&&(console.log("User authenticated on login page, redirecting to home"),i("/home",{replace:!0}))},[o,i,d.pathname]),s?c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"glass-card p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Initializing..."})]})}):l?(console.error("Auth error:",l),c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"glass-card p-8 w-full max-w-md text-center",children:[c.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Authentication Error"}),c.jsx("p",{className:"text-red-600 mb-6",children:l}),c.jsx("button",{onClick:()=>window.location.href="/login",className:"primary-button w-full",children:"Return to Login"})]})})):c.jsxs(hy,{children:[c.jsx(Sn,{path:"/login",element:c.jsx(g0,{})}),c.jsx(Sn,{path:"/home",element:c.jsx(rc,{element:c.jsx(a1,{})})}),c.jsx(Sn,{path:"/profile-setup",element:c.jsx(rc,{element:c.jsx(I0,{})})}),c.jsx(Sn,{path:"/admin",element:c.jsx(rc,{element:c.jsx(W0,{})})}),c.jsx(Sn,{path:"/index",element:c.jsx(n1,{})}),c.jsx(Sn,{path:"/",element:c.jsx(g0,{})}),c.jsx(Sn,{path:"*",element:c.jsx(A0,{to:"/",replace:!0})})]})}function s1(){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-blue-100",children:c.jsx(Wx,{children:c.jsx(l1,{})})})}Sv.createRoot(document.getElementById("root")).render(c.jsx(gv.StrictMode,{children:c.jsx(My,{children:c.jsx(s1,{})})}));
