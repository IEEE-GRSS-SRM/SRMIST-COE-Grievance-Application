(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function dc(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Kp(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var s=o.default;if(typeof s=="function"){var l=function r(){return this instanceof r?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};l.prototype=s.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(o).forEach(function(r){var u=Object.getOwnPropertyDescriptor(o,r);Object.defineProperty(l,r,u.get?u:{enumerable:!0,get:function(){return o[r]}})}),l}var Mu={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function Qp(){if(dm)return Hl;dm=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:o,type:r,key:h,ref:u!==void 0?u:null,props:f}}return Hl.Fragment=s,Hl.jsx=l,Hl.jsxs=l,Hl}var fm;function Pp(){return fm||(fm=1,Mu.exports=Qp()),Mu.exports}var c=Pp(),qu={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Zp(){if(hm)return de;hm=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,z={};function C(j,U,A){this.props=j,this.context=U,this.refs=z,this.updater=A||O}C.prototype.isReactComponent={},C.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=C.prototype;function X(j,U,A){this.props=j,this.context=U,this.refs=z,this.updater=A||O}var M=X.prototype=new V;M.constructor=X,q(M,C.prototype),M.isPureReactComponent=!0;var K=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function ie(j,U,A,H,P,F){return A=F.ref,{$$typeof:o,type:j,key:U,ref:A!==void 0?A:null,props:F}}function pe(j,U){return ie(j.type,U,void 0,void 0,void 0,j.props)}function _e(j){return typeof j=="object"&&j!==null&&j.$$typeof===o}function Ee(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(A){return U[A]})}var Be=/\/+/g;function Ue(j,U){return typeof j=="object"&&j!==null&&j.key!=null?Ee(""+j.key):U.toString(36)}function Qe(){}function it(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Qe,Qe):(j.status="pending",j.then(function(U){j.status==="pending"&&(j.status="fulfilled",j.value=U)},function(U){j.status==="pending"&&(j.status="rejected",j.reason=U)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function $e(j,U,A,H,P){var F=typeof j;(F==="undefined"||F==="boolean")&&(j=null);var I=!1;if(j===null)I=!0;else switch(F){case"bigint":case"string":case"number":I=!0;break;case"object":switch(j.$$typeof){case o:case s:I=!0;break;case y:return I=j._init,$e(I(j._payload),U,A,H,P)}}if(I)return P=P(j),I=H===""?"."+Ue(j,0):H,K(P)?(A="",I!=null&&(A=I.replace(Be,"$&/")+"/"),$e(P,U,A,"",function(at){return at})):P!=null&&(_e(P)&&(P=pe(P,A+(P.key==null||j&&j.key===P.key?"":(""+P.key).replace(Be,"$&/")+"/")+I)),U.push(P)),1;I=0;var je=H===""?".":H+":";if(K(j))for(var ye=0;ye<j.length;ye++)H=j[ye],F=je+Ue(H,ye),I+=$e(H,U,A,F,P);else if(ye=w(j),typeof ye=="function")for(j=ye.call(j),ye=0;!(H=j.next()).done;)H=H.value,F=je+Ue(H,ye++),I+=$e(H,U,A,F,P);else if(F==="object"){if(typeof j.then=="function")return $e(it(j),U,A,H,P);throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return I}function L(j,U,A){if(j==null)return j;var H=[],P=0;return $e(j,H,"","",function(F){return U.call(A,F,P++)}),H}function Q(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(A){(j._status===0||j._status===-1)&&(j._status=1,j._result=A)},function(A){(j._status===0||j._status===-1)&&(j._status=2,j._result=A)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var ee=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function ve(){}return de.Children={map:L,forEach:function(j,U,A){L(j,function(){U.apply(this,arguments)},A)},count:function(j){var U=0;return L(j,function(){U++}),U},toArray:function(j){return L(j,function(U){return U})||[]},only:function(j){if(!_e(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},de.Component=C,de.Fragment=l,de.Profiler=u,de.PureComponent=X,de.StrictMode=r,de.Suspense=v,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,de.__COMPILER_RUNTIME={__proto__:null,c:function(j){return J.H.useMemoCache(j)}},de.cache=function(j){return function(){return j.apply(null,arguments)}},de.cloneElement=function(j,U,A){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var H=q({},j.props),P=j.key,F=void 0;if(U!=null)for(I in U.ref!==void 0&&(F=void 0),U.key!==void 0&&(P=""+U.key),U)!ae.call(U,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&U.ref===void 0||(H[I]=U[I]);var I=arguments.length-2;if(I===1)H.children=A;else if(1<I){for(var je=Array(I),ye=0;ye<I;ye++)je[ye]=arguments[ye+2];H.children=je}return ie(j.type,P,void 0,void 0,F,H)},de.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:f,_context:j},j},de.createElement=function(j,U,A){var H,P={},F=null;if(U!=null)for(H in U.key!==void 0&&(F=""+U.key),U)ae.call(U,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(P[H]=U[H]);var I=arguments.length-2;if(I===1)P.children=A;else if(1<I){for(var je=Array(I),ye=0;ye<I;ye++)je[ye]=arguments[ye+2];P.children=je}if(j&&j.defaultProps)for(H in I=j.defaultProps,I)P[H]===void 0&&(P[H]=I[H]);return ie(j,F,void 0,void 0,null,P)},de.createRef=function(){return{current:null}},de.forwardRef=function(j){return{$$typeof:p,render:j}},de.isValidElement=_e,de.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:Q}},de.memo=function(j,U){return{$$typeof:m,type:j,compare:U===void 0?null:U}},de.startTransition=function(j){var U=J.T,A={};J.T=A;try{var H=j(),P=J.S;P!==null&&P(A,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ve,ee)}catch(F){ee(F)}finally{J.T=U}},de.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},de.use=function(j){return J.H.use(j)},de.useActionState=function(j,U,A){return J.H.useActionState(j,U,A)},de.useCallback=function(j,U){return J.H.useCallback(j,U)},de.useContext=function(j){return J.H.useContext(j)},de.useDebugValue=function(){},de.useDeferredValue=function(j,U){return J.H.useDeferredValue(j,U)},de.useEffect=function(j,U,A){var H=J.H;if(typeof A=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(j,U)},de.useId=function(){return J.H.useId()},de.useImperativeHandle=function(j,U,A){return J.H.useImperativeHandle(j,U,A)},de.useInsertionEffect=function(j,U){return J.H.useInsertionEffect(j,U)},de.useLayoutEffect=function(j,U){return J.H.useLayoutEffect(j,U)},de.useMemo=function(j,U){return J.H.useMemo(j,U)},de.useOptimistic=function(j,U){return J.H.useOptimistic(j,U)},de.useReducer=function(j,U,A){return J.H.useReducer(j,U,A)},de.useRef=function(j){return J.H.useRef(j)},de.useState=function(j){return J.H.useState(j)},de.useSyncExternalStore=function(j,U,A){return J.H.useSyncExternalStore(j,U,A)},de.useTransition=function(){return J.H.useTransition()},de.version="19.1.1",de}var mm;function fc(){return mm||(mm=1,qu.exports=Zp()),qu.exports}var S=fc();const Jp=dc(S);var Lu={exports:{}},$l={},zu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function Wp(){return gm||(gm=1,(function(o){function s(L,Q){var ee=L.length;L.push(Q);e:for(;0<ee;){var ve=ee-1>>>1,j=L[ve];if(0<u(j,Q))L[ve]=Q,L[ee]=j,ee=ve;else break e}}function l(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Q=L[0],ee=L.pop();if(ee!==Q){L[0]=ee;e:for(var ve=0,j=L.length,U=j>>>1;ve<U;){var A=2*(ve+1)-1,H=L[A],P=A+1,F=L[P];if(0>u(H,ee))P<j&&0>u(F,H)?(L[ve]=F,L[P]=ee,ve=P):(L[ve]=H,L[A]=ee,ve=A);else if(P<j&&0>u(F,ee))L[ve]=F,L[P]=ee,ve=P;else break e}}return Q}function u(L,Q){var ee=L.sortIndex-Q.sortIndex;return ee!==0?ee:L.id-Q.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();o.unstable_now=function(){return h.now()-p}}var v=[],m=[],y=1,x=null,w=3,O=!1,q=!1,z=!1,C=!1,V=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function K(L){for(var Q=l(m);Q!==null;){if(Q.callback===null)r(m);else if(Q.startTime<=L)r(m),Q.sortIndex=Q.expirationTime,s(v,Q);else break;Q=l(m)}}function J(L){if(z=!1,K(L),!q)if(l(v)!==null)q=!0,ae||(ae=!0,Ue());else{var Q=l(m);Q!==null&&$e(J,Q.startTime-L)}}var ae=!1,ie=-1,pe=5,_e=-1;function Ee(){return C?!0:!(o.unstable_now()-_e<pe)}function Be(){if(C=!1,ae){var L=o.unstable_now();_e=L;var Q=!0;try{e:{q=!1,z&&(z=!1,X(ie),ie=-1),O=!0;var ee=w;try{t:{for(K(L),x=l(v);x!==null&&!(x.expirationTime>L&&Ee());){var ve=x.callback;if(typeof ve=="function"){x.callback=null,w=x.priorityLevel;var j=ve(x.expirationTime<=L);if(L=o.unstable_now(),typeof j=="function"){x.callback=j,K(L),Q=!0;break t}x===l(v)&&r(v),K(L)}else r(v);x=l(v)}if(x!==null)Q=!0;else{var U=l(m);U!==null&&$e(J,U.startTime-L),Q=!1}}break e}finally{x=null,w=ee,O=!1}Q=void 0}}finally{Q?Ue():ae=!1}}}var Ue;if(typeof M=="function")Ue=function(){M(Be)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,it=Qe.port2;Qe.port1.onmessage=Be,Ue=function(){it.postMessage(null)}}else Ue=function(){V(Be,0)};function $e(L,Q){ie=V(function(){L(o.unstable_now())},Q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(L){L.callback=null},o.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<L?Math.floor(1e3/L):5},o.unstable_getCurrentPriorityLevel=function(){return w},o.unstable_next=function(L){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var ee=w;w=Q;try{return L()}finally{w=ee}},o.unstable_requestPaint=function(){C=!0},o.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=w;w=L;try{return Q()}finally{w=ee}},o.unstable_scheduleCallback=function(L,Q,ee){var ve=o.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ve+ee:ve):ee=ve,L){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ee+j,L={id:y++,callback:Q,priorityLevel:L,startTime:ee,expirationTime:j,sortIndex:-1},ee>ve?(L.sortIndex=ee,s(m,L),l(v)===null&&L===l(m)&&(z?(X(ie),ie=-1):z=!0,$e(J,ee-ve))):(L.sortIndex=j,s(v,L),q||O||(q=!0,ae||(ae=!0,Ue()))),L},o.unstable_shouldYield=Ee,o.unstable_wrapCallback=function(L){var Q=w;return function(){var ee=w;w=Q;try{return L.apply(this,arguments)}finally{w=ee}}}})(Bu)),Bu}var pm;function Fp(){return pm||(pm=1,zu.exports=Wp()),zu.exports}var Hu={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function Ip(){if(vm)return Nt;vm=1;var o=fc();function s(v){var m="https://react.dev/errors/"+v;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:v,containerInfo:m,implementation:y}}var h=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,m){if(v==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nt.createPortal=function(v,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(s(299));return f(v,m,null,y)},Nt.flushSync=function(v){var m=h.T,y=r.p;try{if(h.T=null,r.p=2,v)return v()}finally{h.T=m,r.p=y,r.d.f()}},Nt.preconnect=function(v,m){typeof v=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(v,m))},Nt.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Nt.preinit=function(v,m){if(typeof v=="string"&&m&&typeof m.as=="string"){var y=m.as,x=p(y,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,O=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(v,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:O}):y==="script"&&r.d.X(v,{crossOrigin:x,integrity:w,fetchPriority:O,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Nt.preinitModule=function(v,m){if(typeof v=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=p(m.as,m.crossOrigin);r.d.M(v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(v)},Nt.preload=function(v,m){if(typeof v=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=p(y,m.crossOrigin);r.d.L(v,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Nt.preloadModule=function(v,m){if(typeof v=="string")if(m){var y=p(m.as,m.crossOrigin);r.d.m(v,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(v)},Nt.requestFormReset=function(v){r.d.r(v)},Nt.unstable_batchedUpdates=function(v,m){return v(m)},Nt.useFormState=function(v,m,y){return h.H.useFormState(v,m,y)},Nt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Nt.version="19.1.1",Nt}var ym;function ev(){if(ym)return Hu.exports;ym=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),Hu.exports=Ip(),Hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function tv(){if(bm)return $l;bm=1;var o=Fp(),s=fc(),l=ev();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(r(188))}function v(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var d=i.alternate;if(d===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===d.child){for(d=i.child;d;){if(d===a)return p(i),e;if(d===n)return p(i),t;d=d.sibling}throw Error(r(188))}if(a.return!==n.return)a=i,n=d;else{for(var g=!1,b=i.child;b;){if(b===a){g=!0,a=i,n=d;break}if(b===n){g=!0,n=i,a=d;break}b=b.sibling}if(!g){for(b=d.child;b;){if(b===a){g=!0,a=d,n=i;break}if(b===n){g=!0,n=d,a=i;break}b=b.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),M=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),_e=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),Be=Symbol.iterator;function Ue(e){return e===null||typeof e!="object"?null:(e=Be&&e[Be]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function it(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case C:return"Profiler";case z:return"StrictMode";case J:return"Suspense";case ae:return"SuspenseList";case _e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case M:return(e.displayName||"Context")+".Provider";case X:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return t=e.displayName||null,t!==null?t:it(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return it(e(t))}catch{}}return null}var $e=Array.isArray,L=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ve=[],j=-1;function U(e){return{current:e}}function A(e){0>j||(e.current=ve[j],ve[j]=null,j--)}function H(e,t){j++,ve[j]=e.current,e.current=t}var P=U(null),F=U(null),I=U(null),je=U(null);function ye(e,t){switch(H(I,t),H(F,e),H(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bh(t),e=Hh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}A(P),H(P,e)}function at(){A(P),A(F),A(I)}function gt(e){e.memoizedState!==null&&H(je,e);var t=P.current,a=Hh(t,e.type);t!==a&&(H(F,e),H(P,a))}function le(e){F.current===e&&(A(P),A(F)),je.current===e&&(A(je),Ml._currentValue=ee)}var fe=Object.prototype.hasOwnProperty,Ge=o.unstable_scheduleCallback,_t=o.unstable_cancelCallback,ua=o.unstable_shouldYield,pn=o.unstable_requestPaint,pt=o.unstable_now,ca=o.unstable_getCurrentPriorityLevel,vt=o.unstable_ImmediatePriority,da=o.unstable_UserBlockingPriority,Yt=o.unstable_NormalPriority,Vs=o.unstable_LowPriority,Ie=o.unstable_IdlePriority,ba=o.log,vn=o.unstable_setDisableYieldValue,It=null,ot=null;function ea(e){if(typeof ba=="function"&&vn(e),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(It,e)}catch{}}var G=Math.clz32?Math.clz32:ce,Z=Math.log,W=Math.LN2;function ce(e){return e>>>=0,e===0?32:31-(Z(e)/W|0)|0}var me=256,Pe=4194304;function Ye(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qe(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=n&134217727;return b!==0?(n=b&~d,n!==0?i=Ye(n):(g&=b,g!==0?i=Ye(g):a||(a=b&~e,a!==0&&(i=Ye(a))))):(b=n&~d,b!==0?i=Ye(b):g!==0?i=Ye(g):a||(a=n&~e,a!==0&&(i=Ye(a)))),i===0?0:t!==0&&t!==i&&(t&d)===0&&(d=i&-i,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:i}function He(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function St(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var e=me;return me<<=1,(me&4194048)===0&&(me=256),e}function Tt(){var e=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),e}function ut(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Rt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xs(e,t,a,n,i,d){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,_=e.expirationTimes,R=e.hiddenUpdates;for(a=g&~a;0<a;){var B=31-G(a),Y=1<<B;b[B]=0,_[B]=-1;var k=R[B];if(k!==null)for(R[B]=null,B=0;B<k.length;B++){var D=k[B];D!==null&&(D.lane&=-536870913)}a&=~Y}n!==0&&Hn(e,n,0),d!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Hn(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-G(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Re(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-G(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function ta(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ei(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ec(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:lm(e.type))}function M0(e,t){var a=Q.p;try{return Q.p=e,t()}finally{Q.p=a}}var $a=Math.random().toString(36).slice(2),jt="__reactFiber$"+$a,kt="__reactProps$"+$a,$n="__reactContainer$"+$a,Ni="__reactEvents$"+$a,q0="__reactListeners$"+$a,L0="__reactHandles$"+$a,Nc="__reactResources$"+$a,Ks="__reactMarker$"+$a;function Ti(e){delete e[jt],delete e[kt],delete e[Ni],delete e[q0],delete e[L0]}function Gn(e){var t=e[jt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[$n]||a[jt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Vh(e);e!==null;){if(a=e[jt])return a;e=Vh(e)}return t}e=a,a=e.parentNode}return null}function Yn(e){if(e=e[jt]||e[$n]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Qs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Vn(e){var t=e[Nc];return t||(t=e[Nc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[Ks]=!0}var Tc=new Set,Rc={};function yn(e,t){Xn(e,t),Xn(e+"Capture",t)}function Xn(e,t){for(Rc[e]=t,e=0;e<t.length;e++)Tc.add(t[e])}var z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ac={},Oc={};function B0(e){return fe.call(Oc,e)?!0:fe.call(Ac,e)?!1:z0.test(e)?Oc[e]=!0:(Ac[e]=!0,!1)}function er(e,t,a){if(B0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function tr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function xa(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Ri,kc;function Kn(e){if(Ri===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ri=t&&t[1]||"",kc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ri+e+kc}var Ai=!1;function Oi(e,t){if(!e||Ai)return"";Ai=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(D){var k=D}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(D){k=D}e.call(Y.prototype)}}else{try{throw Error()}catch(D){k=D}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(D){if(D&&k&&typeof D.stack=="string")return[D.stack,k.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=n.DetermineComponentFrameRoot(),g=d[0],b=d[1];if(g&&b){var _=g.split(`
`),R=b.split(`
`);for(i=n=0;n<_.length&&!_[n].includes("DetermineComponentFrameRoot");)n++;for(;i<R.length&&!R[i].includes("DetermineComponentFrameRoot");)i++;if(n===_.length||i===R.length)for(n=_.length-1,i=R.length-1;1<=n&&0<=i&&_[n]!==R[i];)i--;for(;1<=n&&0<=i;n--,i--)if(_[n]!==R[i]){if(n!==1||i!==1)do if(n--,i--,0>i||_[n]!==R[i]){var B=`
`+_[n].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=n&&0<=i);break}}}finally{Ai=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Kn(a):""}function H0(e){switch(e.tag){case 26:case 27:case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Oi(e.type,!1);case 11:return Oi(e.type.render,!1);case 1:return Oi(e.type,!0);case 31:return Kn("Activity");default:return""}}function Cc(e){try{var t="";do t+=H0(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $0(e){var t=Dc(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(g){n=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(g){n=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ar(e){e._valueTracker||(e._valueTracker=$0(e))}function Uc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Dc(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function nr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var G0=/[\n"\\]/g;function Xt(e){return e.replace(G0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ki(e,t,a,n,i,d,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Ci(e,g,Vt(t)):a!=null?Ci(e,g,Vt(a)):n!=null&&e.removeAttribute("value"),i==null&&d!=null&&(e.defaultChecked=!!d),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Vt(b):e.removeAttribute("name")}function Mc(e,t,a,n,i,d,g,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+Vt(a):"",t=t!=null?""+Vt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=b?e.checked:!!n,e.defaultChecked=!!n,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function Ci(e,t,a){t==="number"&&nr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Qn(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Vt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qc(e,t,a){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Vt(a):""}function Lc(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(r(92));if($e(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Vt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Pn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Y0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Y0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Bc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&zc(e,i,n)}else for(var d in t)t.hasOwnProperty(d)&&zc(e,d,t[d])}function Di(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(e){return X0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ui=null;function Mi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zn=null,Jn=null;function Hc(e){var t=Yn(e);if(t&&(e=t.stateNode)){var a=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ki(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[kt]||null;if(!i)throw Error(r(90));ki(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Uc(n)}break e;case"textarea":qc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Qn(e,!!a.multiple,t,!1)}}}var qi=!1;function $c(e,t,a){if(qi)return e(t,a);qi=!0;try{var n=e(t);return n}finally{if(qi=!1,(Zn!==null||Jn!==null)&&(Yr(),Zn&&(t=Zn,e=Jn,Jn=Zn=null,Hc(t),e)))for(t=0;t<e.length;t++)Hc(e[t])}}function Ps(e,t){var a=e.stateNode;if(a===null)return null;var n=a[kt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Li=!1;if(wa)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Li=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Li=!1}var Ga=null,zi=null,lr=null;function Gc(){if(lr)return lr;var e,t=zi,a=t.length,n,i="value"in Ga?Ga.value:Ga.textContent,d=i.length;for(e=0;e<a&&t[e]===i[e];e++);var g=a-e;for(n=1;n<=g&&t[a-n]===i[d-n];n++);return lr=i.slice(e,1<n?1-n:void 0)}function rr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ir(){return!0}function Yc(){return!1}function Ct(e){function t(a,n,i,d,g){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ir:Yc,this.isPropagationStopped=Yc,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=Ct(bn),Js=y({},bn,{view:0,detail:0}),K0=Ct(Js),Bi,Hi,Ws,ur=y({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ws&&(Ws&&e.type==="mousemove"?(Bi=e.screenX-Ws.screenX,Hi=e.screenY-Ws.screenY):Hi=Bi=0,Ws=e),Bi)},movementY:function(e){return"movementY"in e?e.movementY:Hi}}),Vc=Ct(ur),Q0=y({},ur,{dataTransfer:0}),P0=Ct(Q0),Z0=y({},Js,{relatedTarget:0}),$i=Ct(Z0),J0=y({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=Ct(J0),F0=y({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I0=Ct(F0),eg=y({},bn,{data:0}),Xc=Ct(eg),tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ng[e])?!!t[e]:!1}function Gi(){return sg}var lg=y({},Js,{key:function(e){if(e.key){var t=tg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(e){return e.type==="keypress"?rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rg=Ct(lg),ig=y({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=Ct(ig),og=y({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),ug=Ct(og),cg=y({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dg=Ct(cg),fg=y({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hg=Ct(fg),mg=y({},bn,{newState:0,oldState:0}),gg=Ct(mg),pg=[9,13,27,32],Yi=wa&&"CompositionEvent"in window,Fs=null;wa&&"documentMode"in document&&(Fs=document.documentMode);var vg=wa&&"TextEvent"in window&&!Fs,Qc=wa&&(!Yi||Fs&&8<Fs&&11>=Fs),Pc=" ",Zc=!1;function Jc(e,t){switch(e){case"keyup":return pg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wn=!1;function yg(e,t){switch(e){case"compositionend":return Wc(t);case"keypress":return t.which!==32?null:(Zc=!0,Pc);case"textInput":return e=t.data,e===Pc&&Zc?null:e;default:return null}}function bg(e,t){if(Wn)return e==="compositionend"||!Yi&&Jc(e,t)?(e=Gc(),lr=zi=Ga=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qc&&t.locale!=="ko"?null:t.data;default:return null}}var xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xg[e.type]:t==="textarea"}function Ic(e,t,a,n){Zn?Jn?Jn.push(n):Jn=[n]:Zn=n,t=Zr(t,"onChange"),0<t.length&&(a=new or("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Is=null,el=null;function wg(e){Uh(e,0)}function cr(e){var t=Qs(e);if(Uc(t))return e}function ed(e,t){if(e==="change")return t}var td=!1;if(wa){var Vi;if(wa){var Xi="oninput"in document;if(!Xi){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),Xi=typeof ad.oninput=="function"}Vi=Xi}else Vi=!1;td=Vi&&(!document.documentMode||9<document.documentMode)}function nd(){Is&&(Is.detachEvent("onpropertychange",sd),el=Is=null)}function sd(e){if(e.propertyName==="value"&&cr(el)){var t=[];Ic(t,el,e,Mi(e)),$c(wg,t)}}function _g(e,t,a){e==="focusin"?(nd(),Is=t,el=a,Is.attachEvent("onpropertychange",sd)):e==="focusout"&&nd()}function Sg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cr(el)}function jg(e,t){if(e==="click")return cr(t)}function Eg(e,t){if(e==="input"||e==="change")return cr(t)}function Ng(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:Ng;function tl(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!fe.call(t,i)||!qt(e[i],t[i]))return!1}return!0}function ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var a=ld(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ld(a)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function od(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=nr(e.document)}return t}function Ki(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Tg=wa&&"documentMode"in document&&11>=document.documentMode,Fn=null,Qi=null,al=null,Pi=!1;function ud(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pi||Fn==null||Fn!==nr(n)||(n=Fn,"selectionStart"in n&&Ki(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),al&&tl(al,n)||(al=n,n=Zr(Qi,"onSelect"),0<n.length&&(t=new or("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Fn)))}function xn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var In={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionrun:xn("Transition","TransitionRun"),transitionstart:xn("Transition","TransitionStart"),transitioncancel:xn("Transition","TransitionCancel"),transitionend:xn("Transition","TransitionEnd")},Zi={},cd={};wa&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function wn(e){if(Zi[e])return Zi[e];if(!In[e])return e;var t=In[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in cd)return Zi[e]=t[a];return e}var dd=wn("animationend"),fd=wn("animationiteration"),hd=wn("animationstart"),Rg=wn("transitionrun"),Ag=wn("transitionstart"),Og=wn("transitioncancel"),md=wn("transitionend"),gd=new Map,Ji="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ji.push("scrollEnd");function aa(e,t){gd.set(e,t),yn(t,[e])}var pd=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var a=pd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Cc(t)},pd.set(e,t),t)}return{value:e,source:t,stack:Cc(t)}}var Qt=[],es=0,Wi=0;function dr(){for(var e=es,t=Wi=es=0;t<e;){var a=Qt[t];Qt[t++]=null;var n=Qt[t];Qt[t++]=null;var i=Qt[t];Qt[t++]=null;var d=Qt[t];if(Qt[t++]=null,n!==null&&i!==null){var g=n.pending;g===null?i.next=i:(i.next=g.next,g.next=i),n.pending=i}d!==0&&vd(a,i,d)}}function fr(e,t,a,n){Qt[es++]=e,Qt[es++]=t,Qt[es++]=a,Qt[es++]=n,Wi|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Fi(e,t,a,n){return fr(e,t,a,n),hr(e)}function ts(e,t){return fr(e,null,null,t),hr(e)}function vd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,d=e.return;d!==null;)d.childLanes|=a,n=d.alternate,n!==null&&(n.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(i=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,i&&t!==null&&(i=31-G(a),e=d.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),d):null}function hr(e){if(50<Tl)throw Tl=0,lu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var as={};function kg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,a,n){return new kg(e,t,a,n)}function Ii(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _a(e,t){var a=e.alternate;return a===null?(a=Lt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function yd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mr(e,t,a,n,i,d){var g=0;if(n=e,typeof e=="function")Ii(e)&&(g=1);else if(typeof e=="string")g=Dp(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _e:return e=Lt(31,a,t,i),e.elementType=_e,e.lanes=d,e;case q:return _n(a.children,i,d,t);case z:g=8,i|=24;break;case C:return e=Lt(12,a,t,i|2),e.elementType=C,e.lanes=d,e;case J:return e=Lt(13,a,t,i),e.elementType=J,e.lanes=d,e;case ae:return e=Lt(19,a,t,i),e.elementType=ae,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:case M:g=10;break e;case X:g=9;break e;case K:g=11;break e;case ie:g=14;break e;case pe:g=16,n=null;break e}g=29,a=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=Lt(g,a,t,i),t.elementType=e,t.type=n,t.lanes=d,t}function _n(e,t,a,n){return e=Lt(7,e,n,t),e.lanes=a,e}function eo(e,t,a){return e=Lt(6,e,null,t),e.lanes=a,e}function to(e,t,a){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ns=[],ss=0,gr=null,pr=0,Pt=[],Zt=0,Sn=null,Sa=1,ja="";function jn(e,t){ns[ss++]=pr,ns[ss++]=gr,gr=e,pr=t}function bd(e,t,a){Pt[Zt++]=Sa,Pt[Zt++]=ja,Pt[Zt++]=Sn,Sn=e;var n=Sa;e=ja;var i=32-G(n)-1;n&=~(1<<i),a+=1;var d=32-G(t)+i;if(30<d){var g=i-i%5;d=(n&(1<<g)-1).toString(32),n>>=g,i-=g,Sa=1<<32-G(t)+i|a<<i|n,ja=d+e}else Sa=1<<d|a<<i|n,ja=e}function ao(e){e.return!==null&&(jn(e,1),bd(e,1,0))}function no(e){for(;e===gr;)gr=ns[--ss],ns[ss]=null,pr=ns[--ss],ns[ss]=null;for(;e===Sn;)Sn=Pt[--Zt],Pt[Zt]=null,ja=Pt[--Zt],Pt[Zt]=null,Sa=Pt[--Zt],Pt[Zt]=null}var At=null,Ze=null,Te=!1,En=null,fa=!1,so=Error(r(519));function Nn(e){var t=Error(r(418,""));throw ll(Kt(t,e)),so}function xd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[jt]=e,t[kt]=n,a){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(a=0;a<Al.length;a++)xe(Al[a],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),Mc(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),ar(t);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),Lc(t,n.value,n.defaultValue,n.children),ar(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||zh(t.textContent,a)?(n.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),n.onScroll!=null&&xe("scroll",t),n.onScrollEnd!=null&&xe("scrollend",t),n.onClick!=null&&(t.onclick=Jr),t=!0):t=!1,t||Nn(e)}function wd(e){for(At=e.return;At;)switch(At.tag){case 5:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:At=At.return}}function nl(e){if(e!==At)return!1;if(!Te)return wd(e),Te=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wu(e.type,e.memoizedProps)),a=!a),a&&Ze&&Nn(e),wd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Ze=sa(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Ze=null}}else t===27?(t=Ze,sn(e.type)?(e=Eu,Eu=null,Ze=e):Ze=t):Ze=At?sa(e.stateNode.nextSibling):null;return!0}function sl(){Ze=At=null,Te=!1}function _d(){var e=En;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),En=null),e}function ll(e){En===null?En=[e]:En.push(e)}var lo=U(null),Tn=null,Ea=null;function Ya(e,t,a){H(lo,t._currentValue),t._currentValue=a}function Na(e){e._currentValue=lo.current,A(lo)}function ro(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function io(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var d=i.dependencies;if(d!==null){var g=i.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=i;for(var _=0;_<t.length;_++)if(b.context===t[_]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),ro(d.return,a,e),n||(g=null);break e}d=b.next}}else if(i.tag===18){if(g=i.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),ro(g,a,e),g=null}else g=i.child;if(g!==null)g.return=i;else for(g=i;g!==null;){if(g===e){g=null;break}if(i=g.sibling,i!==null){i.return=g.return,g=i;break}g=g.return}i=g}}function rl(e,t,a,n){e=null;for(var i=t,d=!1;i!==null;){if(!d){if((i.flags&524288)!==0)d=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var g=i.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var b=i.type;qt(i.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(i===je.current){if(g=i.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ml):e=[Ml])}i=i.return}e!==null&&io(t,e,a,n),t.flags|=262144}function vr(e){for(e=e.firstContext;e!==null;){if(!qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rn(e){Tn=e,Ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return Sd(Tn,e)}function yr(e,t){return Tn===null&&Rn(e),Sd(e,t)}function Sd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ea===null){if(e===null)throw Error(r(308));Ea=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ea=Ea.next=t;return a}var Cg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Dg=o.unstable_scheduleCallback,Ug=o.unstable_NormalPriority,nt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oo(){return{controller:new Cg,data:new Map,refCount:0}}function il(e){e.refCount--,e.refCount===0&&Dg(Ug,function(){e.controller.abort()})}var ol=null,uo=0,ls=0,rs=null;function Mg(e,t){if(ol===null){var a=ol=[];uo=0,ls=fu(),rs={status:"pending",value:void 0,then:function(n){a.push(n)}}}return uo++,t.then(jd,jd),t}function jd(){if(--uo===0&&ol!==null){rs!==null&&(rs.status="fulfilled");var e=ol;ol=null,ls=0,rs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Ed=L.S;L.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mg(e,t),Ed!==null&&Ed(e,t)};var An=U(null);function co(){var e=An.current;return e!==null?e:Le.pooledCache}function br(e,t){t===null?H(An,An.current):H(An,t.pool)}function Nd(){var e=co();return e===null?null:{parent:nt._currentValue,pool:e}}var ul=Error(r(460)),Td=Error(r(474)),xr=Error(r(542)),fo={then:function(){}};function Rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wr(){}function Ad(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(wr,wr),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e;default:if(typeof t.status=="string")t.then(wr,wr);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e}throw cl=t,ul}}var cl=null;function Od(){if(cl===null)throw Error(r(459));var e=cl;return cl=null,e}function kd(e){if(e===ul||e===xr)throw Error(r(483))}var Va=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ka(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ae&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=hr(e),vd(e,null,a),t}return fr(e,n,t,a),hr(e)}function dl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Re(e,a)}}function go(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?i=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?i=d=t:d=d.next=t}else i=d=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:d,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var po=!1;function fl(){if(po){var e=rs;if(e!==null)throw e}}function hl(e,t,a,n){po=!1;var i=e.updateQueue;Va=!1;var d=i.firstBaseUpdate,g=i.lastBaseUpdate,b=i.shared.pending;if(b!==null){i.shared.pending=null;var _=b,R=_.next;_.next=null,g===null?d=R:g.next=R,g=_;var B=e.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==g&&(b===null?B.firstBaseUpdate=R:b.next=R,B.lastBaseUpdate=_))}if(d!==null){var Y=i.baseState;g=0,B=R=_=null,b=d;do{var k=b.lane&-536870913,D=k!==b.lane;if(D?(Se&k)===k:(n&k)===k){k!==0&&k===ls&&(po=!0),B!==null&&(B=B.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var oe=e,se=b;k=t;var De=a;switch(se.tag){case 1:if(oe=se.payload,typeof oe=="function"){Y=oe.call(De,Y,k);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=se.payload,k=typeof oe=="function"?oe.call(De,Y,k):oe,k==null)break e;Y=y({},Y,k);break e;case 2:Va=!0}}k=b.callback,k!==null&&(e.flags|=64,D&&(e.flags|=8192),D=i.callbacks,D===null?i.callbacks=[k]:D.push(k))}else D={lane:k,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(R=B=D,_=Y):B=B.next=D,g|=k;if(b=b.next,b===null){if(b=i.shared.pending,b===null)break;D=b,b=D.next,D.next=null,i.lastBaseUpdate=D,i.shared.pending=null}}while(!0);B===null&&(_=Y),i.baseState=_,i.firstBaseUpdate=R,i.lastBaseUpdate=B,d===null&&(i.shared.lanes=0),en|=g,e.lanes=g,e.memoizedState=Y}}function Cd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Dd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cd(a[e],t)}var is=U(null),_r=U(0);function Ud(e,t){e=Da,H(_r,e),H(is,t),Da=e|t.baseLanes}function vo(){H(_r,Da),H(is,is.current)}function yo(){Da=_r.current,A(is),A(_r)}var Qa=0,he=null,ke=null,et=null,Sr=!1,os=!1,On=!1,jr=0,ml=0,us=null,Lg=0;function We(){throw Error(r(321))}function bo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!qt(e[a],t[a]))return!1;return!0}function xo(e,t,a,n,i,d){return Qa=d,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?yf:bf,On=!1,d=a(n,i),On=!1,os&&(d=qd(t,a,n,i)),Md(e),d}function Md(e){L.H=Or;var t=ke!==null&&ke.next!==null;if(Qa=0,et=ke=he=null,Sr=!1,ml=0,us=null,t)throw Error(r(300));e===null||dt||(e=e.dependencies,e!==null&&vr(e)&&(dt=!0))}function qd(e,t,a,n){he=e;var i=0;do{if(os&&(us=null),ml=0,os=!1,25<=i)throw Error(r(301));if(i+=1,et=ke=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=Vg,d=t(a,n)}while(os);return d}function zg(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?gl(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(he.flags|=1024),t}function wo(){var e=jr!==0;return jr=0,e}function _o(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function So(e){if(Sr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Sr=!1}Qa=0,et=ke=he=null,os=!1,ml=jr=0,us=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?he.memoizedState=et=e:et=et.next=e,et}function tt(){if(ke===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=et===null?he.memoizedState:et.next;if(t!==null)et=t,ke=e;else{if(e===null)throw he.alternate===null?Error(r(467)):Error(r(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},et===null?he.memoizedState=et=e:et=et.next=e}return et}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var t=ml;return ml+=1,us===null&&(us=[]),e=Ad(us,e,t),t=he,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?yf:bf),e}function Er(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===M)return Et(e)}throw Error(r(438,String(e)))}function Eo(e){var t=null,a=he.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=he.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=jo(),he.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Ee;return t.index++,a}function Ta(e,t){return typeof t=="function"?t(e):t}function Nr(e){var t=tt();return No(t,ke,e)}function No(e,t,a){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var i=e.baseQueue,d=n.pending;if(d!==null){if(i!==null){var g=i.next;i.next=d.next,d.next=g}t.baseQueue=i=d,n.pending=null}if(d=e.baseState,i===null)e.memoizedState=d;else{t=i.next;var b=g=null,_=null,R=t,B=!1;do{var Y=R.lane&-536870913;if(Y!==R.lane?(Se&Y)===Y:(Qa&Y)===Y){var k=R.revertLane;if(k===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),Y===ls&&(B=!0);else if((Qa&k)===k){R=R.next,k===ls&&(B=!0);continue}else Y={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(b=_=Y,g=d):_=_.next=Y,he.lanes|=k,en|=k;Y=R.action,On&&a(d,Y),d=R.hasEagerState?R.eagerState:a(d,Y)}else k={lane:Y,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(b=_=k,g=d):_=_.next=k,he.lanes|=Y,en|=Y;R=R.next}while(R!==null&&R!==t);if(_===null?g=d:_.next=b,!qt(d,e.memoizedState)&&(dt=!0,B&&(a=rs,a!==null)))throw a;e.memoizedState=d,e.baseState=g,e.baseQueue=_,n.lastRenderedState=d}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function To(e){var t=tt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,d=t.memoizedState;if(i!==null){a.pending=null;var g=i=i.next;do d=e(d,g.action),g=g.next;while(g!==i);qt(d,t.memoizedState)||(dt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,n]}function Ld(e,t,a){var n=he,i=tt(),d=Te;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=t();var g=!qt((ke||i).memoizedState,a);g&&(i.memoizedState=a,dt=!0),i=i.queue;var b=Hd.bind(null,n,i,e);if(pl(2048,8,b,[e]),i.getSnapshot!==t||g||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,cs(9,Tr(),Bd.bind(null,n,i,a,t),null),Le===null)throw Error(r(349));d||(Qa&124)!==0||zd(n,t,a)}return a}function zd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=he.updateQueue,t===null?(t=jo(),he.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Bd(e,t,a,n){t.value=a,t.getSnapshot=n,$d(t)&&Gd(e)}function Hd(e,t,a){return a(function(){$d(t)&&Gd(e)})}function $d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!qt(e,a)}catch{return!0}}function Gd(e){var t=ts(e,2);t!==null&&Gt(t,e,2)}function Ro(e){var t=Dt();if(typeof e=="function"){var a=e;if(e=a(),On){ea(!0);try{a()}finally{ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t}function Yd(e,t,a,n){return e.baseState=a,No(e,ke,typeof n=="function"?n:Ta)}function Bg(e,t,a,n,i){if(Ar(e))throw Error(r(485));if(e=t.action,e!==null){var d={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};L.T!==null?a(!0):d.isTransition=!1,n(d),a=t.pending,a===null?(d.next=t.pending=d,Vd(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Vd(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var d=L.T,g={};L.T=g;try{var b=a(i,n),_=L.S;_!==null&&_(g,b),Xd(e,t,b)}catch(R){Ao(e,t,R)}finally{L.T=d}}else try{d=a(i,n),Xd(e,t,d)}catch(R){Ao(e,t,R)}}function Xd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Kd(e,t,n)},function(n){return Ao(e,t,n)}):Kd(e,t,a)}function Kd(e,t,a){t.status="fulfilled",t.value=a,Qd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Vd(e,a)))}function Ao(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Qd(t),t=t.next;while(t!==n)}e.action=null}function Qd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pd(e,t){return t}function Zd(e,t){if(Te){var a=Le.formState;if(a!==null){e:{var n=he;if(Te){if(Ze){t:{for(var i=Ze,d=fa;i.nodeType!==8;){if(!d){i=null;break t}if(i=sa(i.nextSibling),i===null){i=null;break t}}d=i.data,i=d==="F!"||d==="F"?i:null}if(i){Ze=sa(i.nextSibling),n=i.data==="F!";break e}}Nn(n)}n=!1}n&&(t=a[0])}}return a=Dt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:t},a.queue=n,a=gf.bind(null,he,n),n.dispatch=a,n=Ro(!1),d=Uo.bind(null,he,!1,n.queue),n=Dt(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=Bg.bind(null,he,i,d,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function Jd(e){var t=tt();return Wd(t,ke,e)}function Wd(e,t,a){if(t=No(e,t,Pd)[0],e=Nr(Ta)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=gl(t)}catch(g){throw g===ul?xr:g}else n=t;t=tt();var i=t.queue,d=i.dispatch;return a!==t.memoizedState&&(he.flags|=2048,cs(9,Tr(),Hg.bind(null,i,a),null)),[n,d,e]}function Hg(e,t){e.action=t}function Fd(e){var t=tt(),a=ke;if(a!==null)return Wd(t,a,e);tt(),t=t.memoizedState,a=tt();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function cs(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=he.updateQueue,t===null&&(t=jo(),he.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Tr(){return{destroy:void 0,resource:void 0}}function Id(){return tt().memoizedState}function Rr(e,t,a,n){var i=Dt();n=n===void 0?null:n,he.flags|=e,i.memoizedState=cs(1|t,Tr(),a,n)}function pl(e,t,a,n){var i=tt();n=n===void 0?null:n;var d=i.memoizedState.inst;ke!==null&&n!==null&&bo(n,ke.memoizedState.deps)?i.memoizedState=cs(t,d,a,n):(he.flags|=e,i.memoizedState=cs(1|t,d,a,n))}function ef(e,t){Rr(8390656,8,e,t)}function tf(e,t){pl(2048,8,e,t)}function af(e,t){return pl(4,2,e,t)}function nf(e,t){return pl(4,4,e,t)}function sf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lf(e,t,a){a=a!=null?a.concat([e]):null,pl(4,4,sf.bind(null,t,e),a)}function Oo(){}function rf(e,t){var a=tt();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&bo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function of(e,t){var a=tt();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&bo(t,n[1]))return n[0];if(n=e(),On){ea(!0);try{e()}finally{ea(!1)}}return a.memoizedState=[n,t],n}function ko(e,t,a){return a===void 0||(Qa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=dh(),he.lanes|=e,en|=e,a)}function uf(e,t,a,n){return qt(a,t)?a:is.current!==null?(e=ko(e,a,n),qt(e,t)||(dt=!0),e):(Qa&42)===0?(dt=!0,e.memoizedState=a):(e=dh(),he.lanes|=e,en|=e,t)}function cf(e,t,a,n,i){var d=Q.p;Q.p=d!==0&&8>d?d:8;var g=L.T,b={};L.T=b,Uo(e,!1,t,a);try{var _=i(),R=L.S;if(R!==null&&R(b,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var B=qg(_,n);vl(e,t,B,$t(e))}else vl(e,t,n,$t(e))}catch(Y){vl(e,t,{then:function(){},status:"rejected",reason:Y},$t())}finally{Q.p=d,L.T=g}}function $g(){}function Co(e,t,a,n){if(e.tag!==5)throw Error(r(476));var i=df(e).queue;cf(e,i,t,ee,a===null?$g:function(){return ff(e),a(n)})}function df(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ff(e){var t=df(e).next.queue;vl(e,t,{},$t())}function Do(){return Et(Ml)}function hf(){return tt().memoizedState}function mf(){return tt().memoizedState}function Gg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=$t();e=Xa(a);var n=Ka(t,e,a);n!==null&&(Gt(n,t,a),dl(n,t,a)),t={cache:oo()},e.payload=t;return}t=t.return}}function Yg(e,t,a){var n=$t();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ar(e)?pf(t,a):(a=Fi(e,t,a,n),a!==null&&(Gt(a,e,n),vf(a,t,n)))}function gf(e,t,a){var n=$t();vl(e,t,a,n)}function vl(e,t,a,n){var i={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ar(e))pf(t,i);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,b=d(g,a);if(i.hasEagerState=!0,i.eagerState=b,qt(b,g))return fr(e,t,i,0),Le===null&&dr(),!1}catch{}finally{}if(a=Fi(e,t,i,n),a!==null)return Gt(a,e,n),vf(a,t,n),!0}return!1}function Uo(e,t,a,n){if(n={lane:2,revertLane:fu(),action:n,hasEagerState:!1,eagerState:null,next:null},Ar(e)){if(t)throw Error(r(479))}else t=Fi(e,a,n,2),t!==null&&Gt(t,e,2)}function Ar(e){var t=e.alternate;return e===he||t!==null&&t===he}function pf(e,t){os=Sr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function vf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Re(e,a)}}var Or={readContext:Et,use:Er,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We},yf={readContext:Et,use:Er,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:ef,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Rr(4194308,4,sf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Rr(4194308,4,e,t)},useInsertionEffect:function(e,t){Rr(4,2,e,t)},useMemo:function(e,t){var a=Dt();t=t===void 0?null:t;var n=e();if(On){ea(!0);try{e()}finally{ea(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Dt();if(a!==void 0){var i=a(t);if(On){ea(!0);try{a(t)}finally{ea(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Yg.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ro(e);var t=e.queue,a=gf.bind(null,he,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Oo,useDeferredValue:function(e,t){var a=Dt();return ko(a,e,t)},useTransition:function(){var e=Ro(!1);return e=cf.bind(null,he,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=he,i=Dt();if(Te){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Le===null)throw Error(r(349));(Se&124)!==0||zd(n,t,a)}i.memoizedState=a;var d={value:a,getSnapshot:t};return i.queue=d,ef(Hd.bind(null,n,d,e),[e]),n.flags|=2048,cs(9,Tr(),Bd.bind(null,n,d,a,t),null),a},useId:function(){var e=Dt(),t=Le.identifierPrefix;if(Te){var a=ja,n=Sa;a=(n&~(1<<32-G(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=jr++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Lg++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:Zd,useActionState:Zd,useOptimistic:function(e){var t=Dt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Uo.bind(null,he,!0,a),a.dispatch=t,[e,t]},useMemoCache:Eo,useCacheRefresh:function(){return Dt().memoizedState=Gg.bind(null,he)}},bf={readContext:Et,use:Er,useCallback:rf,useContext:Et,useEffect:tf,useImperativeHandle:lf,useInsertionEffect:af,useLayoutEffect:nf,useMemo:of,useReducer:Nr,useRef:Id,useState:function(){return Nr(Ta)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=tt();return uf(a,ke.memoizedState,e,t)},useTransition:function(){var e=Nr(Ta)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:Ld,useId:hf,useHostTransitionStatus:Do,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,t){var a=tt();return Yd(a,ke,e,t)},useMemoCache:Eo,useCacheRefresh:mf},Vg={readContext:Et,use:Er,useCallback:rf,useContext:Et,useEffect:tf,useImperativeHandle:lf,useInsertionEffect:af,useLayoutEffect:nf,useMemo:of,useReducer:To,useRef:Id,useState:function(){return To(Ta)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=tt();return ke===null?ko(a,e,t):uf(a,ke.memoizedState,e,t)},useTransition:function(){var e=To(Ta)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:Ld,useId:hf,useHostTransitionStatus:Do,useFormState:Fd,useActionState:Fd,useOptimistic:function(e,t){var a=tt();return ke!==null?Yd(a,ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Eo,useCacheRefresh:mf},ds=null,yl=0;function kr(e){var t=yl;return yl+=1,ds===null&&(ds=[]),Ad(ds,e,t)}function bl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cr(e,t){throw t.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function xf(e){var t=e._init;return t(e._payload)}function wf(e){function t(N,E){if(e){var T=N.deletions;T===null?(N.deletions=[E],N.flags|=16):T.push(E)}}function a(N,E){if(!e)return null;for(;E!==null;)t(N,E),E=E.sibling;return null}function n(N){for(var E=new Map;N!==null;)N.key!==null?E.set(N.key,N):E.set(N.index,N),N=N.sibling;return E}function i(N,E){return N=_a(N,E),N.index=0,N.sibling=null,N}function d(N,E,T){return N.index=T,e?(T=N.alternate,T!==null?(T=T.index,T<E?(N.flags|=67108866,E):T):(N.flags|=67108866,E)):(N.flags|=1048576,E)}function g(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function b(N,E,T,$){return E===null||E.tag!==6?(E=eo(T,N.mode,$),E.return=N,E):(E=i(E,T),E.return=N,E)}function _(N,E,T,$){var te=T.type;return te===q?B(N,E,T.props.children,$,T.key):E!==null&&(E.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===pe&&xf(te)===E.type)?(E=i(E,T.props),bl(E,T),E.return=N,E):(E=mr(T.type,T.key,T.props,null,N.mode,$),bl(E,T),E.return=N,E)}function R(N,E,T,$){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=to(T,N.mode,$),E.return=N,E):(E=i(E,T.children||[]),E.return=N,E)}function B(N,E,T,$,te){return E===null||E.tag!==7?(E=_n(T,N.mode,$,te),E.return=N,E):(E=i(E,T),E.return=N,E)}function Y(N,E,T){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=eo(""+E,N.mode,T),E.return=N,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case w:return T=mr(E.type,E.key,E.props,null,N.mode,T),bl(T,E),T.return=N,T;case O:return E=to(E,N.mode,T),E.return=N,E;case pe:var $=E._init;return E=$(E._payload),Y(N,E,T)}if($e(E)||Ue(E))return E=_n(E,N.mode,T,null),E.return=N,E;if(typeof E.then=="function")return Y(N,kr(E),T);if(E.$$typeof===M)return Y(N,yr(N,E),T);Cr(N,E)}return null}function k(N,E,T,$){var te=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return te!==null?null:b(N,E,""+T,$);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return T.key===te?_(N,E,T,$):null;case O:return T.key===te?R(N,E,T,$):null;case pe:return te=T._init,T=te(T._payload),k(N,E,T,$)}if($e(T)||Ue(T))return te!==null?null:B(N,E,T,$,null);if(typeof T.then=="function")return k(N,E,kr(T),$);if(T.$$typeof===M)return k(N,E,yr(N,T),$);Cr(N,T)}return null}function D(N,E,T,$,te){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return N=N.get(T)||null,b(E,N,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return N=N.get($.key===null?T:$.key)||null,_(E,N,$,te);case O:return N=N.get($.key===null?T:$.key)||null,R(E,N,$,te);case pe:var ge=$._init;return $=ge($._payload),D(N,E,T,$,te)}if($e($)||Ue($))return N=N.get(T)||null,B(E,N,$,te,null);if(typeof $.then=="function")return D(N,E,T,kr($),te);if($.$$typeof===M)return D(N,E,T,yr(E,$),te);Cr(E,$)}return null}function oe(N,E,T,$){for(var te=null,ge=null,ne=E,re=E=0,ht=null;ne!==null&&re<T.length;re++){ne.index>re?(ht=ne,ne=null):ht=ne.sibling;var Ne=k(N,ne,T[re],$);if(Ne===null){ne===null&&(ne=ht);break}e&&ne&&Ne.alternate===null&&t(N,ne),E=d(Ne,E,re),ge===null?te=Ne:ge.sibling=Ne,ge=Ne,ne=ht}if(re===T.length)return a(N,ne),Te&&jn(N,re),te;if(ne===null){for(;re<T.length;re++)ne=Y(N,T[re],$),ne!==null&&(E=d(ne,E,re),ge===null?te=ne:ge.sibling=ne,ge=ne);return Te&&jn(N,re),te}for(ne=n(ne);re<T.length;re++)ht=D(ne,N,re,T[re],$),ht!==null&&(e&&ht.alternate!==null&&ne.delete(ht.key===null?re:ht.key),E=d(ht,E,re),ge===null?te=ht:ge.sibling=ht,ge=ht);return e&&ne.forEach(function(cn){return t(N,cn)}),Te&&jn(N,re),te}function se(N,E,T,$){if(T==null)throw Error(r(151));for(var te=null,ge=null,ne=E,re=E=0,ht=null,Ne=T.next();ne!==null&&!Ne.done;re++,Ne=T.next()){ne.index>re?(ht=ne,ne=null):ht=ne.sibling;var cn=k(N,ne,Ne.value,$);if(cn===null){ne===null&&(ne=ht);break}e&&ne&&cn.alternate===null&&t(N,ne),E=d(cn,E,re),ge===null?te=cn:ge.sibling=cn,ge=cn,ne=ht}if(Ne.done)return a(N,ne),Te&&jn(N,re),te;if(ne===null){for(;!Ne.done;re++,Ne=T.next())Ne=Y(N,Ne.value,$),Ne!==null&&(E=d(Ne,E,re),ge===null?te=Ne:ge.sibling=Ne,ge=Ne);return Te&&jn(N,re),te}for(ne=n(ne);!Ne.done;re++,Ne=T.next())Ne=D(ne,N,re,Ne.value,$),Ne!==null&&(e&&Ne.alternate!==null&&ne.delete(Ne.key===null?re:Ne.key),E=d(Ne,E,re),ge===null?te=Ne:ge.sibling=Ne,ge=Ne);return e&&ne.forEach(function(Xp){return t(N,Xp)}),Te&&jn(N,re),te}function De(N,E,T,$){if(typeof T=="object"&&T!==null&&T.type===q&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case w:e:{for(var te=T.key;E!==null;){if(E.key===te){if(te=T.type,te===q){if(E.tag===7){a(N,E.sibling),$=i(E,T.props.children),$.return=N,N=$;break e}}else if(E.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===pe&&xf(te)===E.type){a(N,E.sibling),$=i(E,T.props),bl($,T),$.return=N,N=$;break e}a(N,E);break}else t(N,E);E=E.sibling}T.type===q?($=_n(T.props.children,N.mode,$,T.key),$.return=N,N=$):($=mr(T.type,T.key,T.props,null,N.mode,$),bl($,T),$.return=N,N=$)}return g(N);case O:e:{for(te=T.key;E!==null;){if(E.key===te)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){a(N,E.sibling),$=i(E,T.children||[]),$.return=N,N=$;break e}else{a(N,E);break}else t(N,E);E=E.sibling}$=to(T,N.mode,$),$.return=N,N=$}return g(N);case pe:return te=T._init,T=te(T._payload),De(N,E,T,$)}if($e(T))return oe(N,E,T,$);if(Ue(T)){if(te=Ue(T),typeof te!="function")throw Error(r(150));return T=te.call(T),se(N,E,T,$)}if(typeof T.then=="function")return De(N,E,kr(T),$);if(T.$$typeof===M)return De(N,E,yr(N,T),$);Cr(N,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,E!==null&&E.tag===6?(a(N,E.sibling),$=i(E,T),$.return=N,N=$):(a(N,E),$=eo(T,N.mode,$),$.return=N,N=$),g(N)):a(N,E)}return function(N,E,T,$){try{yl=0;var te=De(N,E,T,$);return ds=null,te}catch(ne){if(ne===ul||ne===xr)throw ne;var ge=Lt(29,ne,null,N.mode);return ge.lanes=$,ge.return=N,ge}finally{}}}var fs=wf(!0),_f=wf(!1),Jt=U(null),ha=null;function Pa(e){var t=e.alternate;H(st,st.current&1),H(Jt,e),ha===null&&(t===null||is.current!==null||t.memoizedState!==null)&&(ha=e)}function Sf(e){if(e.tag===22){if(H(st,st.current),H(Jt,e),ha===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ha=e)}}else Za()}function Za(){H(st,st.current),H(Jt,Jt.current)}function Ra(e){A(Jt),ha===e&&(ha=null),A(st)}var st=U(0);function Dr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ju(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Mo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var qo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=$t(),i=Xa(n);i.payload=t,a!=null&&(i.callback=a),t=Ka(e,i,n),t!==null&&(Gt(t,e,n),dl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=$t(),i=Xa(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=Ka(e,i,n),t!==null&&(Gt(t,e,n),dl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=$t(),n=Xa(a);n.tag=2,t!=null&&(n.callback=t),t=Ka(e,n,a),t!==null&&(Gt(t,e,a),dl(t,e,a))}};function jf(e,t,a,n,i,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,d,g):t.prototype&&t.prototype.isPureReactComponent?!tl(a,n)||!tl(i,d):!0}function Ef(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function kn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}var Ur=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Nf(e){Ur(e)}function Tf(e){console.error(e)}function Rf(e){Ur(e)}function Mr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Af(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Lo(e,t,a){return a=Xa(a),a.tag=3,a.payload={element:null},a.callback=function(){Mr(e,t)},a}function Of(e){return e=Xa(e),e.tag=3,e}function kf(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var d=n.value;e.payload=function(){return i(d)},e.callback=function(){Af(t,a,n)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Af(t,a,n),typeof i!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})})}function Xg(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&rl(t,a,i,!0),a=Jt.current,a!==null){switch(a.tag){case 13:return ha===null?iu():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===fo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),uu(e,n,i)),!1;case 22:return a.flags|=65536,n===fo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),uu(e,n,i)),!1}throw Error(r(435,a.tag))}return uu(e,n,i),iu(),!1}if(Te)return t=Jt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==so&&(e=Error(r(422),{cause:n}),ll(Kt(e,a)))):(n!==so&&(t=Error(r(423),{cause:n}),ll(Kt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=Kt(n,a),i=Lo(e.stateNode,n,i),go(e,i),Je!==4&&(Je=2)),!1;var d=Error(r(520),{cause:n});if(d=Kt(d,a),Nl===null?Nl=[d]:Nl.push(d),Je!==4&&(Je=2),t===null)return!0;n=Kt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=Lo(a.stateNode,n,e),go(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(tn===null||!tn.has(d))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Of(i),kf(i,e,a,n),go(a,i),!1}a=a.return}while(a!==null);return!1}var Cf=Error(r(461)),dt=!1;function bt(e,t,a,n){t.child=e===null?_f(t,null,a,n):fs(t,e.child,a,n)}function Df(e,t,a,n,i){a=a.render;var d=t.ref;if("ref"in n){var g={};for(var b in n)b!=="ref"&&(g[b]=n[b])}else g=n;return Rn(t),n=xo(e,t,a,g,d,i),b=wo(),e!==null&&!dt?(_o(e,t,i),Aa(e,t,i)):(Te&&b&&ao(t),t.flags|=1,bt(e,t,n,i),t.child)}function Uf(e,t,a,n,i){if(e===null){var d=a.type;return typeof d=="function"&&!Ii(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Mf(e,t,d,n,i)):(e=mr(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Xo(e,i)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(g,n)&&e.ref===t.ref)return Aa(e,t,i)}return t.flags|=1,e=_a(d,n),e.ref=t.ref,e.return=t,t.child=e}function Mf(e,t,a,n,i){if(e!==null){var d=e.memoizedProps;if(tl(d,n)&&e.ref===t.ref)if(dt=!1,t.pendingProps=n=d,Xo(e,i))(e.flags&131072)!==0&&(dt=!0);else return t.lanes=e.lanes,Aa(e,t,i)}return zo(e,t,a,n,i)}function qf(e,t,a){var n=t.pendingProps,i=n.children,d=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=d!==null?d.baseLanes|a:a,e!==null){for(i=t.child=e.child,d=0;i!==null;)d=d|i.lanes|i.childLanes,i=i.sibling;t.childLanes=d&~n}else t.childLanes=0,t.child=null;return Lf(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&br(t,d!==null?d.cachePool:null),d!==null?Ud(t,d):vo(),Sf(t);else return t.lanes=t.childLanes=536870912,Lf(e,t,d!==null?d.baseLanes|a:a,a)}else d!==null?(br(t,d.cachePool),Ud(t,d),Za(),t.memoizedState=null):(e!==null&&br(t,null),vo(),Za());return bt(e,t,i,a),t.child}function Lf(e,t,a,n){var i=co();return i=i===null?null:{parent:nt._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&br(t,null),vo(),Sf(t),e!==null&&rl(e,t,n,!0),null}function qr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function zo(e,t,a,n,i){return Rn(t),a=xo(e,t,a,n,void 0,i),n=wo(),e!==null&&!dt?(_o(e,t,i),Aa(e,t,i)):(Te&&n&&ao(t),t.flags|=1,bt(e,t,a,i),t.child)}function zf(e,t,a,n,i,d){return Rn(t),t.updateQueue=null,a=qd(t,n,a,i),Md(e),n=wo(),e!==null&&!dt?(_o(e,t,d),Aa(e,t,d)):(Te&&n&&ao(t),t.flags|=1,bt(e,t,a,d),t.child)}function Bf(e,t,a,n,i){if(Rn(t),t.stateNode===null){var d=as,g=a.contextType;typeof g=="object"&&g!==null&&(d=Et(g)),d=new a(n,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=n,d.state=t.memoizedState,d.refs={},ho(t),g=a.contextType,d.context=typeof g=="object"&&g!==null?Et(g):as,d.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Mo(t,a,g,n),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&qo.enqueueReplaceState(d,d.state,null),hl(t,n,d,i),fl(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,_=kn(a,b);d.props=_;var R=d.context,B=a.contextType;g=as,typeof B=="object"&&B!==null&&(g=Et(B));var Y=a.getDerivedStateFromProps;B=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,B||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||R!==g)&&Ef(t,d,n,g),Va=!1;var k=t.memoizedState;d.state=k,hl(t,n,d,i),fl(),R=t.memoizedState,b||k!==R||Va?(typeof Y=="function"&&(Mo(t,a,Y,n),R=t.memoizedState),(_=Va||jf(t,a,_,n,k,R,g))?(B||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=R),d.props=n,d.state=R,d.context=g,n=_):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{d=t.stateNode,mo(e,t),g=t.memoizedProps,B=kn(a,g),d.props=B,Y=t.pendingProps,k=d.context,R=a.contextType,_=as,typeof R=="object"&&R!==null&&(_=Et(R)),b=a.getDerivedStateFromProps,(R=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==Y||k!==_)&&Ef(t,d,n,_),Va=!1,k=t.memoizedState,d.state=k,hl(t,n,d,i),fl();var D=t.memoizedState;g!==Y||k!==D||Va||e!==null&&e.dependencies!==null&&vr(e.dependencies)?(typeof b=="function"&&(Mo(t,a,b,n),D=t.memoizedState),(B=Va||jf(t,a,B,n,k,D,_)||e!==null&&e.dependencies!==null&&vr(e.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,D,_),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,D,_)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=D),d.props=n,d.state=D,d.context=_,n=B):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),n=!1)}return d=n,qr(e,t),n=(t.flags&128)!==0,d||n?(d=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&n?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,a,i)):bt(e,t,a,i),t.memoizedState=d.state,e=t.child):e=Aa(e,t,i),e}function Hf(e,t,a,n){return sl(),t.flags|=256,bt(e,t,a,n),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(e){return{baseLanes:e,cachePool:Nd()}}function $o(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Wt),e}function $f(e,t,a){var n=t.pendingProps,i=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),g&&(i=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(i?Pa(t):Za(),Te){var b=Ze,_;if(_=b){e:{for(_=b,b=fa;_.nodeType!==8;){if(!b){b=null;break e}if(_=sa(_.nextSibling),_===null){b=null;break e}}b=_}b!==null?(t.memoizedState={dehydrated:b,treeContext:Sn!==null?{id:Sa,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},_=Lt(18,null,null,0),_.stateNode=b,_.return=t,t.child=_,At=t,Ze=null,_=!0):_=!1}_||Nn(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return ju(b)?t.lanes=32:t.lanes=536870912,null;Ra(t)}return b=n.children,n=n.fallback,i?(Za(),i=t.mode,b=Lr({mode:"hidden",children:b},i),n=_n(n,i,a,null),b.return=t,n.return=t,b.sibling=n,t.child=b,i=t.child,i.memoizedState=Ho(a),i.childLanes=$o(e,g,a),t.memoizedState=Bo,n):(Pa(t),Go(t,b))}if(_=e.memoizedState,_!==null&&(b=_.dehydrated,b!==null)){if(d)t.flags&256?(Pa(t),t.flags&=-257,t=Yo(e,t,a)):t.memoizedState!==null?(Za(),t.child=e.child,t.flags|=128,t=null):(Za(),i=n.fallback,b=t.mode,n=Lr({mode:"visible",children:n.children},b),i=_n(i,b,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,fs(t,e.child,null,a),n=t.child,n.memoizedState=Ho(a),n.childLanes=$o(e,g,a),t.memoizedState=Bo,t=i);else if(Pa(t),ju(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var R=g.dgst;g=R,n=Error(r(419)),n.stack="",n.digest=g,ll({value:n,source:null,stack:null}),t=Yo(e,t,a)}else if(dt||rl(e,t,a,!1),g=(a&e.childLanes)!==0,dt||g){if(g=Le,g!==null&&(n=a&-a,n=(n&42)!==0?1:ta(n),n=(n&(g.suspendedLanes|a))!==0?0:n,n!==0&&n!==_.retryLane))throw _.retryLane=n,ts(e,n),Gt(g,e,n),Cf;b.data==="$?"||iu(),t=Yo(e,t,a)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Ze=sa(b.nextSibling),At=t,Te=!0,En=null,fa=!1,e!==null&&(Pt[Zt++]=Sa,Pt[Zt++]=ja,Pt[Zt++]=Sn,Sa=e.id,ja=e.overflow,Sn=t),t=Go(t,n.children),t.flags|=4096);return t}return i?(Za(),i=n.fallback,b=t.mode,_=e.child,R=_.sibling,n=_a(_,{mode:"hidden",children:n.children}),n.subtreeFlags=_.subtreeFlags&65011712,R!==null?i=_a(R,i):(i=_n(i,b,a,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,b=e.child.memoizedState,b===null?b=Ho(a):(_=b.cachePool,_!==null?(R=nt._currentValue,_=_.parent!==R?{parent:R,pool:R}:_):_=Nd(),b={baseLanes:b.baseLanes|a,cachePool:_}),i.memoizedState=b,i.childLanes=$o(e,g,a),t.memoizedState=Bo,n):(Pa(t),a=e.child,e=a.sibling,a=_a(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function Go(e,t){return t=Lr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Lr(e,t){return e=Lt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Yo(e,t,a){return fs(t,e.child,null,a),e=Go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ro(e.return,t,a)}function Vo(e,t,a,n,i){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=n,d.tail=a,d.tailMode=i)}function Yf(e,t,a){var n=t.pendingProps,i=n.revealOrder,d=n.tail;if(bt(e,t,n.children,a),n=st.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gf(e,a,t);else if(e.tag===19)Gf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(H(st,n),i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&Dr(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),Vo(t,!1,i,a,d);break;case"backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dr(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}Vo(t,!0,a,null,d);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Aa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),en|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(rl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=_a(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=_a(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Xo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vr(e)))}function Kg(e,t,a){switch(t.tag){case 3:ye(t,t.stateNode.containerInfo),Ya(t,nt,e.memoizedState.cache),sl();break;case 27:case 5:gt(t);break;case 4:ye(t,t.stateNode.containerInfo);break;case 10:Ya(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Pa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?$f(e,t,a):(Pa(t),e=Aa(e,t,a),e!==null?e.sibling:null);Pa(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(rl(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return Yf(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(st,st.current),n)break;return null;case 22:case 23:return t.lanes=0,qf(e,t,a);case 24:Ya(t,nt,e.memoizedState.cache)}return Aa(e,t,a)}function Vf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)dt=!0;else{if(!Xo(e,a)&&(t.flags&128)===0)return dt=!1,Kg(e,t,a);dt=(e.flags&131072)!==0}else dt=!1,Te&&(t.flags&1048576)!==0&&bd(t,pr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,typeof n=="function")Ii(n)?(e=kn(n,e),t.tag=1,t=Bf(null,t,n,e,a)):(t.tag=0,t=zo(null,t,n,e,a));else{if(n!=null){if(i=n.$$typeof,i===K){t.tag=11,t=Df(null,t,n,e,a);break e}else if(i===ie){t.tag=14,t=Uf(null,t,n,e,a);break e}}throw t=it(n)||n,Error(r(306,t,""))}}return t;case 0:return zo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=kn(n,t.pendingProps),Bf(e,t,n,i,a);case 3:e:{if(ye(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var d=t.memoizedState;i=d.element,mo(e,t),hl(t,n,null,a);var g=t.memoizedState;if(n=g.cache,Ya(t,nt,n),n!==d.cache&&io(t,[nt],a,!0),fl(),n=g.element,d.isDehydrated)if(d={element:n,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Hf(e,t,n,a);break e}else if(n!==i){i=Kt(Error(r(424)),t),ll(i),t=Hf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ze=sa(e.firstChild),At=t,Te=!0,En=null,fa=!0,a=_f(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),n===i){t=Aa(e,t,a);break e}bt(e,t,n,a)}t=t.child}return t;case 26:return qr(e,t),e===null?(a=Ph(t.type,null,t.pendingProps,null))?t.memoizedState=a:Te||(a=t.type,e=t.pendingProps,n=Wr(I.current).createElement(a),n[jt]=t,n[kt]=e,wt(n,a,e),ct(n),t.stateNode=n):t.memoizedState=Ph(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return gt(t),e===null&&Te&&(n=t.stateNode=Xh(t.type,t.pendingProps,I.current),At=t,fa=!0,i=Ze,sn(t.type)?(Eu=i,Ze=sa(n.firstChild)):Ze=i),bt(e,t,t.pendingProps.children,a),qr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((i=n=Ze)&&(n=xp(n,t.type,t.pendingProps,fa),n!==null?(t.stateNode=n,At=t,Ze=sa(n.firstChild),fa=!1,i=!0):i=!1),i||Nn(t)),gt(t),i=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,n=d.children,wu(i,d)?n=null:g!==null&&wu(i,g)&&(t.flags|=32),t.memoizedState!==null&&(i=xo(e,t,zg,null,null,a),Ml._currentValue=i),qr(e,t),bt(e,t,n,a),t.child;case 6:return e===null&&Te&&((e=a=Ze)&&(a=wp(a,t.pendingProps,fa),a!==null?(t.stateNode=a,At=t,Ze=null,e=!0):e=!1),e||Nn(t)),null;case 13:return $f(e,t,a);case 4:return ye(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=fs(t,null,n,a):bt(e,t,n,a),t.child;case 11:return Df(e,t,t.type,t.pendingProps,a);case 7:return bt(e,t,t.pendingProps,a),t.child;case 8:return bt(e,t,t.pendingProps.children,a),t.child;case 12:return bt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ya(t,t.type,n.value),bt(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Rn(t),i=Et(i),n=n(i),t.flags|=1,bt(e,t,n,a),t.child;case 14:return Uf(e,t,t.type,t.pendingProps,a);case 15:return Mf(e,t,t.type,t.pendingProps,a);case 19:return Yf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Lr(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=_a(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return qf(e,t,a);case 24:return Rn(t),n=Et(nt),e===null?(i=co(),i===null&&(i=Le,d=oo(),i.pooledCache=d,d.refCount++,d!==null&&(i.pooledCacheLanes|=a),i=d),t.memoizedState={parent:n,cache:i},ho(t),Ya(t,nt,i)):((e.lanes&a)!==0&&(mo(e,t),hl(t,null,null,a),fl()),i=e.memoizedState,d=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ya(t,nt,n)):(n=d.cache,Ya(t,nt,n),n!==i.cache&&io(t,[nt],a,!0))),bt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Oa(e){e.flags|=4}function Xf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ih(t)){if(t=Jt.current,t!==null&&((Se&4194048)===Se?ha!==null:(Se&62914560)!==Se&&(Se&536870912)===0||t!==ha))throw cl=fo,Td;e.flags|=8192}}function zr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Tt():536870912,e.lanes|=t,ps|=t)}function xl(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Qg(e,t,a){var n=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Na(nt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(nl(t)?Oa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_d())),Ke(t),null;case 26:return a=t.memoizedState,e===null?(Oa(t),a!==null?(Ke(t),Xf(t,a)):(Ke(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Oa(t),Ke(t),Xf(t,a)):(Ke(t),t.flags&=-16777217):(e.memoizedProps!==n&&Oa(t),Ke(t),t.flags&=-16777217),null;case 27:le(t),a=I.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Oa(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Ke(t),null}e=P.current,nl(t)?xd(t):(e=Xh(i,n,a),t.stateNode=e,Oa(t))}return Ke(t),null;case 5:if(le(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Oa(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Ke(t),null}if(e=P.current,nl(t))xd(t);else{switch(i=Wr(I.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?i.createElement(a,{is:n.is}):i.createElement(a)}}e[jt]=t,e[kt]=n;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(wt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Oa(t)}}return Ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Oa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=I.current,nl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=At,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[jt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||zh(e.nodeValue,a)),e||Nn(t)}else e=Wr(e).createTextNode(n),e[jt]=t,t.stateNode=e}return Ke(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=nl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[jt]=t}else sl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else i=_d(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Ra(t),t):(Ra(t),null)}if(Ra(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var d=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==i&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),zr(t,t.updateQueue),Ke(t),null;case 4:return at(),e===null&&pu(t.stateNode.containerInfo),Ke(t),null;case 10:return Na(t.type),Ke(t),null;case 19:if(A(st),i=t.memoizedState,i===null)return Ke(t),null;if(n=(t.flags&128)!==0,d=i.rendering,d===null)if(n)xl(i,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Dr(e),d!==null){for(t.flags|=128,xl(i,!1),e=d.updateQueue,t.updateQueue=e,zr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)yd(a,e),a=a.sibling;return H(st,st.current&1|2),t.child}e=e.sibling}i.tail!==null&&pt()>$r&&(t.flags|=128,n=!0,xl(i,!1),t.lanes=4194304)}else{if(!n)if(e=Dr(d),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,zr(t,e),xl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!Te)return Ke(t),null}else 2*pt()-i.renderingStartTime>$r&&a!==536870912&&(t.flags|=128,n=!0,xl(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(e=i.last,e!==null?e.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pt(),t.sibling=null,e=st.current,H(st,n?e&1|2:e&1),t):(Ke(t),null);case 22:case 23:return Ra(t),yo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),a=t.updateQueue,a!==null&&zr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&A(An),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Na(nt),Ke(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Pg(e,t){switch(no(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Na(nt),at(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return le(t),null;case 13:if(Ra(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return A(st),null;case 4:return at(),null;case 10:return Na(t.type),null;case 22:case 23:return Ra(t),yo(),e!==null&&A(An),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Na(nt),null;case 25:return null;default:return null}}function Kf(e,t){switch(no(t),t.tag){case 3:Na(nt),at();break;case 26:case 27:case 5:le(t);break;case 4:at();break;case 13:Ra(t);break;case 19:A(st);break;case 10:Na(t.type);break;case 22:case 23:Ra(t),yo(),e!==null&&A(An);break;case 24:Na(nt)}}function wl(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var d=a.create,g=a.inst;n=d(),g.destroy=n}a=a.next}while(a!==i)}}catch(b){Me(t,t.return,b)}}function Ja(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var d=i.next;n=d;do{if((n.tag&e)===e){var g=n.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,i=t;var _=a,R=b;try{R()}catch(B){Me(i,_,B)}}}n=n.next}while(n!==d)}}catch(B){Me(t,t.return,B)}}function Qf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Dd(t,a)}catch(n){Me(e,e.return,n)}}}function Pf(e,t,a){a.props=kn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Me(e,t,n)}}function _l(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){Me(e,t,i)}}function ma(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){Me(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Me(e,t,i)}else a.current=null}function Zf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){Me(e,e.return,i)}}function Ko(e,t,a){try{var n=e.stateNode;gp(n,e.type,a,t),n[kt]=t}catch(i){Me(e,e.return,i)}}function Jf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sn(e.type)||e.tag===4}function Qo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Po(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Jr));else if(n!==4&&(n===27&&sn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Po(e,t,a),e=e.sibling;e!==null;)Po(e,t,a),e=e.sibling}function Br(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&sn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Br(e,t,a),e=e.sibling;e!==null;)Br(e,t,a),e=e.sibling}function Wf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wt(t,n,a),t[jt]=e,t[kt]=a}catch(d){Me(e,e.return,d)}}var ka=!1,Fe=!1,Zo=!1,Ff=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Zg(e,t){if(e=e.containerInfo,bu=ni,e=od(e),Ki(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,d=n.focusNode;n=n.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,b=-1,_=-1,R=0,B=0,Y=e,k=null;t:for(;;){for(var D;Y!==a||i!==0&&Y.nodeType!==3||(b=g+i),Y!==d||n!==0&&Y.nodeType!==3||(_=g+n),Y.nodeType===3&&(g+=Y.nodeValue.length),(D=Y.firstChild)!==null;)k=Y,Y=D;for(;;){if(Y===e)break t;if(k===a&&++R===i&&(b=g),k===d&&++B===n&&(_=g),(D=Y.nextSibling)!==null)break;Y=k,k=Y.parentNode}Y=D}a=b===-1||_===-1?null:{start:b,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(xu={focusedElem:e,selectionRange:a},ni=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,i=d.memoizedProps,d=d.memoizedState,n=a.stateNode;try{var oe=kn(a.type,i,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(oe,d),n.__reactInternalSnapshotBeforeUpdate=e}catch(se){Me(a,a.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Su(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function If(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Wa(e,a),n&4&&wl(5,a);break;case 1:if(Wa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){Me(a,a.return,g)}else{var i=kn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Me(a,a.return,g)}}n&64&&Qf(a),n&512&&_l(a,a.return);break;case 3:if(Wa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Dd(e,t)}catch(g){Me(a,a.return,g)}}break;case 27:t===null&&n&4&&Wf(a);case 26:case 5:Wa(e,a),t===null&&n&4&&Zf(a),n&512&&_l(a,a.return);break;case 12:Wa(e,a);break;case 13:Wa(e,a),n&4&&ah(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sp.bind(null,a),_p(e,a))));break;case 22:if(n=a.memoizedState!==null||ka,!n){t=t!==null&&t.memoizedState!==null||Fe,i=ka;var d=Fe;ka=n,(Fe=t)&&!d?Fa(e,a,(a.subtreeFlags&8772)!==0):Wa(e,a),ka=i,Fe=d}break;case 30:break;default:Wa(e,a)}}function eh(e){var t=e.alternate;t!==null&&(e.alternate=null,eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ti(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Ut=!1;function Ca(e,t,a){for(a=a.child;a!==null;)th(e,t,a),a=a.sibling}function th(e,t,a){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(It,a)}catch{}switch(a.tag){case 26:Fe||ma(a,t),Ca(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||ma(a,t);var n=Ve,i=Ut;sn(a.type)&&(Ve=a.stateNode,Ut=!1),Ca(e,t,a),kl(a.stateNode),Ve=n,Ut=i;break;case 5:Fe||ma(a,t);case 6:if(n=Ve,i=Ut,Ve=null,Ca(e,t,a),Ve=n,Ut=i,Ve!==null)if(Ut)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(a.stateNode)}catch(d){Me(a,t,d)}else try{Ve.removeChild(a.stateNode)}catch(d){Me(a,t,d)}break;case 18:Ve!==null&&(Ut?(e=Ve,Yh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Bl(e)):Yh(Ve,a.stateNode));break;case 4:n=Ve,i=Ut,Ve=a.stateNode.containerInfo,Ut=!0,Ca(e,t,a),Ve=n,Ut=i;break;case 0:case 11:case 14:case 15:Fe||Ja(2,a,t),Fe||Ja(4,a,t),Ca(e,t,a);break;case 1:Fe||(ma(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Pf(a,t,n)),Ca(e,t,a);break;case 21:Ca(e,t,a);break;case 22:Fe=(n=Fe)||a.memoizedState!==null,Ca(e,t,a),Fe=n;break;default:Ca(e,t,a)}}function ah(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bl(e)}catch(a){Me(t,t.return,a)}}function Jg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ff),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ff),t;default:throw Error(r(435,e.tag))}}function Jo(e,t){var a=Jg(e);t.forEach(function(n){var i=lp.bind(null,e,n);a.has(n)||(a.add(n),n.then(i,i))})}function zt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],d=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(sn(b.type)){Ve=b.stateNode,Ut=!1;break e}break;case 5:Ve=b.stateNode,Ut=!1;break e;case 3:case 4:Ve=b.stateNode.containerInfo,Ut=!0;break e}b=b.return}if(Ve===null)throw Error(r(160));th(d,g,i),Ve=null,Ut=!1,d=i.alternate,d!==null&&(d.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)nh(t,e),t=t.sibling}var na=null;function nh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Bt(e),n&4&&(Ja(3,e,e.return),wl(3,e),Ja(5,e,e.return));break;case 1:zt(t,e),Bt(e),n&512&&(Fe||a===null||ma(a,a.return)),n&64&&ka&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=na;if(zt(t,e),Bt(e),n&512&&(Fe||a===null||ma(a,a.return)),n&4){var d=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":d=i.getElementsByTagName("title")[0],(!d||d[Ks]||d[jt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=i.createElement(n),i.head.insertBefore(d,i.querySelector("head > title"))),wt(d,n,a),d[jt]=e,ct(d),n=d;break e;case"link":var g=Wh("link","href",i).get(n+(a.href||""));if(g){for(var b=0;b<g.length;b++)if(d=g[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(b,1);break t}}d=i.createElement(n),wt(d,n,a),i.head.appendChild(d);break;case"meta":if(g=Wh("meta","content",i).get(n+(a.content||""))){for(b=0;b<g.length;b++)if(d=g[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(b,1);break t}}d=i.createElement(n),wt(d,n,a),i.head.appendChild(d);break;default:throw Error(r(468,n))}d[jt]=e,ct(d),n=d}e.stateNode=n}else Fh(i,e.type,e.stateNode);else e.stateNode=Jh(i,n,e.memoizedProps);else d!==n?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,n===null?Fh(i,e.type,e.stateNode):Jh(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Ko(e,e.memoizedProps,a.memoizedProps)}break;case 27:zt(t,e),Bt(e),n&512&&(Fe||a===null||ma(a,a.return)),a!==null&&n&4&&Ko(e,e.memoizedProps,a.memoizedProps);break;case 5:if(zt(t,e),Bt(e),n&512&&(Fe||a===null||ma(a,a.return)),e.flags&32){i=e.stateNode;try{Pn(i,"")}catch(D){Me(e,e.return,D)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,Ko(e,i,a!==null?a.memoizedProps:i)),n&1024&&(Zo=!0);break;case 6:if(zt(t,e),Bt(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(D){Me(e,e.return,D)}}break;case 3:if(ei=null,i=na,na=Fr(t.containerInfo),zt(t,e),na=i,Bt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Bl(t.containerInfo)}catch(D){Me(e,e.return,D)}Zo&&(Zo=!1,sh(e));break;case 4:n=na,na=Fr(e.stateNode.containerInfo),zt(t,e),Bt(e),na=n;break;case 12:zt(t,e),Bt(e);break;case 13:zt(t,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(au=pt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Jo(e,n)));break;case 22:i=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,R=ka,B=Fe;if(ka=R||i,Fe=B||_,zt(t,e),Fe=B,ka=R,Bt(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||_||ka||Fe||Cn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(d=_.stateNode,i)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=_.stateNode;var Y=_.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(D){Me(_,_.return,D)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(D){Me(_,_.return,D)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Jo(e,a))));break;case 19:zt(t,e),Bt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Jo(e,n)));break;case 30:break;case 21:break;default:zt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Jf(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var i=a.stateNode,d=Qo(e);Br(e,d,i);break;case 5:var g=a.stateNode;a.flags&32&&(Pn(g,""),a.flags&=-33);var b=Qo(e);Br(e,b,g);break;case 3:case 4:var _=a.stateNode.containerInfo,R=Qo(e);Po(e,R,_);break;default:throw Error(r(161))}}catch(B){Me(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Wa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)If(e,t.alternate,t),t=t.sibling}function Cn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ja(4,t,t.return),Cn(t);break;case 1:ma(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Pf(t,t.return,a),Cn(t);break;case 27:kl(t.stateNode);case 26:case 5:ma(t,t.return),Cn(t);break;case 22:t.memoizedState===null&&Cn(t);break;case 30:Cn(t);break;default:Cn(t)}e=e.sibling}}function Fa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:Fa(i,d,a),wl(4,d);break;case 1:if(Fa(i,d,a),n=d,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(R){Me(n,n.return,R)}if(n=d,i=n.updateQueue,i!==null){var b=n.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)Cd(_[i],b)}catch(R){Me(n,n.return,R)}}a&&g&64&&Qf(d),_l(d,d.return);break;case 27:Wf(d);case 26:case 5:Fa(i,d,a),a&&n===null&&g&4&&Zf(d),_l(d,d.return);break;case 12:Fa(i,d,a);break;case 13:Fa(i,d,a),a&&g&4&&ah(i,d);break;case 22:d.memoizedState===null&&Fa(i,d,a),_l(d,d.return);break;case 30:break;default:Fa(i,d,a)}t=t.sibling}}function Wo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&il(a))}function Fo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&il(e))}function ga(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lh(e,t,a,n),t=t.sibling}function lh(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ga(e,t,a,n),i&2048&&wl(9,t);break;case 1:ga(e,t,a,n);break;case 3:ga(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&il(e)));break;case 12:if(i&2048){ga(e,t,a,n),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,b=d.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Me(t,t.return,_)}}else ga(e,t,a,n);break;case 13:ga(e,t,a,n);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?ga(e,t,a,n):Sl(e,t):d._visibility&2?ga(e,t,a,n):(d._visibility|=2,hs(e,t,a,n,(t.subtreeFlags&10256)!==0)),i&2048&&Wo(g,t);break;case 24:ga(e,t,a,n),i&2048&&Fo(t.alternate,t);break;default:ga(e,t,a,n)}}function hs(e,t,a,n,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,g=t,b=a,_=n,R=g.flags;switch(g.tag){case 0:case 11:case 15:hs(d,g,b,_,i),wl(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?hs(d,g,b,_,i):Sl(d,g):(B._visibility|=2,hs(d,g,b,_,i)),i&&R&2048&&Wo(g.alternate,g);break;case 24:hs(d,g,b,_,i),i&&R&2048&&Fo(g.alternate,g);break;default:hs(d,g,b,_,i)}t=t.sibling}}function Sl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:Sl(a,n),i&2048&&Wo(n.alternate,n);break;case 24:Sl(a,n),i&2048&&Fo(n.alternate,n);break;default:Sl(a,n)}t=t.sibling}}var jl=8192;function ms(e){if(e.subtreeFlags&jl)for(e=e.child;e!==null;)rh(e),e=e.sibling}function rh(e){switch(e.tag){case 26:ms(e),e.flags&jl&&e.memoizedState!==null&&Mp(na,e.memoizedState,e.memoizedProps);break;case 5:ms(e);break;case 3:case 4:var t=na;na=Fr(e.stateNode.containerInfo),ms(e),na=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=jl,jl=16777216,ms(e),jl=t):ms(e));break;default:ms(e)}}function ih(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function El(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ft=n,uh(n,e)}ih(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)oh(e),e=e.sibling}function oh(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&Ja(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hr(e)):El(e);break;default:El(e)}}function Hr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ft=n,uh(n,e)}ih(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ja(8,t,t.return),Hr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Hr(t));break;default:Hr(t)}e=e.sibling}}function uh(e,t){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:Ja(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:il(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ft=n;else e:for(a=e;ft!==null;){n=ft;var i=n.sibling,d=n.return;if(eh(n),n===a){ft=null;break e}if(i!==null){i.return=d,ft=i;break e}ft=d}}}var Wg={getCacheForType:function(e){var t=Et(nt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Fg=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Le=null,be=null,Se=0,Oe=0,Ht=null,Ia=!1,gs=!1,Io=!1,Da=0,Je=0,en=0,Dn=0,eu=0,Wt=0,ps=0,Nl=null,Mt=null,tu=!1,au=0,$r=1/0,Gr=null,tn=null,xt=0,an=null,vs=null,ys=0,nu=0,su=null,ch=null,Tl=0,lu=null;function $t(){if((Ae&2)!==0&&Se!==0)return Se&-Se;if(L.T!==null){var e=ls;return e!==0?e:fu()}return Ec()}function dh(){Wt===0&&(Wt=(Se&536870912)===0||Te?yt():536870912);var e=Jt.current;return e!==null&&(e.flags|=32),Wt}function Gt(e,t,a){(e===Le&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(bs(e,0),nn(e,Se,Wt,!1)),Rt(e,a),((Ae&2)===0||e!==Le)&&(e===Le&&((Ae&2)===0&&(Dn|=a),Je===4&&nn(e,Se,Wt,!1)),pa(e))}function fh(e,t,a){if((Ae&6)!==0)throw Error(r(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||He(e,t),i=n?tp(e,t):ou(e,t,!0),d=n;do{if(i===0){gs&&!n&&nn(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!Ig(a)){i=ou(e,t,!1),d=!1;continue}if(i===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;i=Nl;var _=b.current.memoizedState.isDehydrated;if(_&&(bs(b,g).flags|=256),g=ou(b,g,!1),g!==2){if(Io&&!_){b.errorRecoveryDisabledLanes|=d,Dn|=d,i=4;break e}d=Mt,Mt=i,d!==null&&(Mt===null?Mt=d:Mt.push.apply(Mt,d))}i=g}if(d=!1,i!==2)continue}}if(i===1){bs(e,0),nn(e,t,0,!0);break}e:{switch(n=e,d=i,d){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:nn(n,t,Wt,!Ia);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=au+300-pt(),10<i)){if(nn(n,t,Wt,!Ia),qe(n,0,!0)!==0)break e;n.timeoutHandle=$h(hh.bind(null,n,a,Mt,Gr,tu,t,Wt,Dn,ps,Ia,d,2,-0,0),i);break e}hh(n,a,Mt,Gr,tu,t,Wt,Dn,ps,Ia,d,0,-0,0)}}break}while(!0);pa(e)}function hh(e,t,a,n,i,d,g,b,_,R,B,Y,k,D){if(e.timeoutHandle=-1,Y=t.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:Up},rh(t),Y=qp(),Y!==null)){e.cancelPendingCommit=Y(xh.bind(null,e,t,d,a,n,i,g,b,_,B,1,k,D)),nn(e,d,g,!R);return}xh(e,t,d,a,n,i,g,b,_)}function Ig(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],d=i.getSnapshot;i=i.value;try{if(!qt(d(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t,a,n){t&=~eu,t&=~Dn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var d=31-G(i),g=1<<d;n[d]=-1,i&=~g}a!==0&&Hn(e,a,t)}function Yr(){return(Ae&6)===0?(Rl(0),!1):!0}function ru(){if(be!==null){if(Oe===0)var e=be.return;else e=be,Ea=Tn=null,So(e),ds=null,yl=0,e=be;for(;e!==null;)Kf(e.alternate,e),e=e.return;be=null}}function bs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,vp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ru(),Le=e,be=a=_a(e.current,null),Se=t,Oe=0,Ht=null,Ia=!1,gs=He(e,t),Io=!1,ps=Wt=eu=Dn=en=Je=0,Mt=Nl=null,tu=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-G(n),d=1<<i;t|=e[i],n&=~d}return Da=t,dr(),a}function mh(e,t){he=null,L.H=Or,t===ul||t===xr?(t=Od(),Oe=3):t===Td?(t=Od(),Oe=4):Oe=t===Cf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,be===null&&(Je=1,Mr(e,Kt(t,e.current)))}function gh(){var e=L.H;return L.H=Or,e===null?Or:e}function ph(){var e=L.A;return L.A=Wg,e}function iu(){Je=4,Ia||(Se&4194048)!==Se&&Jt.current!==null||(gs=!0),(en&134217727)===0&&(Dn&134217727)===0||Le===null||nn(Le,Se,Wt,!1)}function ou(e,t,a){var n=Ae;Ae|=2;var i=gh(),d=ph();(Le!==e||Se!==t)&&(Gr=null,bs(e,t)),t=!1;var g=Je;e:do try{if(Oe!==0&&be!==null){var b=be,_=Ht;switch(Oe){case 8:ru(),g=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(t=!0);var R=Oe;if(Oe=0,Ht=null,xs(e,b,_,R),a&&gs){g=0;break e}break;default:R=Oe,Oe=0,Ht=null,xs(e,b,_,R)}}ep(),g=Je;break}catch(B){mh(e,B)}while(!0);return t&&e.shellSuspendCounter++,Ea=Tn=null,Ae=n,L.H=i,L.A=d,be===null&&(Le=null,Se=0,dr()),g}function ep(){for(;be!==null;)vh(be)}function tp(e,t){var a=Ae;Ae|=2;var n=gh(),i=ph();Le!==e||Se!==t?(Gr=null,$r=pt()+500,bs(e,t)):gs=He(e,t);e:do try{if(Oe!==0&&be!==null){t=be;var d=Ht;t:switch(Oe){case 1:Oe=0,Ht=null,xs(e,t,d,1);break;case 2:case 9:if(Rd(d)){Oe=0,Ht=null,yh(t);break}t=function(){Oe!==2&&Oe!==9||Le!==e||(Oe=7),pa(e)},d.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Rd(d)?(Oe=0,Ht=null,yh(t)):(Oe=0,Ht=null,xs(e,t,d,7));break;case 5:var g=null;switch(be.tag){case 26:g=be.memoizedState;case 5:case 27:var b=be;if(!g||Ih(g)){Oe=0,Ht=null;var _=b.sibling;if(_!==null)be=_;else{var R=b.return;R!==null?(be=R,Vr(R)):be=null}break t}}Oe=0,Ht=null,xs(e,t,d,5);break;case 6:Oe=0,Ht=null,xs(e,t,d,6);break;case 8:ru(),Je=6;break e;default:throw Error(r(462))}}ap();break}catch(B){mh(e,B)}while(!0);return Ea=Tn=null,L.H=n,L.A=i,Ae=a,be!==null?0:(Le=null,Se=0,dr(),Je)}function ap(){for(;be!==null&&!ua();)vh(be)}function vh(e){var t=Vf(e.alternate,e,Da);e.memoizedProps=e.pendingProps,t===null?Vr(e):be=t}function yh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=zf(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=zf(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:So(t);default:Kf(a,t),t=be=yd(t,Da),t=Vf(a,t,Da)}e.memoizedProps=e.pendingProps,t===null?Vr(e):be=t}function xs(e,t,a,n){Ea=Tn=null,So(t),ds=null,yl=0;var i=t.return;try{if(Xg(e,i,t,a,Se)){Je=1,Mr(e,Kt(a,e.current)),be=null;return}}catch(d){if(i!==null)throw be=i,d;Je=1,Mr(e,Kt(a,e.current)),be=null;return}t.flags&32768?(Te||n===1?e=!0:gs||(Se&536870912)!==0?e=!1:(Ia=e=!0,(n===2||n===9||n===3||n===6)&&(n=Jt.current,n!==null&&n.tag===13&&(n.flags|=16384))),bh(t,e)):Vr(t)}function Vr(e){var t=e;do{if((t.flags&32768)!==0){bh(t,Ia);return}e=t.return;var a=Qg(t.alternate,t,Da);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Je===0&&(Je=5)}function bh(e,t){do{var a=Pg(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Je=6,be=null}function xh(e,t,a,n,i,d,g,b,_){e.cancelPendingCommit=null;do Xr();while(xt!==0);if((Ae&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(d=t.lanes|t.childLanes,d|=Wi,Xs(e,a,d,g,b,_),e===Le&&(be=Le=null,Se=0),vs=t,an=e,ys=a,nu=d,su=i,ch=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rp(Yt,function(){return Eh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null,i=Q.p,Q.p=2,g=Ae,Ae|=4;try{Zg(e,t,a)}finally{Ae=g,Q.p=i,L.T=n}}xt=1,wh(),_h(),Sh()}}function wh(){if(xt===1){xt=0;var e=an,t=vs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var n=Q.p;Q.p=2;var i=Ae;Ae|=4;try{nh(t,e);var d=xu,g=od(e.containerInfo),b=d.focusedElem,_=d.selectionRange;if(g!==b&&b&&b.ownerDocument&&id(b.ownerDocument.documentElement,b)){if(_!==null&&Ki(b)){var R=_.start,B=_.end;if(B===void 0&&(B=R),"selectionStart"in b)b.selectionStart=R,b.selectionEnd=Math.min(B,b.value.length);else{var Y=b.ownerDocument||document,k=Y&&Y.defaultView||window;if(k.getSelection){var D=k.getSelection(),oe=b.textContent.length,se=Math.min(_.start,oe),De=_.end===void 0?se:Math.min(_.end,oe);!D.extend&&se>De&&(g=De,De=se,se=g);var N=rd(b,se),E=rd(b,De);if(N&&E&&(D.rangeCount!==1||D.anchorNode!==N.node||D.anchorOffset!==N.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var T=Y.createRange();T.setStart(N.node,N.offset),D.removeAllRanges(),se>De?(D.addRange(T),D.extend(E.node,E.offset)):(T.setEnd(E.node,E.offset),D.addRange(T))}}}}for(Y=[],D=b;D=D.parentNode;)D.nodeType===1&&Y.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var $=Y[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}ni=!!bu,xu=bu=null}finally{Ae=i,Q.p=n,L.T=a}}e.current=t,xt=2}}function _h(){if(xt===2){xt=0;var e=an,t=vs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var n=Q.p;Q.p=2;var i=Ae;Ae|=4;try{If(e,t.alternate,t)}finally{Ae=i,Q.p=n,L.T=a}}xt=3}}function Sh(){if(xt===4||xt===3){xt=0,pn();var e=an,t=vs,a=ys,n=ch;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?xt=5:(xt=0,vs=an=null,jh(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(tn=null),Ei(a),t=t.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(It,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=L.T,i=Q.p,Q.p=2,L.T=null;try{for(var d=e.onRecoverableError,g=0;g<n.length;g++){var b=n[g];d(b.value,{componentStack:b.stack})}}finally{L.T=t,Q.p=i}}(ys&3)!==0&&Xr(),pa(e),i=e.pendingLanes,(a&4194090)!==0&&(i&42)!==0?e===lu?Tl++:(Tl=0,lu=e):Tl=0,Rl(0)}}function jh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,il(t)))}function Xr(e){return wh(),_h(),Sh(),Eh()}function Eh(){if(xt!==5)return!1;var e=an,t=nu;nu=0;var a=Ei(ys),n=L.T,i=Q.p;try{Q.p=32>a?32:a,L.T=null,a=su,su=null;var d=an,g=ys;if(xt=0,vs=an=null,ys=0,(Ae&6)!==0)throw Error(r(331));var b=Ae;if(Ae|=4,oh(d.current),lh(d,d.current,g,a),Ae=b,Rl(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(It,d)}catch{}return!0}finally{Q.p=i,L.T=n,jh(e,t)}}function Nh(e,t,a){t=Kt(a,t),t=Lo(e.stateNode,t,2),e=Ka(e,t,2),e!==null&&(Rt(e,2),pa(e))}function Me(e,t,a){if(e.tag===3)Nh(e,e,a);else for(;t!==null;){if(t.tag===3){Nh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tn===null||!tn.has(n))){e=Kt(a,e),a=Of(2),n=Ka(t,a,2),n!==null&&(kf(a,n,t,e),Rt(n,2),pa(n));break}}t=t.return}}function uu(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Fg;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(Io=!0,i.add(a),e=np.bind(null,e,t,a),t.then(e,e))}function np(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Le===e&&(Se&a)===a&&(Je===4||Je===3&&(Se&62914560)===Se&&300>pt()-au?(Ae&2)===0&&bs(e,0):eu|=a,ps===Se&&(ps=0)),pa(e)}function Th(e,t){t===0&&(t=Tt()),e=ts(e,t),e!==null&&(Rt(e,t),pa(e))}function sp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Th(e,a)}function lp(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),Th(e,a)}function rp(e,t){return Ge(e,t)}var Kr=null,ws=null,cu=!1,Qr=!1,du=!1,Un=0;function pa(e){e!==ws&&e.next===null&&(ws===null?Kr=ws=e:ws=ws.next=e),Qr=!0,cu||(cu=!0,op())}function Rl(e,t){if(!du&&Qr){du=!0;do for(var a=!1,n=Kr;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var d=0;else{var g=n.suspendedLanes,b=n.pingedLanes;d=(1<<31-G(42|e)+1)-1,d&=i&~(g&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,kh(n,d))}else d=Se,d=qe(n,n===Le?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(d&3)===0||He(n,d)||(a=!0,kh(n,d));n=n.next}while(a);du=!1}}function ip(){Rh()}function Rh(){Qr=cu=!1;var e=0;Un!==0&&(pp()&&(e=Un),Un=0);for(var t=pt(),a=null,n=Kr;n!==null;){var i=n.next,d=Ah(n,t);d===0?(n.next=null,a===null?Kr=i:a.next=i,i===null&&(ws=a)):(a=n,(e!==0||(d&3)!==0)&&(Qr=!0)),n=i}Rl(e)}function Ah(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-G(d),b=1<<g,_=i[g];_===-1?((b&a)===0||(b&n)!==0)&&(i[g]=St(b,t)):_<=t&&(e.expiredLanes|=b),d&=~b}if(t=Le,a=Se,a=qe(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&_t(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||He(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&_t(n),Ei(a)){case 2:case 8:a=da;break;case 32:a=Yt;break;case 268435456:a=Ie;break;default:a=Yt}return n=Oh.bind(null,e),a=Ge(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&_t(n),e.callbackPriority=2,e.callbackNode=null,2}function Oh(e,t){if(xt!==0&&xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Xr()&&e.callbackNode!==a)return null;var n=Se;return n=qe(e,e===Le?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(fh(e,n,t),Ah(e,pt()),e.callbackNode!=null&&e.callbackNode===a?Oh.bind(null,e):null)}function kh(e,t){if(Xr())return null;fh(e,t,!0)}function op(){yp(function(){(Ae&6)!==0?Ge(vt,ip):Rh()})}function fu(){return Un===0&&(Un=yt()),Un}function Ch(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sr(""+e)}function Dh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function up(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var d=Ch((i[kt]||null).action),g=n.submitter;g&&(t=(t=g[kt]||null)?Ch(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var b=new or("action","action",null,n,i);e.push({event:b,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Un!==0){var _=g?Dh(i,g):new FormData(i);Co(a,{pending:!0,data:_,method:i.method,action:d},null,_)}}else typeof d=="function"&&(b.preventDefault(),_=g?Dh(i,g):new FormData(i),Co(a,{pending:!0,data:_,method:i.method,action:d},d,_))},currentTarget:i}]})}}for(var hu=0;hu<Ji.length;hu++){var mu=Ji[hu],cp=mu.toLowerCase(),dp=mu[0].toUpperCase()+mu.slice(1);aa(cp,"on"+dp)}aa(dd,"onAnimationEnd"),aa(fd,"onAnimationIteration"),aa(hd,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(Rg,"onTransitionRun"),aa(Ag,"onTransitionStart"),aa(Og,"onTransitionCancel"),aa(md,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Uh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var d=void 0;if(t)for(var g=n.length-1;0<=g;g--){var b=n[g],_=b.instance,R=b.currentTarget;if(b=b.listener,_!==d&&i.isPropagationStopped())break e;d=b,i.currentTarget=R;try{d(i)}catch(B){Ur(B)}i.currentTarget=null,d=_}else for(g=0;g<n.length;g++){if(b=n[g],_=b.instance,R=b.currentTarget,b=b.listener,_!==d&&i.isPropagationStopped())break e;d=b,i.currentTarget=R;try{d(i)}catch(B){Ur(B)}i.currentTarget=null,d=_}}}}function xe(e,t){var a=t[Ni];a===void 0&&(a=t[Ni]=new Set);var n=e+"__bubble";a.has(n)||(Mh(t,e,2,!1),a.add(n))}function gu(e,t,a){var n=0;t&&(n|=4),Mh(a,e,n,t)}var Pr="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[Pr]){e[Pr]=!0,Tc.forEach(function(a){a!=="selectionchange"&&(fp.has(a)||gu(a,!1,e),gu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pr]||(t[Pr]=!0,gu("selectionchange",!1,t))}}function Mh(e,t,a,n){switch(lm(t)){case 2:var i=Bp;break;case 8:i=Hp;break;default:i=Ou}a=i.bind(null,t,a,e),i=void 0,!Li||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function vu(e,t,a,n,i){var d=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var g=n.tag;if(g===3||g===4){var b=n.stateNode.containerInfo;if(b===i)break;if(g===4)for(g=n.return;g!==null;){var _=g.tag;if((_===3||_===4)&&g.stateNode.containerInfo===i)return;g=g.return}for(;b!==null;){if(g=Gn(b),g===null)return;if(_=g.tag,_===5||_===6||_===26||_===27){n=d=g;continue e}b=b.parentNode}}n=n.return}$c(function(){var R=d,B=Mi(a),Y=[];e:{var k=gd.get(e);if(k!==void 0){var D=or,oe=e;switch(e){case"keypress":if(rr(a)===0)break e;case"keydown":case"keyup":D=rg;break;case"focusin":oe="focus",D=$i;break;case"focusout":oe="blur",D=$i;break;case"beforeblur":case"afterblur":D=$i;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=ug;break;case dd:case fd:case hd:D=W0;break;case md:D=dg;break;case"scroll":case"scrollend":D=K0;break;case"wheel":D=hg;break;case"copy":case"cut":case"paste":D=I0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Kc;break;case"toggle":case"beforetoggle":D=gg}var se=(t&4)!==0,De=!se&&(e==="scroll"||e==="scrollend"),N=se?k!==null?k+"Capture":null:k;se=[];for(var E=R,T;E!==null;){var $=E;if(T=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||T===null||N===null||($=Ps(E,N),$!=null&&se.push(Ol(E,$,T))),De)break;E=E.return}0<se.length&&(k=new D(k,oe,null,a,B),Y.push({event:k,listeners:se}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",k&&a!==Ui&&(oe=a.relatedTarget||a.fromElement)&&(Gn(oe)||oe[$n]))break e;if((D||k)&&(k=B.window===B?B:(k=B.ownerDocument)?k.defaultView||k.parentWindow:window,D?(oe=a.relatedTarget||a.toElement,D=R,oe=oe?Gn(oe):null,oe!==null&&(De=f(oe),se=oe.tag,oe!==De||se!==5&&se!==27&&se!==6)&&(oe=null)):(D=null,oe=R),D!==oe)){if(se=Vc,$="onMouseLeave",N="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(se=Kc,$="onPointerLeave",N="onPointerEnter",E="pointer"),De=D==null?k:Qs(D),T=oe==null?k:Qs(oe),k=new se($,E+"leave",D,a,B),k.target=De,k.relatedTarget=T,$=null,Gn(B)===R&&(se=new se(N,E+"enter",oe,a,B),se.target=T,se.relatedTarget=De,$=se),De=$,D&&oe)t:{for(se=D,N=oe,E=0,T=se;T;T=_s(T))E++;for(T=0,$=N;$;$=_s($))T++;for(;0<E-T;)se=_s(se),E--;for(;0<T-E;)N=_s(N),T--;for(;E--;){if(se===N||N!==null&&se===N.alternate)break t;se=_s(se),N=_s(N)}se=null}else se=null;D!==null&&qh(Y,k,D,se,!1),oe!==null&&De!==null&&qh(Y,De,oe,se,!0)}}e:{if(k=R?Qs(R):window,D=k.nodeName&&k.nodeName.toLowerCase(),D==="select"||D==="input"&&k.type==="file")var te=ed;else if(Fc(k))if(td)te=Eg;else{te=Sg;var ge=_g}else D=k.nodeName,!D||D.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?R&&Di(R.elementType)&&(te=ed):te=jg;if(te&&(te=te(e,R))){Ic(Y,te,a,B);break e}ge&&ge(e,k,R),e==="focusout"&&R&&k.type==="number"&&R.memoizedProps.value!=null&&Ci(k,"number",k.value)}switch(ge=R?Qs(R):window,e){case"focusin":(Fc(ge)||ge.contentEditable==="true")&&(Fn=ge,Qi=R,al=null);break;case"focusout":al=Qi=Fn=null;break;case"mousedown":Pi=!0;break;case"contextmenu":case"mouseup":case"dragend":Pi=!1,ud(Y,a,B);break;case"selectionchange":if(Tg)break;case"keydown":case"keyup":ud(Y,a,B)}var ne;if(Yi)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Wn?Jc(e,a)&&(re="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(re="onCompositionStart");re&&(Qc&&a.locale!=="ko"&&(Wn||re!=="onCompositionStart"?re==="onCompositionEnd"&&Wn&&(ne=Gc()):(Ga=B,zi="value"in Ga?Ga.value:Ga.textContent,Wn=!0)),ge=Zr(R,re),0<ge.length&&(re=new Xc(re,e,null,a,B),Y.push({event:re,listeners:ge}),ne?re.data=ne:(ne=Wc(a),ne!==null&&(re.data=ne)))),(ne=vg?yg(e,a):bg(e,a))&&(re=Zr(R,"onBeforeInput"),0<re.length&&(ge=new Xc("onBeforeInput","beforeinput",null,a,B),Y.push({event:ge,listeners:re}),ge.data=ne)),up(Y,e,R,a,B)}Uh(Y,t)})}function Ol(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Zr(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,d=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||d===null||(i=Ps(e,a),i!=null&&n.unshift(Ol(e,i,d)),i=Ps(e,t),i!=null&&n.push(Ol(e,i,d))),e.tag===3)return n;e=e.return}return[]}function _s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qh(e,t,a,n,i){for(var d=t._reactName,g=[];a!==null&&a!==n;){var b=a,_=b.alternate,R=b.stateNode;if(b=b.tag,_!==null&&_===n)break;b!==5&&b!==26&&b!==27||R===null||(_=R,i?(R=Ps(a,d),R!=null&&g.unshift(Ol(a,R,_))):i||(R=Ps(a,d),R!=null&&g.push(Ol(a,R,_)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var hp=/\r\n?/g,mp=/\u0000|\uFFFD/g;function Lh(e){return(typeof e=="string"?e:""+e).replace(hp,`
`).replace(mp,"")}function zh(e,t){return t=Lh(t),Lh(e)===t}function Jr(){}function Ce(e,t,a,n,i,d){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Pn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Pn(e,""+n);break;case"className":tr(e,"class",n);break;case"tabIndex":tr(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(e,a,n);break;case"style":Bc(e,n,d);break;case"data":if(t!=="object"){tr(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=sr(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Ce(e,t,"name",i.name,i,null),Ce(e,t,"formEncType",i.formEncType,i,null),Ce(e,t,"formMethod",i.formMethod,i,null),Ce(e,t,"formTarget",i.formTarget,i,null)):(Ce(e,t,"encType",i.encType,i,null),Ce(e,t,"method",i.method,i,null),Ce(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=sr(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Jr);break;case"onScroll":n!=null&&xe("scroll",e);break;case"onScrollEnd":n!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=sr(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":xe("beforetoggle",e),xe("toggle",e),er(e,"popover",n);break;case"xlinkActuate":xa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":xa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":xa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":xa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":xa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":xa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":xa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":xa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":xa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":er(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=V0.get(a)||a,er(e,a,n))}}function yu(e,t,a,n,i,d){switch(a){case"style":Bc(e,n,d);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Pn(e,n):(typeof n=="number"||typeof n=="bigint")&&Pn(e,""+n);break;case"onScroll":n!=null&&xe("scroll",e);break;case"onScrollEnd":n!=null&&xe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Jr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),d=e[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,i),typeof n=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):er(e,a,n)}}}function wt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var n=!1,i=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ce(e,t,d,g,a,null)}}i&&Ce(e,t,"srcSet",a.srcSet,a,null),n&&Ce(e,t,"src",a.src,a,null);return;case"input":xe("invalid",e);var b=d=g=i=null,_=null,R=null;for(n in a)if(a.hasOwnProperty(n)){var B=a[n];if(B!=null)switch(n){case"name":i=B;break;case"type":g=B;break;case"checked":_=B;break;case"defaultChecked":R=B;break;case"value":d=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:Ce(e,t,n,B,a,null)}}Mc(e,d,b,_,R,g,i,!1),ar(e);return;case"select":xe("invalid",e),n=g=d=null;for(i in a)if(a.hasOwnProperty(i)&&(b=a[i],b!=null))switch(i){case"value":d=b;break;case"defaultValue":g=b;break;case"multiple":n=b;default:Ce(e,t,i,b,a,null)}t=d,a=g,e.multiple=!!n,t!=null?Qn(e,!!n,t,!1):a!=null&&Qn(e,!!n,a,!0);return;case"textarea":xe("invalid",e),d=i=n=null;for(g in a)if(a.hasOwnProperty(g)&&(b=a[g],b!=null))switch(g){case"value":n=b;break;case"defaultValue":i=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Ce(e,t,g,b,a,null)}Lc(e,n,i,d),ar(e);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(n=a[_],n!=null))switch(_){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ce(e,t,_,n,a,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(n=0;n<Al.length;n++)xe(Al[n],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(n=a[R],n!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ce(e,t,R,n,a,null)}return;default:if(Di(t)){for(B in a)a.hasOwnProperty(B)&&(n=a[B],n!==void 0&&yu(e,t,B,n,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(n=a[b],n!=null&&Ce(e,t,b,n,a,null))}function gp(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,d=null,g=null,b=null,_=null,R=null,B=null;for(D in a){var Y=a[D];if(a.hasOwnProperty(D)&&Y!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":_=Y;default:n.hasOwnProperty(D)||Ce(e,t,D,null,n,Y)}}for(var k in n){var D=n[k];if(Y=a[k],n.hasOwnProperty(k)&&(D!=null||Y!=null))switch(k){case"type":d=D;break;case"name":i=D;break;case"checked":R=D;break;case"defaultChecked":B=D;break;case"value":g=D;break;case"defaultValue":b=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==Y&&Ce(e,t,k,D,n,Y)}}ki(e,g,b,_,R,B,d,i);return;case"select":D=g=b=k=null;for(d in a)if(_=a[d],a.hasOwnProperty(d)&&_!=null)switch(d){case"value":break;case"multiple":D=_;default:n.hasOwnProperty(d)||Ce(e,t,d,null,n,_)}for(i in n)if(d=n[i],_=a[i],n.hasOwnProperty(i)&&(d!=null||_!=null))switch(i){case"value":k=d;break;case"defaultValue":b=d;break;case"multiple":g=d;default:d!==_&&Ce(e,t,i,d,n,_)}t=b,a=g,n=D,k!=null?Qn(e,!!a,k,!1):!!n!=!!a&&(t!=null?Qn(e,!!a,t,!0):Qn(e,!!a,a?[]:"",!1));return;case"textarea":D=k=null;for(b in a)if(i=a[b],a.hasOwnProperty(b)&&i!=null&&!n.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ce(e,t,b,null,n,i)}for(g in n)if(i=n[g],d=a[g],n.hasOwnProperty(g)&&(i!=null||d!=null))switch(g){case"value":k=i;break;case"defaultValue":D=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==d&&Ce(e,t,g,i,n,d)}qc(e,k,D);return;case"option":for(var oe in a)if(k=a[oe],a.hasOwnProperty(oe)&&k!=null&&!n.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Ce(e,t,oe,null,n,k)}for(_ in n)if(k=n[_],D=a[_],n.hasOwnProperty(_)&&k!==D&&(k!=null||D!=null))switch(_){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ce(e,t,_,k,n,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)k=a[se],a.hasOwnProperty(se)&&k!=null&&!n.hasOwnProperty(se)&&Ce(e,t,se,null,n,k);for(R in n)if(k=n[R],D=a[R],n.hasOwnProperty(R)&&k!==D&&(k!=null||D!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,t));break;default:Ce(e,t,R,k,n,D)}return;default:if(Di(t)){for(var De in a)k=a[De],a.hasOwnProperty(De)&&k!==void 0&&!n.hasOwnProperty(De)&&yu(e,t,De,void 0,n,k);for(B in n)k=n[B],D=a[B],!n.hasOwnProperty(B)||k===D||k===void 0&&D===void 0||yu(e,t,B,k,n,D);return}}for(var N in a)k=a[N],a.hasOwnProperty(N)&&k!=null&&!n.hasOwnProperty(N)&&Ce(e,t,N,null,n,k);for(Y in n)k=n[Y],D=a[Y],!n.hasOwnProperty(Y)||k===D||k==null&&D==null||Ce(e,t,Y,k,n,D)}var bu=null,xu=null;function Wr(e){return e.nodeType===9?e:e.ownerDocument}function Bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _u=null;function pp(){var e=window.event;return e&&e.type==="popstate"?e===_u?!1:(_u=e,!0):(_u=null,!1)}var $h=typeof setTimeout=="function"?setTimeout:void 0,vp=typeof clearTimeout=="function"?clearTimeout:void 0,Gh=typeof Promise=="function"?Promise:void 0,yp=typeof queueMicrotask=="function"?queueMicrotask:typeof Gh<"u"?function(e){return Gh.resolve(null).then(e).catch(bp)}:$h;function bp(e){setTimeout(function(){throw e})}function sn(e){return e==="head"}function Yh(e,t){var a=t,n=0,i=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<n&&8>n){a=n;var g=e.ownerDocument;if(a&1&&kl(g.documentElement),a&2&&kl(g.body),a&4)for(a=g.head,kl(a),g=a.firstChild;g;){var b=g.nextSibling,_=g.nodeName;g[Ks]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=b}}if(i===0){e.removeChild(d),Bl(t);return}i--}else a==="$"||a==="$?"||a==="$!"?i++:n=a.charCodeAt(0)-48;else n=0;a=d}while(a);Bl(t)}function Su(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Su(a),Ti(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xp(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ks])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=sa(e.nextSibling),e===null)break}return null}function wp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=sa(e.nextSibling),e===null))return null;return e}function ju(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function _p(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Eu=null;function Vh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Xh(e,t,a){switch(t=Wr(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function kl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ti(e)}var Ft=new Map,Kh=new Set;function Fr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ua=Q.d;Q.d={f:Sp,r:jp,D:Ep,C:Np,L:Tp,m:Rp,X:Op,S:Ap,M:kp};function Sp(){var e=Ua.f(),t=Yr();return e||t}function jp(e){var t=Yn(e);t!==null&&t.tag===5&&t.type==="form"?ff(t):Ua.r(e)}var Ss=typeof document>"u"?null:document;function Qh(e,t,a){var n=Ss;if(n&&typeof t=="string"&&t){var i=Xt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),Kh.has(i)||(Kh.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),wt(t,"link",e),ct(t),n.head.appendChild(t)))}}function Ep(e){Ua.D(e),Qh("dns-prefetch",e,null)}function Np(e,t){Ua.C(e,t),Qh("preconnect",e,t)}function Tp(e,t,a){Ua.L(e,t,a);var n=Ss;if(n&&e&&t){var i='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+Xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+Xt(a.imageSizes)+'"]')):i+='[href="'+Xt(e)+'"]';var d=i;switch(t){case"style":d=js(e);break;case"script":d=Es(e)}Ft.has(d)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ft.set(d,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(Cl(d))||t==="script"&&n.querySelector(Dl(d))||(t=n.createElement("link"),wt(t,"link",e),ct(t),n.head.appendChild(t)))}}function Rp(e,t){Ua.m(e,t);var a=Ss;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Xt(n)+'"][href="'+Xt(e)+'"]',d=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Es(e)}if(!Ft.has(d)&&(e=y({rel:"modulepreload",href:e},t),Ft.set(d,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}n=a.createElement("link"),wt(n,"link",e),ct(n),a.head.appendChild(n)}}}function Ap(e,t,a){Ua.S(e,t,a);var n=Ss;if(n&&e){var i=Vn(n).hoistableStyles,d=js(e);t=t||"default";var g=i.get(d);if(!g){var b={loading:0,preload:null};if(g=n.querySelector(Cl(d)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ft.get(d))&&Nu(e,a);var _=g=n.createElement("link");ct(_),wt(_,"link",e),_._p=new Promise(function(R,B){_.onload=R,_.onerror=B}),_.addEventListener("load",function(){b.loading|=1}),_.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ir(g,t,n)}g={type:"stylesheet",instance:g,count:1,state:b},i.set(d,g)}}}function Op(e,t){Ua.X(e,t);var a=Ss;if(a&&e){var n=Vn(a).hoistableScripts,i=Es(e),d=n.get(i);d||(d=a.querySelector(Dl(i)),d||(e=y({src:e,async:!0},t),(t=Ft.get(i))&&Tu(e,t),d=a.createElement("script"),ct(d),wt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(i,d))}}function kp(e,t){Ua.M(e,t);var a=Ss;if(a&&e){var n=Vn(a).hoistableScripts,i=Es(e),d=n.get(i);d||(d=a.querySelector(Dl(i)),d||(e=y({src:e,async:!0,type:"module"},t),(t=Ft.get(i))&&Tu(e,t),d=a.createElement("script"),ct(d),wt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(i,d))}}function Ph(e,t,a,n){var i=(i=I.current)?Fr(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=js(a.href),a=Vn(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=js(a.href);var d=Vn(i).hoistableStyles,g=d.get(e);if(g||(i=i.ownerDocument||i,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=i.querySelector(Cl(e)))&&!d._p&&(g.instance=d,g.state.loading=5),Ft.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ft.set(e,a),d||Cp(i,e,a,g.state))),t&&n===null)throw Error(r(528,""));return g}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Es(a),a=Vn(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function js(e){return'href="'+Xt(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function Zh(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Cp(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),wt(t,"link",a),ct(t),e.head.appendChild(t))}function Es(e){return'[src="'+Xt(e)+'"]'}function Dl(e){return"script[async]"+e}function Jh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Xt(a.href)+'"]');if(n)return t.instance=n,ct(n),n;var i=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),ct(n),wt(n,"style",i),Ir(n,a.precedence,e),t.instance=n;case"stylesheet":i=js(a.href);var d=e.querySelector(Cl(i));if(d)return t.state.loading|=4,t.instance=d,ct(d),d;n=Zh(a),(i=Ft.get(i))&&Nu(n,i),d=(e.ownerDocument||e).createElement("link"),ct(d);var g=d;return g._p=new Promise(function(b,_){g.onload=b,g.onerror=_}),wt(d,"link",n),t.state.loading|=4,Ir(d,a.precedence,e),t.instance=d;case"script":return d=Es(a.src),(i=e.querySelector(Dl(d)))?(t.instance=i,ct(i),i):(n=a,(i=Ft.get(d))&&(n=y({},a),Tu(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),ct(i),wt(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ir(n,a.precedence,e));return t.instance}function Ir(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,d=i,g=0;g<n.length;g++){var b=n[g];if(b.dataset.precedence===t)d=b;else if(d!==i)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Nu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ei=null;function Wh(e,t,a){if(ei===null){var n=new Map,i=ei=new Map;i.set(a,n)}else i=ei,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var d=a[i];if(!(d[Ks]||d[jt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var b=n.get(g);b?b.push(d):n.set(g,[d])}}return n}function Fh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Dp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ih(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ul=null;function Up(){}function Mp(e,t,a){if(Ul===null)throw Error(r(475));var n=Ul;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=js(a.href),d=e.querySelector(Cl(i));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=ti.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=d,ct(d);return}d=e.ownerDocument||e,a=Zh(a),(i=Ft.get(i))&&Nu(a,i),d=d.createElement("link"),ct(d);var g=d;g._p=new Promise(function(b,_){g.onload=b,g.onerror=_}),wt(d,"link",a),t.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=ti.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function qp(){if(Ul===null)throw Error(r(475));var e=Ul;return e.stylesheets&&e.count===0&&Ru(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Ru(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ti(){if(this.count--,this.count===0){if(this.stylesheets)Ru(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ai=null;function Ru(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ai=new Map,t.forEach(Lp,e),ai=null,ti.call(e))}function Lp(e,t){if(!(t.state.loading&4)){var a=ai.get(e);if(a)var n=a.get(null);else{a=new Map,ai.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<i.length;d++){var g=i[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),n=g)}n&&a.set(null,n)}i=t.instance,g=i.getAttribute("data-precedence"),d=a.get(g)||n,d===n&&a.set(null,i),a.set(g,i),this.count++,n=ti.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),d?d.parentNode.insertBefore(i,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ml={$$typeof:M,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function zp(e,t,a,n,i,d,g,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function em(e,t,a,n,i,d,g,b,_,R,B,Y){return e=new zp(e,t,a,g,b,_,R,Y),t=1,d===!0&&(t|=24),d=Lt(3,null,null,t),e.current=d,d.stateNode=e,t=oo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:n,isDehydrated:a,cache:t},ho(d),e}function tm(e){return e?(e=as,e):as}function am(e,t,a,n,i,d){i=tm(i),n.context===null?n.context=i:n.pendingContext=i,n=Xa(t),n.payload={element:a},d=d===void 0?null:d,d!==null&&(n.callback=d),a=Ka(e,n,t),a!==null&&(Gt(a,e,t),dl(a,e,t))}function nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Au(e,t){nm(e,t),(e=e.alternate)&&nm(e,t)}function sm(e){if(e.tag===13){var t=ts(e,67108864);t!==null&&Gt(t,e,67108864),Au(e,67108864)}}var ni=!0;function Bp(e,t,a,n){var i=L.T;L.T=null;var d=Q.p;try{Q.p=2,Ou(e,t,a,n)}finally{Q.p=d,L.T=i}}function Hp(e,t,a,n){var i=L.T;L.T=null;var d=Q.p;try{Q.p=8,Ou(e,t,a,n)}finally{Q.p=d,L.T=i}}function Ou(e,t,a,n){if(ni){var i=ku(n);if(i===null)vu(e,t,n,si,a),rm(e,n);else if(Gp(i,e,t,a,n))n.stopPropagation();else if(rm(e,n),t&4&&-1<$p.indexOf(e)){for(;i!==null;){var d=Yn(i);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Ye(d.pendingLanes);if(g!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var _=1<<31-G(g);b.entanglements[1]|=_,g&=~_}pa(d),(Ae&6)===0&&($r=pt()+500,Rl(0))}}break;case 13:b=ts(d,2),b!==null&&Gt(b,d,2),Yr(),Au(d,2)}if(d=ku(n),d===null&&vu(e,t,n,si,a),d===i)break;i=d}i!==null&&n.stopPropagation()}else vu(e,t,n,null,a)}}function ku(e){return e=Mi(e),Cu(e)}var si=null;function Cu(e){if(si=null,e=Gn(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return si=e,null}function lm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case vt:return 2;case da:return 8;case Yt:case Vs:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var Du=!1,ln=null,rn=null,on=null,ql=new Map,Ll=new Map,un=[],$p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rm(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(t.pointerId)}}function zl(e,t,a,n,i,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:d,targetContainers:[i]},t!==null&&(t=Yn(t),t!==null&&sm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Gp(e,t,a,n,i){switch(t){case"focusin":return ln=zl(ln,e,t,a,n,i),!0;case"dragenter":return rn=zl(rn,e,t,a,n,i),!0;case"mouseover":return on=zl(on,e,t,a,n,i),!0;case"pointerover":var d=i.pointerId;return ql.set(d,zl(ql.get(d)||null,e,t,a,n,i)),!0;case"gotpointercapture":return d=i.pointerId,Ll.set(d,zl(Ll.get(d)||null,e,t,a,n,i)),!0}return!1}function im(e){var t=Gn(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,M0(e.priority,function(){if(a.tag===13){var n=$t();n=ta(n);var i=ts(a,n);i!==null&&Gt(i,a,n),Au(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ku(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Ui=n,a.target.dispatchEvent(n),Ui=null}else return t=Yn(a),t!==null&&sm(t),e.blockedOn=a,!1;t.shift()}return!0}function om(e,t,a){li(e)&&a.delete(t)}function Yp(){Du=!1,ln!==null&&li(ln)&&(ln=null),rn!==null&&li(rn)&&(rn=null),on!==null&&li(on)&&(on=null),ql.forEach(om),Ll.forEach(om)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,Du||(Du=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Yp)))}var ii=null;function um(e){ii!==e&&(ii=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){ii===e&&(ii=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(Cu(n||a)===null)continue;break}var d=Yn(a);d!==null&&(e.splice(t,3),t-=3,Co(d,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function Bl(e){function t(_){return ri(_,e)}ln!==null&&ri(ln,e),rn!==null&&ri(rn,e),on!==null&&ri(on,e),ql.forEach(t),Ll.forEach(t);for(var a=0;a<un.length;a++){var n=un[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<un.length&&(a=un[0],a.blockedOn===null);)im(a),a.blockedOn===null&&un.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],d=a[n+1],g=i[kt]||null;if(typeof d=="function")g||um(a);else if(g){var b=null;if(d&&d.hasAttribute("formAction")){if(i=d,g=d[kt]||null)b=g.formAction;else if(Cu(i)!==null)continue}else b=g.action;typeof b=="function"?a[n+1]=b:(a.splice(n,3),n-=3),um(a)}}}function Uu(e){this._internalRoot=e}oi.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,n=$t();am(a,n,e,t,null,null)},oi.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;am(e.current,2,null,e,null,null),Yr(),t[$n]=null}};function oi(e){this._internalRoot=e}oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ec();e={blockedOn:null,target:e,priority:t};for(var a=0;a<un.length&&t!==0&&t<un[a].priority;a++);un.splice(a,0,e),a===0&&im(e)}};var cm=s.version;if(cm!=="19.1.1")throw Error(r(527,cm,"19.1.1"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Vp={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ui.isDisabled&&ui.supportsFiber)try{It=ui.inject(Vp),ot=ui}catch{}}return $l.createRoot=function(e,t){if(!u(e))throw Error(r(299));var a=!1,n="",i=Nf,d=Tf,g=Rf,b=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=em(e,1,!1,null,null,a,n,i,d,g,b,null),e[$n]=t.current,pu(e),new Uu(t)},$l.hydrateRoot=function(e,t,a){if(!u(e))throw Error(r(299));var n=!1,i="",d=Nf,g=Tf,b=Rf,_=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),t=em(e,1,!0,t,a??null,n,i,d,g,b,_,R),t.context=tm(null),a=t.current,n=$t(),n=ta(n),i=Xa(n),i.callback=null,Ka(a,i,n),a=n,t.current.lanes=a,Rt(t,a),pa(t),e[$n]=t.current,pu(e),new oi(t)},$l.version="19.1.1",$l}var xm;function av(){if(xm)return Lu.exports;xm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),Lu.exports=tv(),Lu.exports}var nv=av();const sv=dc(nv);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wm="popstate";function lv(o={}){function s(r,u){let{pathname:f,search:h,hash:p}=r.location;return Fu("",{pathname:f,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function l(r,u){return typeof u=="string"?u:Pl(u)}return iv(s,l,null,o)}function Xe(o,s){if(o===!1||o===null||typeof o>"u")throw new Error(s)}function ia(o,s){if(!o){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function rv(){return Math.random().toString(36).substring(2,10)}function _m(o,s){return{usr:o.state,key:o.key,idx:s}}function Fu(o,s,l=null,r){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof s=="string"?Bs(s):s,state:l,key:s&&s.key||r||rv()}}function Pl({pathname:o="/",search:s="",hash:l=""}){return s&&s!=="?"&&(o+=s.charAt(0)==="?"?s:"?"+s),l&&l!=="#"&&(o+=l.charAt(0)==="#"?l:"#"+l),o}function Bs(o){let s={};if(o){let l=o.indexOf("#");l>=0&&(s.hash=o.substring(l),o=o.substring(0,l));let r=o.indexOf("?");r>=0&&(s.search=o.substring(r),o=o.substring(0,r)),o&&(s.pathname=o)}return s}function iv(o,s,l,r={}){let{window:u=document.defaultView,v5Compat:f=!1}=r,h=u.history,p="POP",v=null,m=y();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function y(){return(h.state||{idx:null}).idx}function x(){p="POP";let C=y(),V=C==null?null:C-m;m=C,v&&v({action:p,location:z.location,delta:V})}function w(C,V){p="PUSH";let X=Fu(z.location,C,V);m=y()+1;let M=_m(X,m),K=z.createHref(X);try{h.pushState(M,"",K)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;u.location.assign(K)}f&&v&&v({action:p,location:z.location,delta:1})}function O(C,V){p="REPLACE";let X=Fu(z.location,C,V);m=y();let M=_m(X,m),K=z.createHref(X);h.replaceState(M,"",K),f&&v&&v({action:p,location:z.location,delta:0})}function q(C){return ov(C)}let z={get action(){return p},get location(){return o(u,h)},listen(C){if(v)throw new Error("A history only accepts one active listener");return u.addEventListener(wm,x),v=C,()=>{u.removeEventListener(wm,x),v=null}},createHref(C){return s(u,C)},createURL:q,encodeLocation(C){let V=q(C);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:w,replace:O,go(C){return h.go(C)}};return z}function ov(o,s=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(l,"No window.location.(origin|href) available to create URL");let r=typeof o=="string"?o:Pl(o);return r=r.replace(/ $/,"%20"),!s&&r.startsWith("//")&&(r=l+r),new URL(r,l)}function e0(o,s,l="/"){return uv(o,s,l,!1)}function uv(o,s,l,r){let u=typeof s=="string"?Bs(s):s,f=za(u.pathname||"/",l);if(f==null)return null;let h=t0(o);cv(h);let p=null;for(let v=0;p==null&&v<h.length;++v){let m=wv(f);p=bv(h[v],m,r)}return p}function t0(o,s=[],l=[],r="",u=!1){let f=(h,p,v=u,m)=>{let y={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&v)return;Xe(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let x=La([r,y.relativePath]),w=l.concat(y);h.children&&h.children.length>0&&(Xe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),t0(h.children,s,w,x,v)),!(h.path==null&&!h.index)&&s.push({path:x,score:vv(x,h.index),routesMeta:w})};return o.forEach((h,p)=>{var v;if(h.path===""||!((v=h.path)!=null&&v.includes("?")))f(h,p);else for(let m of a0(h.path))f(h,p,!0,m)}),s}function a0(o){let s=o.split("/");if(s.length===0)return[];let[l,...r]=s,u=l.endsWith("?"),f=l.replace(/\?$/,"");if(r.length===0)return u?[f,""]:[f];let h=a0(r.join("/")),p=[];return p.push(...h.map(v=>v===""?f:[f,v].join("/"))),u&&p.push(...h),p.map(v=>o.startsWith("/")&&v===""?"/":v)}function cv(o){o.sort((s,l)=>s.score!==l.score?l.score-s.score:yv(s.routesMeta.map(r=>r.childrenIndex),l.routesMeta.map(r=>r.childrenIndex)))}var dv=/^:[\w-]+$/,fv=3,hv=2,mv=1,gv=10,pv=-2,Sm=o=>o==="*";function vv(o,s){let l=o.split("/"),r=l.length;return l.some(Sm)&&(r+=pv),s&&(r+=hv),l.filter(u=>!Sm(u)).reduce((u,f)=>u+(dv.test(f)?fv:f===""?mv:gv),r)}function yv(o,s){return o.length===s.length&&o.slice(0,-1).every((r,u)=>r===s[u])?o[o.length-1]-s[s.length-1]:0}function bv(o,s,l=!1){let{routesMeta:r}=o,u={},f="/",h=[];for(let p=0;p<r.length;++p){let v=r[p],m=p===r.length-1,y=f==="/"?s:s.slice(f.length)||"/",x=yi({path:v.relativePath,caseSensitive:v.caseSensitive,end:m},y),w=v.route;if(!x&&m&&l&&!r[r.length-1].route.index&&(x=yi({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},y)),!x)return null;Object.assign(u,x.params),h.push({params:u,pathname:La([f,x.pathname]),pathnameBase:Ev(La([f,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(f=La([f,x.pathnameBase]))}return h}function yi(o,s){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[l,r]=xv(o.path,o.caseSensitive,o.end),u=s.match(l);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:x},w)=>{if(y==="*"){let q=p[w]||"";h=f.slice(0,f.length-q.length).replace(/(.)\/+$/,"$1")}const O=p[w];return x&&!O?m[y]=void 0:m[y]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:f,pathnameBase:h,pattern:o}}function xv(o,s=!1,l=!0){ia(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let r=[],u="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,v)=>(r.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return o.endsWith("*")?(r.push({paramName:"*"}),u+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?u+="\\/*$":o!==""&&o!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,s?void 0:"i"),r]}function wv(o){try{return o.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ia(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),o}}function za(o,s){if(s==="/")return o;if(!o.toLowerCase().startsWith(s.toLowerCase()))return null;let l=s.endsWith("/")?s.length-1:s.length,r=o.charAt(l);return r&&r!=="/"?null:o.slice(l)||"/"}function _v(o,s="/"){let{pathname:l,search:r="",hash:u=""}=typeof o=="string"?Bs(o):o;return{pathname:l?l.startsWith("/")?l:Sv(l,s):s,search:Nv(r),hash:Tv(u)}}function Sv(o,s){let l=s.replace(/\/+$/,"").split("/");return o.split("/").forEach(u=>{u===".."?l.length>1&&l.pop():u!=="."&&l.push(u)}),l.length>1?l.join("/"):"/"}function $u(o,s,l,r){return`Cannot include a '${o}' character in a manually specified \`to.${s}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jv(o){return o.filter((s,l)=>l===0||s.route.path&&s.route.path.length>0)}function hc(o){let s=jv(o);return s.map((l,r)=>r===s.length-1?l.pathname:l.pathnameBase)}function mc(o,s,l,r=!1){let u;typeof o=="string"?u=Bs(o):(u={...o},Xe(!u.pathname||!u.pathname.includes("?"),$u("?","pathname","search",u)),Xe(!u.pathname||!u.pathname.includes("#"),$u("#","pathname","hash",u)),Xe(!u.search||!u.search.includes("#"),$u("#","search","hash",u)));let f=o===""||u.pathname==="",h=f?"/":u.pathname,p;if(h==null)p=l;else{let x=s.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),x-=1;u.pathname=w.join("/")}p=x>=0?s[x]:"/"}let v=_v(u,p),m=h&&h!=="/"&&h.endsWith("/"),y=(f||h===".")&&l.endsWith("/");return!v.pathname.endsWith("/")&&(m||y)&&(v.pathname+="/"),v}var La=o=>o.join("/").replace(/\/\/+/g,"/"),Ev=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Nv=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Tv=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Rv(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var n0=["POST","PUT","PATCH","DELETE"];new Set(n0);var Av=["GET",...n0];new Set(Av);var Hs=S.createContext(null);Hs.displayName="DataRouter";var _i=S.createContext(null);_i.displayName="DataRouterState";S.createContext(!1);var s0=S.createContext({isTransitioning:!1});s0.displayName="ViewTransition";var Ov=S.createContext(new Map);Ov.displayName="Fetchers";var kv=S.createContext(null);kv.displayName="Await";var oa=S.createContext(null);oa.displayName="Navigation";var Jl=S.createContext(null);Jl.displayName="Location";var ya=S.createContext({outlet:null,matches:[],isDataRoute:!1});ya.displayName="Route";var gc=S.createContext(null);gc.displayName="RouteError";function Cv(o,{relative:s}={}){Xe($s(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:r}=S.useContext(oa),{hash:u,pathname:f,search:h}=Wl(o,{relative:s}),p=f;return l!=="/"&&(p=f==="/"?l:La([l,f])),r.createHref({pathname:p,search:h,hash:u})}function $s(){return S.useContext(Jl)!=null}function Ba(){return Xe($s(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Jl).location}var l0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r0(o){S.useContext(oa).static||S.useLayoutEffect(o)}function Gs(){let{isDataRoute:o}=S.useContext(ya);return o?Xv():Dv()}function Dv(){Xe($s(),"useNavigate() may be used only in the context of a <Router> component.");let o=S.useContext(Hs),{basename:s,navigator:l}=S.useContext(oa),{matches:r}=S.useContext(ya),{pathname:u}=Ba(),f=JSON.stringify(hc(r)),h=S.useRef(!1);return r0(()=>{h.current=!0}),S.useCallback((v,m={})=>{if(ia(h.current,l0),!h.current)return;if(typeof v=="number"){l.go(v);return}let y=mc(v,JSON.parse(f),u,m.relative==="path");o==null&&s!=="/"&&(y.pathname=y.pathname==="/"?s:La([s,y.pathname])),(m.replace?l.replace:l.push)(y,m.state,m)},[s,l,f,u,o])}S.createContext(null);function Wl(o,{relative:s}={}){let{matches:l}=S.useContext(ya),{pathname:r}=Ba(),u=JSON.stringify(hc(l));return S.useMemo(()=>mc(o,JSON.parse(u),r,s==="path"),[o,u,r,s])}function Uv(o,s){return i0(o,s)}function i0(o,s,l,r,u){var X;Xe($s(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=S.useContext(oa),{matches:h}=S.useContext(ya),p=h[h.length-1],v=p?p.params:{},m=p?p.pathname:"/",y=p?p.pathnameBase:"/",x=p&&p.route;{let M=x&&x.path||"";o0(m,!x||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=Ba(),O;if(s){let M=typeof s=="string"?Bs(s):s;Xe(y==="/"||((X=M.pathname)==null?void 0:X.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${M.pathname}" was given in the \`location\` prop.`),O=M}else O=w;let q=O.pathname||"/",z=q;if(y!=="/"){let M=y.replace(/^\//,"").split("/");z="/"+q.replace(/^\//,"").split("/").slice(M.length).join("/")}let C=e0(o,{pathname:z});ia(x||C!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),ia(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=Bv(C&&C.map(M=>Object.assign({},M,{params:Object.assign({},v,M.params),pathname:La([y,f.encodeLocation?f.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?y:La([y,f.encodeLocation?f.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),h,l,r,u);return s&&V?S.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},V):V}function Mv(){let o=Vv(),s=Rv(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),l=o instanceof Error?o.stack:null,r="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:r},f={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",o),h=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:f},"ErrorBoundary")," or"," ",S.createElement("code",{style:f},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},s),l?S.createElement("pre",{style:u},l):null,h)}var qv=S.createElement(Mv,null),Lv=class extends S.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,s){return s.location!==o.location||s.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:s.error,location:s.location,revalidation:o.revalidation||s.revalidation}}componentDidCatch(o,s){this.props.unstable_onError?this.props.unstable_onError(o,s):console.error("React Router caught the following error during render",o)}render(){return this.state.error!==void 0?S.createElement(ya.Provider,{value:this.props.routeContext},S.createElement(gc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zv({routeContext:o,match:s,children:l}){let r=S.useContext(Hs);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),S.createElement(ya.Provider,{value:o},l)}function Bv(o,s=[],l=null,r=null,u=null){if(o==null){if(!l)return null;if(l.errors)o=l.matches;else if(s.length===0&&!l.initialized&&l.matches.length>0)o=l.matches;else return null}let f=o,h=l==null?void 0:l.errors;if(h!=null){let m=f.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);Xe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,m+1))}let p=!1,v=-1;if(l)for(let m=0;m<f.length;m++){let y=f[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=m),y.route.id){let{loaderData:x,errors:w}=l,O=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||O){p=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}return f.reduceRight((m,y,x)=>{let w,O=!1,q=null,z=null;l&&(w=h&&y.route.id?h[y.route.id]:void 0,q=y.route.errorElement||qv,p&&(v<0&&x===0?(o0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,z=null):v===x&&(O=!0,z=y.route.hydrateFallbackElement||null)));let C=s.concat(f.slice(0,x+1)),V=()=>{let X;return w?X=q:O?X=z:y.route.Component?X=S.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=m,S.createElement(zv,{match:y,routeContext:{outlet:m,matches:C,isDataRoute:l!=null},children:X})};return l&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?S.createElement(Lv,{location:l.location,revalidation:l.revalidation,component:q,error:w,children:V(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):V()},null)}function pc(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hv(o){let s=S.useContext(Hs);return Xe(s,pc(o)),s}function $v(o){let s=S.useContext(_i);return Xe(s,pc(o)),s}function Gv(o){let s=S.useContext(ya);return Xe(s,pc(o)),s}function vc(o){let s=Gv(o),l=s.matches[s.matches.length-1];return Xe(l.route.id,`${o} can only be used on routes that contain a unique "id"`),l.route.id}function Yv(){return vc("useRouteId")}function Vv(){var r;let o=S.useContext(gc),s=$v("useRouteError"),l=vc("useRouteError");return o!==void 0?o:(r=s.errors)==null?void 0:r[l]}function Xv(){let{router:o}=Hv("useNavigate"),s=vc("useNavigate"),l=S.useRef(!1);return r0(()=>{l.current=!0}),S.useCallback(async(u,f={})=>{ia(l.current,l0),l.current&&(typeof u=="number"?o.navigate(u):await o.navigate(u,{fromRouteId:s,...f}))},[o,s])}var jm={};function o0(o,s,l){!s&&!jm[o]&&(jm[o]=!0,ia(!1,l))}S.memo(Kv);function Kv({routes:o,future:s,state:l,unstable_onError:r}){return i0(o,void 0,l,r,s)}function u0({to:o,replace:s,state:l,relative:r}){Xe($s(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=S.useContext(oa);ia(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=S.useContext(ya),{pathname:h}=Ba(),p=Gs(),v=mc(o,hc(f),h,r==="path"),m=JSON.stringify(v);return S.useEffect(()=>{p(JSON.parse(m),{replace:s,state:l,relative:r})},[p,m,r,s,l]),null}function fn(o){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qv({basename:o="/",children:s=null,location:l,navigationType:r="POP",navigator:u,static:f=!1}){Xe(!$s(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=o.replace(/^\/*/,"/"),p=S.useMemo(()=>({basename:h,navigator:u,static:f,future:{}}),[h,u,f]);typeof l=="string"&&(l=Bs(l));let{pathname:v="/",search:m="",hash:y="",state:x=null,key:w="default"}=l,O=S.useMemo(()=>{let q=za(v,h);return q==null?null:{location:{pathname:q,search:m,hash:y,state:x,key:w},navigationType:r}},[h,v,m,y,x,w,r]);return ia(O!=null,`<Router basename="${h}"> is not able to match the URL "${v}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:S.createElement(oa.Provider,{value:p},S.createElement(Jl.Provider,{children:s,value:O}))}function Pv({children:o,location:s}){return Uv(Iu(o),s)}function Iu(o,s=[]){let l=[];return S.Children.forEach(o,(r,u)=>{if(!S.isValidElement(r))return;let f=[...s,u];if(r.type===S.Fragment){l.push.apply(l,Iu(r.props.children,f));return}Xe(r.type===fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Iu(r.props.children,f)),l.push(h)}),l}var pi="get",vi="application/x-www-form-urlencoded";function Si(o){return o!=null&&typeof o.tagName=="string"}function Zv(o){return Si(o)&&o.tagName.toLowerCase()==="button"}function Jv(o){return Si(o)&&o.tagName.toLowerCase()==="form"}function Wv(o){return Si(o)&&o.tagName.toLowerCase()==="input"}function Fv(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function Iv(o,s){return o.button===0&&(!s||s==="_self")&&!Fv(o)}var ci=null;function ey(){if(ci===null)try{new FormData(document.createElement("form"),0),ci=!1}catch{ci=!0}return ci}var ty=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gu(o){return o!=null&&!ty.has(o)?(ia(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vi}"`),null):o}function ay(o,s){let l,r,u,f,h;if(Jv(o)){let p=o.getAttribute("action");r=p?za(p,s):null,l=o.getAttribute("method")||pi,u=Gu(o.getAttribute("enctype"))||vi,f=new FormData(o)}else if(Zv(o)||Wv(o)&&(o.type==="submit"||o.type==="image")){let p=o.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=o.getAttribute("formaction")||p.getAttribute("action");if(r=v?za(v,s):null,l=o.getAttribute("formmethod")||p.getAttribute("method")||pi,u=Gu(o.getAttribute("formenctype"))||Gu(p.getAttribute("enctype"))||vi,f=new FormData(p,o),!ey()){let{name:m,type:y,value:x}=o;if(y==="image"){let w=m?`${m}.`:"";f.append(`${w}x`,"0"),f.append(`${w}y`,"0")}else m&&f.append(m,x)}}else{if(Si(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=pi,r=null,u=vi,h=o}return f&&u==="text/plain"&&(h=f,f=void 0),{action:r,method:l.toLowerCase(),encType:u,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yc(o,s){if(o===!1||o===null||typeof o>"u")throw new Error(s)}function ny(o,s,l){let r=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return r.pathname==="/"?r.pathname=`_root.${l}`:s&&za(r.pathname,s)==="/"?r.pathname=`${s.replace(/\/$/,"")}/_root.${l}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${l}`,r}async function sy(o,s){if(o.id in s)return s[o.id];try{let l=await import(o.module);return s[o.id]=l,l}catch(l){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ly(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function ry(o,s,l){let r=await Promise.all(o.map(async u=>{let f=s.routes[u.route.id];if(f){let h=await sy(f,l);return h.links?h.links():[]}return[]}));return cy(r.flat(1).filter(ly).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Em(o,s,l,r,u,f){let h=(v,m)=>l[m]?v.route.id!==l[m].route.id:!0,p=(v,m)=>{var y;return l[m].pathname!==v.pathname||((y=l[m].route.path)==null?void 0:y.endsWith("*"))&&l[m].params["*"]!==v.params["*"]};return f==="assets"?s.filter((v,m)=>h(v,m)||p(v,m)):f==="data"?s.filter((v,m)=>{var x;let y=r.routes[v.route.id];if(!y||!y.hasLoader)return!1;if(h(v,m)||p(v,m))return!0;if(v.route.shouldRevalidate){let w=v.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((x=l[0])==null?void 0:x.params)||{},nextUrl:new URL(o,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function iy(o,s,{includeHydrateFallback:l}={}){return oy(o.map(r=>{let u=s.routes[r.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),l&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function oy(o){return[...new Set(o)]}function uy(o){let s={},l=Object.keys(o).sort();for(let r of l)s[r]=o[r];return s}function cy(o,s){let l=new Set;return new Set(s),o.reduce((r,u)=>{let f=JSON.stringify(uy(u));return l.has(f)||(l.add(f),r.push({key:f,link:u})),r},[])}function c0(){let o=S.useContext(Hs);return yc(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function dy(){let o=S.useContext(_i);return yc(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var bc=S.createContext(void 0);bc.displayName="FrameworkContext";function d0(){let o=S.useContext(bc);return yc(o,"You must render this element inside a <HydratedRouter> element"),o}function fy(o,s){let l=S.useContext(bc),[r,u]=S.useState(!1),[f,h]=S.useState(!1),{onFocus:p,onBlur:v,onMouseEnter:m,onMouseLeave:y,onTouchStart:x}=s,w=S.useRef(null);S.useEffect(()=>{if(o==="render"&&h(!0),o==="viewport"){let z=V=>{V.forEach(X=>{h(X.isIntersecting)})},C=new IntersectionObserver(z,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[o]),S.useEffect(()=>{if(r){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[r]);let O=()=>{u(!0)},q=()=>{u(!1),h(!1)};return l?o!=="intent"?[f,w,{}]:[f,w,{onFocus:Gl(p,O),onBlur:Gl(v,q),onMouseEnter:Gl(m,O),onMouseLeave:Gl(y,q),onTouchStart:Gl(x,O)}]:[!1,w,{}]}function Gl(o,s){return l=>{o&&o(l),l.defaultPrevented||s(l)}}function hy({page:o,...s}){let{router:l}=c0(),r=S.useMemo(()=>e0(l.routes,o,l.basename),[l.routes,o,l.basename]);return r?S.createElement(gy,{page:o,matches:r,...s}):null}function my(o){let{manifest:s,routeModules:l}=d0(),[r,u]=S.useState([]);return S.useEffect(()=>{let f=!1;return ry(o,s,l).then(h=>{f||u(h)}),()=>{f=!0}},[o,s,l]),r}function gy({page:o,matches:s,...l}){let r=Ba(),{manifest:u,routeModules:f}=d0(),{basename:h}=c0(),{loaderData:p,matches:v}=dy(),m=S.useMemo(()=>Em(o,s,v,u,r,"data"),[o,s,v,u,r]),y=S.useMemo(()=>Em(o,s,v,u,r,"assets"),[o,s,v,u,r]),x=S.useMemo(()=>{if(o===r.pathname+r.search+r.hash)return[];let q=new Set,z=!1;if(s.forEach(V=>{var M;let X=u.routes[V.route.id];!X||!X.hasLoader||(!m.some(K=>K.route.id===V.route.id)&&V.route.id in p&&((M=f[V.route.id])!=null&&M.shouldRevalidate)||X.hasClientLoader?z=!0:q.add(V.route.id))}),q.size===0)return[];let C=ny(o,h,"data");return z&&q.size>0&&C.searchParams.set("_routes",s.filter(V=>q.has(V.route.id)).map(V=>V.route.id).join(",")),[C.pathname+C.search]},[h,p,r,u,m,s,o,f]),w=S.useMemo(()=>iy(y,u),[y,u]),O=my(y);return S.createElement(S.Fragment,null,x.map(q=>S.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...l})),w.map(q=>S.createElement("link",{key:q,rel:"modulepreload",href:q,...l})),O.map(({key:q,link:z})=>S.createElement("link",{key:q,nonce:l.nonce,...z})))}function py(...o){return s=>{o.forEach(l=>{typeof l=="function"?l(s):l!=null&&(l.current=s)})}}var f0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f0&&(window.__reactRouterVersion="7.9.1")}catch{}function vy({basename:o,children:s,window:l}){let r=S.useRef();r.current==null&&(r.current=lv({window:l,v5Compat:!0}));let u=r.current,[f,h]=S.useState({action:u.action,location:u.location}),p=S.useCallback(v=>{S.startTransition(()=>h(v))},[h]);return S.useLayoutEffect(()=>u.listen(p),[u,p]),S.createElement(Qv,{basename:o,children:s,location:f.location,navigationType:f.action,navigator:u})}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi=S.forwardRef(function({onClick:s,discover:l="render",prefetch:r="none",relative:u,reloadDocument:f,replace:h,state:p,target:v,to:m,preventScrollReset:y,viewTransition:x,...w},O){let{basename:q}=S.useContext(oa),z=typeof m=="string"&&h0.test(m),C,V=!1;if(typeof m=="string"&&z&&(C=m,f0))try{let _e=new URL(window.location.href),Ee=m.startsWith("//")?new URL(_e.protocol+m):new URL(m),Be=za(Ee.pathname,q);Ee.origin===_e.origin&&Be!=null?m=Be+Ee.search+Ee.hash:V=!0}catch{ia(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=Cv(m,{relative:u}),[M,K,J]=fy(r,w),ae=wy(m,{replace:h,state:p,target:v,preventScrollReset:y,relative:u,viewTransition:x});function ie(_e){s&&s(_e),_e.defaultPrevented||ae(_e)}let pe=S.createElement("a",{...w,...J,href:C||X,onClick:V||f?s:ie,ref:py(O,K),target:v,"data-discover":!z&&l==="render"?"true":void 0});return M&&!z?S.createElement(S.Fragment,null,pe,S.createElement(hy,{page:X})):pe});bi.displayName="Link";var yy=S.forwardRef(function({"aria-current":s="page",caseSensitive:l=!1,className:r="",end:u=!1,style:f,to:h,viewTransition:p,children:v,...m},y){let x=Wl(h,{relative:m.relative}),w=Ba(),O=S.useContext(_i),{navigator:q,basename:z}=S.useContext(oa),C=O!=null&&Ny(x)&&p===!0,V=q.encodeLocation?q.encodeLocation(x).pathname:x.pathname,X=w.pathname,M=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;l||(X=X.toLowerCase(),M=M?M.toLowerCase():null,V=V.toLowerCase()),M&&z&&(M=za(M,z)||M);const K=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let J=X===V||!u&&X.startsWith(V)&&X.charAt(K)==="/",ae=M!=null&&(M===V||!u&&M.startsWith(V)&&M.charAt(V.length)==="/"),ie={isActive:J,isPending:ae,isTransitioning:C},pe=J?s:void 0,_e;typeof r=="function"?_e=r(ie):_e=[r,J?"active":null,ae?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof f=="function"?f(ie):f;return S.createElement(bi,{...m,"aria-current":pe,className:_e,ref:y,style:Ee,to:h,viewTransition:p},typeof v=="function"?v(ie):v)});yy.displayName="NavLink";var by=S.forwardRef(({discover:o="render",fetcherKey:s,navigate:l,reloadDocument:r,replace:u,state:f,method:h=pi,action:p,onSubmit:v,relative:m,preventScrollReset:y,viewTransition:x,...w},O)=>{let q=jy(),z=Ey(p,{relative:m}),C=h.toLowerCase()==="get"?"get":"post",V=typeof p=="string"&&h0.test(p),X=M=>{if(v&&v(M),M.defaultPrevented)return;M.preventDefault();let K=M.nativeEvent.submitter,J=(K==null?void 0:K.getAttribute("formmethod"))||h;q(K||M.currentTarget,{fetcherKey:s,method:J,navigate:l,replace:u,state:f,relative:m,preventScrollReset:y,viewTransition:x})};return S.createElement("form",{ref:O,method:C,action:z,onSubmit:r?v:X,...w,"data-discover":!V&&o==="render"?"true":void 0})});by.displayName="Form";function xy(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m0(o){let s=S.useContext(Hs);return Xe(s,xy(o)),s}function wy(o,{target:s,replace:l,state:r,preventScrollReset:u,relative:f,viewTransition:h}={}){let p=Gs(),v=Ba(),m=Wl(o,{relative:f});return S.useCallback(y=>{if(Iv(y,s)){y.preventDefault();let x=l!==void 0?l:Pl(v)===Pl(m);p(o,{replace:x,state:r,preventScrollReset:u,relative:f,viewTransition:h})}},[v,p,m,l,r,s,o,u,f,h])}var _y=0,Sy=()=>`__${String(++_y)}__`;function jy(){let{router:o}=m0("useSubmit"),{basename:s}=S.useContext(oa),l=Yv();return S.useCallback(async(r,u={})=>{let{action:f,method:h,encType:p,formData:v,body:m}=ay(r,s);if(u.navigate===!1){let y=u.fetcherKey||Sy();await o.fetch(y,l,u.action||f,{preventScrollReset:u.preventScrollReset,formData:v,body:m,formMethod:u.method||h,formEncType:u.encType||p,flushSync:u.flushSync})}else await o.navigate(u.action||f,{preventScrollReset:u.preventScrollReset,formData:v,body:m,formMethod:u.method||h,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:l,flushSync:u.flushSync,viewTransition:u.viewTransition})},[o,s,l])}function Ey(o,{relative:s}={}){let{basename:l}=S.useContext(oa),r=S.useContext(ya);Xe(r,"useFormAction must be used inside a RouteContext");let[u]=r.matches.slice(-1),f={...Wl(o||".",{relative:s})},h=Ba();if(o==null){f.search=h.search;let p=new URLSearchParams(f.search),v=p.getAll("index");if(v.some(y=>y==="")){p.delete("index"),v.filter(x=>x).forEach(x=>p.append("index",x));let y=p.toString();f.search=y?`?${y}`:""}}return(!o||o===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(f.pathname=f.pathname==="/"?l:La([l,f.pathname])),Pl(f)}function Ny(o,{relative:s}={}){let l=S.useContext(s0);Xe(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=m0("useViewTransitionState"),u=Wl(o,{relative:s});if(!l.isTransitioning)return!1;let f=za(l.currentLocation.pathname,r)||l.currentLocation.pathname,h=za(l.nextLocation.pathname,r)||l.nextLocation.pathname;return yi(u.pathname,h)!=null||yi(u.pathname,f)!=null}const Ty="modulepreload",Ry=function(o){return"/"+o},Nm={},Fl=function(s,l,r){let u=Promise.resolve();if(l&&l.length>0){let h=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),v=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));u=h(l.map(m=>{if(m=Ry(m),m in Nm)return;Nm[m]=!0;const y=m.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":Ty,y||(w.as="script"),w.crossOrigin="",w.href=m,v&&w.setAttribute("nonce",v),document.head.appendChild(w),y)return new Promise((O,q)=>{w.addEventListener("load",O),w.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${m}`)))})}))}function f(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return u.then(h=>{for(const p of h||[])p.status==="rejected"&&f(p.reason);return s().catch(f)})},Ay=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...l)=>Fl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ys);return{default:r}},[]).then(({default:r})=>r(...l)):s=fetch,(...l)=>s(...l)};class xc extends Error{constructor(s,l="FunctionsError",r){super(s),this.name=l,this.context=r}}class Oy extends xc{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class Tm extends xc{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class Rm extends xc{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var ec;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(ec||(ec={}));var ky=function(o,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(y){try{m(r.next(y))}catch(x){h(x)}}function v(y){try{m(r.throw(y))}catch(x){h(x)}}function m(y){y.done?f(y.value):u(y.value).then(p,v)}m((r=r.apply(o,s||[])).next())})};class Cy{constructor(s,{headers:l={},customFetch:r,region:u=ec.Any}={}){this.url=s,this.headers=l,this.region=u,this.fetch=Ay(r)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,l={}){var r;return ky(this,void 0,void 0,function*(){try{const{headers:u,method:f,body:h}=l;let p={},{region:v}=l;v||(v=this.region);const m=new URL(`${this.url}/${s}`);v&&v!=="any"&&(p["x-region"]=v,m.searchParams.set("forceFunctionRegion",v));let y;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(p["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(p["Content-Type"]="application/json",y=JSON.stringify(h)));const x=yield this.fetch(m.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),u),body:y}).catch(z=>{throw new Oy(z)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new Tm(x);if(!x.ok)throw new Rm(x);let O=((r=x.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),q;return O==="application/json"?q=yield x.json():O==="application/octet-stream"?q=yield x.blob():O==="text/event-stream"?q=x:O==="multipart/form-data"?q=yield x.formData():q=yield x.text(),{data:q,error:null,response:x}}catch(u){return{data:null,error:u,response:u instanceof Rm||u instanceof Tm?u.context:void 0}}})}}var mt={},Ns={},Ts={},Rs={},As={},Os={},Dy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zs=Dy();const Uy=zs.fetch,g0=zs.fetch.bind(zs),p0=zs.Headers,My=zs.Request,qy=zs.Response,Ys=Object.freeze(Object.defineProperty({__proto__:null,Headers:p0,Request:My,Response:qy,default:g0,fetch:Uy},Symbol.toStringTag,{value:"Module"})),Ly=Kp(Ys);var di={},Am;function v0(){if(Am)return di;Am=1,Object.defineProperty(di,"__esModule",{value:!0});class o extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return di.default=o,di}var Om;function y0(){if(Om)return Os;Om=1;var o=Os&&Os.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Os,"__esModule",{value:!0});const s=o(Ly),l=o(v0());class r{constructor(f){var h,p;this.shouldThrowOnError=!1,this.method=f.method,this.url=f.url,this.headers=new Headers(f.headers),this.schema=f.schema,this.body=f.body,this.shouldThrowOnError=(h=f.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=f.signal,this.isMaybeSingle=(p=f.isMaybeSingle)!==null&&p!==void 0?p:!1,f.fetch?this.fetch=f.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(f,h){return this.headers=new Headers(this.headers),this.headers.set(f,h),this}then(f,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let v=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,x,w,O;let q=null,z=null,C=null,V=m.status,X=m.statusText;if(m.ok){if(this.method!=="HEAD"){const ae=await m.text();ae===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?z=ae:z=JSON.parse(ae))}const K=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),J=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");K&&J&&J.length>1&&(C=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(z)&&(z.length>1?(q={code:"PGRST116",details:`Results contain ${z.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},z=null,C=null,V=406,X="Not Acceptable"):z.length===1?z=z[0]:z=null)}else{const K=await m.text();try{q=JSON.parse(K),Array.isArray(q)&&m.status===404&&(z=[],q=null,V=200,X="OK")}catch{m.status===404&&K===""?(V=204,X="No Content"):q={message:K}}if(q&&this.isMaybeSingle&&(!((O=q==null?void 0:q.details)===null||O===void 0)&&O.includes("0 rows"))&&(q=null,V=200,X="OK"),q&&this.shouldThrowOnError)throw new l.default(q)}return{error:q,data:z,count:C,status:V,statusText:X}});return this.shouldThrowOnError||(v=v.catch(m=>{var y,x,w;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(x=m==null?void 0:m.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(w=m==null?void 0:m.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),v.then(f,h)}returns(){return this}overrideTypes(){return this}}return Os.default=r,Os}var km;function b0(){if(km)return As;km=1;var o=As&&As.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(As,"__esModule",{value:!0});const s=o(y0());class l extends s.default{select(u){let f=!1;const h=(u??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:f=!0,nullsFirst:h,foreignTable:p,referencedTable:v=p}={}){const m=v?`${v}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${u}.${f?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:f,referencedTable:h=f}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,f,{foreignTable:h,referencedTable:p=h}={}){const v=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(v,`${u}`),this.url.searchParams.set(m,`${f-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:f=!1,settings:h=!1,buffers:p=!1,wal:v=!1,format:m="text"}={}){var y;const x=[u?"analyze":null,f?"verbose":null,h?"settings":null,p?"buffers":null,v?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${w}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return As.default=l,As}var Cm;function wc(){if(Cm)return Rs;Cm=1;var o=Rs&&Rs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rs,"__esModule",{value:!0});const s=o(b0());class l extends s.default{eq(u,f){return this.url.searchParams.append(u,`eq.${f}`),this}neq(u,f){return this.url.searchParams.append(u,`neq.${f}`),this}gt(u,f){return this.url.searchParams.append(u,`gt.${f}`),this}gte(u,f){return this.url.searchParams.append(u,`gte.${f}`),this}lt(u,f){return this.url.searchParams.append(u,`lt.${f}`),this}lte(u,f){return this.url.searchParams.append(u,`lte.${f}`),this}like(u,f){return this.url.searchParams.append(u,`like.${f}`),this}likeAllOf(u,f){return this.url.searchParams.append(u,`like(all).{${f.join(",")}}`),this}likeAnyOf(u,f){return this.url.searchParams.append(u,`like(any).{${f.join(",")}}`),this}ilike(u,f){return this.url.searchParams.append(u,`ilike.${f}`),this}ilikeAllOf(u,f){return this.url.searchParams.append(u,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(u,f){return this.url.searchParams.append(u,`ilike(any).{${f.join(",")}}`),this}is(u,f){return this.url.searchParams.append(u,`is.${f}`),this}in(u,f){const h=Array.from(new Set(f)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cs.{${f.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(f)}`),this}containedBy(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cd.{${f.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(f)}`),this}rangeGt(u,f){return this.url.searchParams.append(u,`sr.${f}`),this}rangeGte(u,f){return this.url.searchParams.append(u,`nxl.${f}`),this}rangeLt(u,f){return this.url.searchParams.append(u,`sl.${f}`),this}rangeLte(u,f){return this.url.searchParams.append(u,`nxr.${f}`),this}rangeAdjacent(u,f){return this.url.searchParams.append(u,`adj.${f}`),this}overlaps(u,f){return typeof f=="string"?this.url.searchParams.append(u,`ov.${f}`):this.url.searchParams.append(u,`ov.{${f.join(",")}}`),this}textSearch(u,f,{config:h,type:p}={}){let v="";p==="plain"?v="pl":p==="phrase"?v="ph":p==="websearch"&&(v="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${v}fts${m}.${f}`),this}match(u){return Object.entries(u).forEach(([f,h])=>{this.url.searchParams.append(f,`eq.${h}`)}),this}not(u,f,h){return this.url.searchParams.append(u,`not.${f}.${h}`),this}or(u,{foreignTable:f,referencedTable:h=f}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,f,h){return this.url.searchParams.append(u,`${f}.${h}`),this}}return Rs.default=l,Rs}var Dm;function x0(){if(Dm)return Ts;Dm=1;var o=Ts&&Ts.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ts,"__esModule",{value:!0});const s=o(wc());class l{constructor(u,{headers:f={},schema:h,fetch:p}){this.url=u,this.headers=new Headers(f),this.schema=h,this.fetch=p}select(u,{head:f=!1,count:h}={}){const p=f?"HEAD":"GET";let v=!1;const m=(u??"*").split("").map(y=>/\s/.test(y)&&!v?"":(y==='"'&&(v=!v),y)).join("");return this.url.searchParams.set("select",m),h&&this.headers.append("Prefer",`count=${h}`),new s.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:f,defaultToNull:h=!0}={}){var p;const v="POST";if(f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const m=u.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(m.length>0){const y=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new s.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:f,ignoreDuplicates:h=!1,count:p,defaultToNull:v=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),f!==void 0&&this.url.searchParams.set("on_conflict",f),p&&this.headers.append("Prefer",`count=${p}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const x=u.reduce((w,O)=>w.concat(Object.keys(O)),[]);if(x.length>0){const w=[...new Set(x)].map(O=>`"${O}"`);this.url.searchParams.set("columns",w.join(","))}}return new s.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(u,{count:f}={}){var h;const p="PATCH";return f&&this.headers.append("Prefer",`count=${f}`),new s.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var f;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new s.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Ts.default=l,Ts}var Um;function zy(){if(Um)return Ns;Um=1;var o=Ns&&Ns.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ns,"__esModule",{value:!0});const s=o(x0()),l=o(wc());class r{constructor(f,{headers:h={},schema:p,fetch:v}={}){this.url=f,this.headers=new Headers(h),this.schemaName=p,this.fetch=v}from(f){const h=new URL(`${this.url}/${f}`);return new s.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new r(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,h={},{head:p=!1,get:v=!1,count:m}={}){var y;let x;const w=new URL(`${this.url}/rpc/${f}`);let O;p||v?(x=p?"HEAD":"GET",Object.entries(h).filter(([z,C])=>C!==void 0).map(([z,C])=>[z,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([z,C])=>{w.searchParams.append(z,C)})):(x="POST",O=h);const q=new Headers(this.headers);return m&&q.set("Prefer",`count=${m}`),new l.default({method:x,url:w,headers:q,schema:this.schemaName,body:O,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Ns.default=r,Ns}var Mm;function By(){if(Mm)return mt;Mm=1;var o=mt&&mt.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(mt,"__esModule",{value:!0}),mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const s=o(zy());mt.PostgrestClient=s.default;const l=o(x0());mt.PostgrestQueryBuilder=l.default;const r=o(wc());mt.PostgrestFilterBuilder=r.default;const u=o(b0());mt.PostgrestTransformBuilder=u.default;const f=o(y0());mt.PostgrestBuilder=f.default;const h=o(v0());return mt.PostgrestError=h.default,mt.default={PostgrestClient:s.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:f.default,PostgrestError:h.default},mt}var Hy=By();const $y=dc(Hy),{PostgrestClient:Gy,PostgrestQueryBuilder:$x,PostgrestFilterBuilder:Gx,PostgrestTransformBuilder:Yx,PostgrestBuilder:Vx,PostgrestError:Xx}=$y;class Yy{static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const r=l.node,u=parseInt(r.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let l=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(l+=`

Suggested solution: ${s.workaround}`),new Error(l)}static createWebSocket(s,l){const r=this.getWebSocketConstructor();return new r(s,l)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const Vy="2.15.5",Xy=`realtime-js/${Vy}`,Ky="1.0.0",tc=1e4,Qy=1e3,Py=100;var Xl;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Xl||(Xl={}));var lt;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(lt||(lt={}));var ra;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(ra||(ra={}));var ac;(function(o){o.websocket="websocket"})(ac||(ac={}));var zn;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(zn||(zn={}));class Zy{constructor(){this.HEADER_LENGTH=1}decode(s,l){return s.constructor===ArrayBuffer?l(this._binaryDecode(s)):l(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const l=new DataView(s),r=new TextDecoder;return this._decodeBroadcast(s,l,r)}_decodeBroadcast(s,l,r){const u=l.getUint8(1),f=l.getUint8(2);let h=this.HEADER_LENGTH+2;const p=r.decode(s.slice(h,h+u));h=h+u;const v=r.decode(s.slice(h,h+f));h=h+f;const m=JSON.parse(r.decode(s.slice(h,s.byteLength)));return{ref:null,topic:p,event:v,payload:m}}}class w0{constructor(s,l){this.callback=s,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(ze||(ze={}));const qm=(o,s,l={})=>{var r;const u=(r=l.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(s).reduce((f,h)=>(f[h]=Jy(h,o,s,u),f),{})},Jy=(o,s,l,r)=>{const u=s.find(p=>p.name===o),f=u==null?void 0:u.type,h=l[o];return f&&!r.includes(f)?_0(f,h):nc(h)},_0=(o,s)=>{if(o.charAt(0)==="_"){const l=o.slice(1,o.length);return eb(s,l)}switch(o){case ze.bool:return Wy(s);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return Fy(s);case ze.json:case ze.jsonb:return Iy(s);case ze.timestamp:return tb(s);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return nc(s);default:return nc(s)}},nc=o=>o,Wy=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},Fy=o=>{if(typeof o=="string"){const s=parseFloat(o);if(!Number.isNaN(s))return s}return o},Iy=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(s){return console.log(`JSON parse error: ${s}`),o}return o},eb=(o,s)=>{if(typeof o!="string")return o;const l=o.length-1,r=o[l];if(o[0]==="{"&&r==="}"){let f;const h=o.slice(1,l);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(p=>_0(s,p))}return o},tb=o=>typeof o=="string"?o.replace(" ","T"):o,S0=o=>{let s=o;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")+"/api/broadcast"};class Yu{constructor(s,l,r={},u=tc){this.channel=s,this.event=l,this.payload=r,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,l){var r;return this._hasReceived(s)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:s,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:l}){this.recHooks.filter(r=>r.status===s).forEach(r=>r.callback(l))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var Lm;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(Lm||(Lm={}));class Kl{constructor(s,l){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},u=>{const{onJoin:f,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kl.syncState(this.state,u,f,h),this.pendingDiffs.forEach(v=>{this.state=Kl.syncDiff(this.state,v,f,h)}),this.pendingDiffs=[],p()}),this.channel._on(r.diff,{},u=>{const{onJoin:f,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Kl.syncDiff(this.state,u,f,h),p())}),this.onJoin((u,f,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:f,newPresences:h})}),this.onLeave((u,f,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,l,r,u){const f=this.cloneDeep(s),h=this.transformState(l),p={},v={};return this.map(f,(m,y)=>{h[m]||(v[m]=y)}),this.map(h,(m,y)=>{const x=f[m];if(x){const w=y.map(C=>C.presence_ref),O=x.map(C=>C.presence_ref),q=y.filter(C=>O.indexOf(C.presence_ref)<0),z=x.filter(C=>w.indexOf(C.presence_ref)<0);q.length>0&&(p[m]=q),z.length>0&&(v[m]=z)}else p[m]=y}),this.syncDiff(f,{joins:p,leaves:v},r,u)}static syncDiff(s,l,r,u){const{joins:f,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),u||(u=()=>{}),this.map(f,(p,v)=>{var m;const y=(m=s[p])!==null&&m!==void 0?m:[];if(s[p]=this.cloneDeep(v),y.length>0){const x=s[p].map(O=>O.presence_ref),w=y.filter(O=>x.indexOf(O.presence_ref)<0);s[p].unshift(...w)}r(p,y,v)}),this.map(h,(p,v)=>{let m=s[p];if(!m)return;const y=v.map(x=>x.presence_ref);m=m.filter(x=>y.indexOf(x.presence_ref)<0),s[p]=m,u(p,m,v),m.length===0&&delete s[p]}),s}static map(s,l){return Object.getOwnPropertyNames(s).map(r=>l(r,s[r]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((l,r)=>{const u=s[r];return"metas"in u?l[r]=u.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):l[r]=u,l},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zm;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(zm||(zm={}));var Ql;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(Ql||(Ql={}));var qa;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(qa||(qa={}));class _c{constructor(s,l={config:{}},r){this.topic=s,this.params=l,this.socket=r,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Yu(this,ra.join,this.params,this.timeout),this.rejoinTimer=new w0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ra.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Kl(this),this.broadcastEndpointURL=S0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(s,l=this.timeout){var r,u,f;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:h,presence:p,private:v}}=this.params,m=(u=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(O=>O.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Ql.PRESENCE]&&this.bindings[Ql.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,x={},w={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:m,private:v};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(O=>s==null?void 0:s(qa.CHANNEL_ERROR,O)),this._onClose(()=>s==null?void 0:s(qa.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:O})=>{var q;if(this.socket.setAuth(),O===void 0){s==null||s(qa.SUBSCRIBED);return}else{const z=this.bindings.postgres_changes,C=(q=z==null?void 0:z.length)!==null&&q!==void 0?q:0,V=[];for(let X=0;X<C;X++){const M=z[X],{filter:{event:K,schema:J,table:ae,filter:ie}}=M,pe=O&&O[X];if(pe&&pe.event===K&&pe.schema===J&&pe.table===ae&&pe.filter===ie)V.push(Object.assign(Object.assign({},M),{id:pe.id}));else{this.unsubscribe(),this.state=lt.errored,s==null||s(qa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,s&&s(qa.SUBSCRIBED);return}}).receive("error",O=>{this.state=lt.errored,s==null||s(qa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(qa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,l={}){return await this.send({type:"presence",event:"track",payload:s},l.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,l,r){return this.state===lt.joined&&s===Ql.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(s,l,r)}async send(s,l={}){var r,u;if(!this._canPush()&&s.type==="broadcast"){const{event:f,payload:h}=s,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((u=m.body)===null||u===void 0?void 0:u.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,p,v;const m=this._push(s.type,s,l.timeout||this.timeout);s.type==="broadcast"&&!(!((v=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||v===void 0)&&v.ack)&&f("ok"),m.receive("ok",()=>f("ok")),m.receive("error",()=>f("error")),m.receive("timeout",()=>f("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=lt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ra.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(u=>{r=new Yu(this,ra.leave,{},s),r.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(s,l,r){const u=new AbortController,f=setTimeout(()=>u.abort(),r),h=await this.socket.fetch(s,Object.assign(Object.assign({},l),{signal:u.signal}));return clearTimeout(f),h}_push(s,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Yu(this,s,l,r);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>Py){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(s,l,r){return l}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,l,r){var u,f;const h=s.toLocaleLowerCase(),{close:p,error:v,leave:m,join:y}=ra;if(r&&[p,v,m,y].indexOf(h)>=0&&r!==this._joinRef())return;let w=this._onMessage(h,l,r);if(l&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(O=>{var q,z,C;return((q=O.filter)===null||q===void 0?void 0:q.event)==="*"||((C=(z=O.filter)===null||z===void 0?void 0:z.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===h}).map(O=>O.callback(w,r)):(f=this.bindings[h])===null||f===void 0||f.filter(O=>{var q,z,C,V,X,M;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in O){const K=O.id,J=(q=O.filter)===null||q===void 0?void 0:q.event;return K&&((z=l.ids)===null||z===void 0?void 0:z.includes(K))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===((C=l.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const K=(X=(V=O==null?void 0:O.filter)===null||V===void 0?void 0:V.event)===null||X===void 0?void 0:X.toLocaleLowerCase();return K==="*"||K===((M=l==null?void 0:l.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===h}).map(O=>{if(typeof w=="object"&&"ids"in w){const q=w.data,{schema:z,table:C,commit_timestamp:V,type:X,errors:M}=q;w=Object.assign(Object.assign({},{schema:z,table:C,commit_timestamp:V,eventType:X,new:{},old:{},errors:M}),this._getPayloadRecords(q))}O.callback(w,r)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,l,r){const u=s.toLocaleLowerCase(),f={type:u,filter:l,callback:r};return this.bindings[u]?this.bindings[u].push(f):this.bindings[u]=[f],this}_off(s,l){const r=s.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(u=>{var f;return!(((f=u.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===r&&_c.isEqual(u.filter,l))})),this}static isEqual(s,l){if(Object.keys(s).length!==Object.keys(l).length)return!1;for(const r in s)if(s[r]!==l[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(ra.close,{},s)}_onError(s){this._on(ra.error,{},l=>s(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const l={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(l.new=qm(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(l.old=qm(s.columns,s.old_record)),l}}const Vu=()=>{},fi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ab=[1e3,2e3,5e3,1e4],nb=1e4,sb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lb{constructor(s,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tc,this.transport=null,this.heartbeatIntervalMs=fi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vu,this.ref=0,this.reconnectTimer=null,this.logger=Vu,this.conn=null,this.sendBuffer=[],this.serializer=new Zy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let f;return u?f=u:typeof fetch>"u"?f=(...h)=>Fl(async()=>{const{default:p}=await Promise.resolve().then(()=>Ys);return{default:p}},void 0).then(({default:p})=>p(...h)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):f=fetch,(...h)=>f(...h)},!(!((r=l==null?void 0:l.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${s}/${ac.websocket}`,this.httpEndpoint=S0(s),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yy.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const l=s.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ky}))}disconnect(s,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},s?this.conn.close(s,l??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const l=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const s=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,l,r){this.logger(s,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xl.connecting:return zn.Connecting;case Xl.open:return zn.Open;case Xl.closing:return zn.Closing;default:return zn.Closed}}isConnected(){return this.connectionState()===zn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,l={config:{}}){const r=`realtime:${s}`,u=this.getChannels().find(f=>f.topic===r);if(u)return u;{const f=new _c(`realtime:${s}`,l,this);return this.channels.push(f),f}}push(s){const{topic:l,event:r,payload:u,ref:f}=s,h=()=>{this.encode(s,p=>{var v;(v=this.conn)===null||v===void 0||v.send(p)})};this.log("push",`${l} ${r} (${f})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(Qy,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},fi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let l=this.channels.find(r=>r.topic===s&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${s}"`),l.unsubscribe())}_remove(s){this.channels=this.channels.filter(l=>l.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:u,payload:f,ref:h}=l,p=h?`(${h})`:"",v=f.status||"";this.log("receive",`${v} ${r} ${u} ${p}`.trim(),f),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(u,f,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(s){var l;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){var l;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(ra.error))}_appendParams(s,l){if(Object.keys(l).length===0)return s;const r=s.match(/\?/)?"&":"?",u=new URLSearchParams(l);return`${s}${r}${u}`}_workerObjectUrl(s){let l;if(s)l=s;else{const r=new Blob([sb],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(s,l=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(s=null){let l;s?l=s:this.accessToken?l=await this.accessToken():l=this.accessTokenValue,this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(r=>{const u={access_token:l,version:Xy};l&&r.updateJoinPayload(u),r.joinedOnce&&r._isJoined()&&r._push(ra.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this.setAuth().catch(l=>{this.log("error",`error setting auth in ${s}`,l)})}_triggerStateCallbacks(s,l){try{this.stateChangeCallbacks[s].forEach(r=>{try{r(l)}catch(u){this.log("error",`error in ${s} callback`,u)}})}catch(r){this.log("error",`error triggering ${s} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new w0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var l,r,u,f,h,p,v,m,y;if(this.transport=(l=s==null?void 0:s.transport)!==null&&l!==void 0?l:null,this.timeout=(r=s==null?void 0:s.timeout)!==null&&r!==void 0?r:tc,this.heartbeatIntervalMs=(u=s==null?void 0:s.heartbeatIntervalMs)!==null&&u!==void 0?u:fi.HEARTBEAT_INTERVAL,this.worker=(f=s==null?void 0:s.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=s==null?void 0:s.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=s==null?void 0:s.heartbeatCallback)!==null&&p!==void 0?p:Vu,s!=null&&s.params&&(this.params=s.params),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=s==null?void 0:s.reconnectAfterMs)!==null&&v!==void 0?v:(x=>ab[x-1]||nb),this.encode=(m=s==null?void 0:s.encode)!==null&&m!==void 0?m:((x,w)=>w(JSON.stringify(x))),this.decode=(y=s==null?void 0:s.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s==null?void 0:s.workerUrl}}}class Sc extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function rt(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class rb extends Sc{constructor(s,l,r){super(s),this.name="StorageApiError",this.status=l,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sc extends Sc{constructor(s,l){super(s),this.name="StorageUnknownError",this.originalError=l}}var ib=function(o,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(y){try{m(r.next(y))}catch(x){h(x)}}function v(y){try{m(r.throw(y))}catch(x){h(x)}}function m(y){y.done?f(y.value):u(y.value).then(p,v)}m((r=r.apply(o,s||[])).next())})};const j0=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...l)=>Fl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ys);return{default:r}},void 0).then(({default:r})=>r(...l)):s=fetch,(...l)=>s(...l)},ob=()=>ib(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fl(()=>Promise.resolve().then(()=>Ys),void 0)).Response:Response}),lc=o=>{if(Array.isArray(o))return o.map(l=>lc(l));if(typeof o=="function"||o!==Object(o))return o;const s={};return Object.entries(o).forEach(([l,r])=>{const u=l.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));s[u]=lc(r)}),s},ub=o=>{if(typeof o!="object"||o===null)return!1;const s=Object.getPrototypeOf(o);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var Bn=function(o,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(y){try{m(r.next(y))}catch(x){h(x)}}function v(y){try{m(r.throw(y))}catch(x){h(x)}}function m(y){y.done?f(y.value):u(y.value).then(p,v)}m((r=r.apply(o,s||[])).next())})};const Xu=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),cb=(o,s,l)=>Bn(void 0,void 0,void 0,function*(){const r=yield ob();o instanceof r&&!(l!=null&&l.noResolveJson)?o.json().then(u=>{const f=o.status||500,h=(u==null?void 0:u.statusCode)||f+"";s(new rb(Xu(u),f,h))}).catch(u=>{s(new sc(Xu(u),u))}):s(new sc(Xu(o),o))}),db=(o,s,l,r)=>{const u={method:o,headers:(s==null?void 0:s.headers)||{}};return o==="GET"||!r?u:(ub(r)?(u.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),u.body=JSON.stringify(r)):u.body=r,s!=null&&s.duplex&&(u.duplex=s.duplex),Object.assign(Object.assign({},u),l))};function Il(o,s,l,r,u,f){return Bn(this,void 0,void 0,function*(){return new Promise((h,p)=>{o(l,db(s,r,u,f)).then(v=>{if(!v.ok)throw v;return r!=null&&r.noResolveJson?v:v.json()}).then(v=>h(v)).catch(v=>cb(v,p,r))})})}function xi(o,s,l,r){return Bn(this,void 0,void 0,function*(){return Il(o,"GET",s,l,r)})}function va(o,s,l,r,u){return Bn(this,void 0,void 0,function*(){return Il(o,"POST",s,r,u,l)})}function rc(o,s,l,r,u){return Bn(this,void 0,void 0,function*(){return Il(o,"PUT",s,r,u,l)})}function fb(o,s,l,r){return Bn(this,void 0,void 0,function*(){return Il(o,"HEAD",s,Object.assign(Object.assign({},l),{noResolveJson:!0}),r)})}function E0(o,s,l,r,u){return Bn(this,void 0,void 0,function*(){return Il(o,"DELETE",s,r,u,l)})}var Ot=function(o,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(y){try{m(r.next(y))}catch(x){h(x)}}function v(y){try{m(r.throw(y))}catch(x){h(x)}}function m(y){y.done?f(y.value):u(y.value).then(p,v)}m((r=r.apply(o,s||[])).next())})};const hb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mb{constructor(s,l={},r,u){this.shouldThrowOnError=!1,this.url=s,this.headers=l,this.bucketId=r,this.fetch=j0(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(s,l,r,u){return Ot(this,void 0,void 0,function*(){try{let f;const h=Object.assign(Object.assign({},Bm),u);let p=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const v=h.metadata;typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),v&&f.append("metadata",this.encodeMetadata(v)),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl),v&&f.append("metadata",this.encodeMetadata(v))):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,v&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),u!=null&&u.headers&&(p=Object.assign(Object.assign({},p),u.headers));const m=this._removeEmptyFolders(l),y=this._getFinalPath(m),x=yield(s=="PUT"?rc:va)(this.fetch,`${this.url}/object/${y}`,f,Object.assign({headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(rt(f))return{data:null,error:f};throw f}})}upload(s,l,r){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,l,r)})}uploadToSignedUrl(s,l,r,u){return Ot(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(s),h=this._getFinalPath(f),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",l);try{let v;const m=Object.assign({upsert:Bm.upsert},u),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(v=new FormData,v.append("cacheControl",m.cacheControl),v.append("",r)):typeof FormData<"u"&&r instanceof FormData?(v=r,v.append("cacheControl",m.cacheControl)):(v=r,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const x=yield rc(this.fetch,p.toString(),v,{headers:y});return{data:{path:f,fullPath:x.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(rt(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(s,l){return Ot(this,void 0,void 0,function*(){try{let r=this._getFinalPath(s);const u=Object.assign({},this.headers);l!=null&&l.upsert&&(u["x-upsert"]="true");const f=yield va(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:u}),h=new URL(this.url+f.url),p=h.searchParams.get("token");if(!p)throw new Sc("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:p},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}update(s,l,r){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,l,r)})}move(s,l,r){return Ot(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:l,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(rt(u))return{data:null,error:u};throw u}})}copy(s,l,r){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield va(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:l,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(rt(u))return{data:null,error:u};throw u}})}createSignedUrl(s,l,r){return Ot(this,void 0,void 0,function*(){try{let u=this._getFinalPath(s),f=yield va(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:l},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const h=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${h}`)},{data:f,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(rt(u))return{data:null,error:u};throw u}})}createSignedUrls(s,l,r){return Ot(this,void 0,void 0,function*(){try{const u=yield va(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:s},{headers:this.headers}),f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${f}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(rt(u))return{data:null,error:u};throw u}})}download(s,l){return Ot(this,void 0,void 0,function*(){const u=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),h=f?`?${f}`:"";try{const p=this._getFinalPath(s);return{data:yield(yield xi(this.fetch,`${this.url}/${u}/${p}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(rt(p))return{data:null,error:p};throw p}})}info(s){return Ot(this,void 0,void 0,function*(){const l=this._getFinalPath(s);try{const r=yield xi(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:lc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}exists(s){return Ot(this,void 0,void 0,function*(){const l=this._getFinalPath(s);try{return yield fb(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r)&&r instanceof sc){const u=r.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:r}}throw r}})}getPublicUrl(s,l){const r=this._getFinalPath(s),u=[],f=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";f!==""&&u.push(f);const p=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});v!==""&&u.push(v);let m=u.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${r}${m}`)}}}remove(s){return Ot(this,void 0,void 0,function*(){try{return{data:yield E0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rt(l))return{data:null,error:l};throw l}})}list(s,l,r){return Ot(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},hb),l),{prefix:s||""});return{data:yield va(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},r),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(rt(u))return{data:null,error:u};throw u}})}listV2(s,l){return Ot(this,void 0,void 0,function*(){try{const r=Object.assign({},s);return{data:yield va(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},l),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const l=[];return s.width&&l.push(`width=${s.width}`),s.height&&l.push(`height=${s.height}`),s.resize&&l.push(`resize=${s.resize}`),s.format&&l.push(`format=${s.format}`),s.quality&&l.push(`quality=${s.quality}`),l.join("&")}}const gb="2.12.1",pb={"X-Client-Info":`storage-js/${gb}`};var ks=function(o,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(y){try{m(r.next(y))}catch(x){h(x)}}function v(y){try{m(r.throw(y))}catch(x){h(x)}}function m(y){y.done?f(y.value):u(y.value).then(p,v)}m((r=r.apply(o,s||[])).next())})};class vb{constructor(s,l={},r,u){this.shouldThrowOnError=!1;const f=new URL(s);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(f.hostname)&&!f.hostname.includes("storage.supabase.")&&(f.hostname=f.hostname.replace("supabase.","storage.supabase.")),this.url=f.href,this.headers=Object.assign(Object.assign({},pb),l),this.fetch=j0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ks(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}getBucket(s){return ks(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rt(l))return{data:null,error:l};throw l}})}createBucket(s,l={public:!1}){return ks(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}updateBucket(s,l){return ks(this,void 0,void 0,function*(){try{return{data:yield rc(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}emptyBucket(s){return ks(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rt(l))return{data:null,error:l};throw l}})}deleteBucket(s){return ks(this,void 0,void 0,function*(){try{return{data:yield E0(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rt(l))return{data:null,error:l};throw l}})}}class yb extends vb{constructor(s,l={},r,u){super(s,l,r,u)}from(s){return new mb(this.url,this.headers,s,this.fetch)}}const bb="2.57.4";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const xb={"X-Client-Info":`supabase-js-${Vl}/${bb}`},wb={headers:xb},_b={schema:"public"},Sb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jb={};var Eb=function(o,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(y){try{m(r.next(y))}catch(x){h(x)}}function v(y){try{m(r.throw(y))}catch(x){h(x)}}function m(y){y.done?f(y.value):u(y.value).then(p,v)}m((r=r.apply(o,s||[])).next())})};const Nb=o=>{let s;return o?s=o:typeof fetch>"u"?s=g0:s=fetch,(...l)=>s(...l)},Tb=()=>typeof Headers>"u"?p0:Headers,Rb=(o,s,l)=>{const r=Nb(l),u=Tb();return(f,h)=>Eb(void 0,void 0,void 0,function*(){var p;const v=(p=yield s())!==null&&p!==void 0?p:o;let m=new u(h==null?void 0:h.headers);return m.has("apikey")||m.set("apikey",o),m.has("Authorization")||m.set("Authorization",`Bearer ${v}`),r(f,Object.assign(Object.assign({},h),{headers:m}))})};var Ab=function(o,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(y){try{m(r.next(y))}catch(x){h(x)}}function v(y){try{m(r.throw(y))}catch(x){h(x)}}function m(y){y.done?f(y.value):u(y.value).then(p,v)}m((r=r.apply(o,s||[])).next())})};function Ob(o){return o.endsWith("/")?o:o+"/"}function kb(o,s){var l,r;const{db:u,auth:f,realtime:h,global:p}=o,{db:v,auth:m,realtime:y,global:x}=s,w={db:Object.assign(Object.assign({},v),u),auth:Object.assign(Object.assign({},m),f),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},x),p),{headers:Object.assign(Object.assign({},(l=x==null?void 0:x.headers)!==null&&l!==void 0?l:{}),(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Ab(this,void 0,void 0,function*(){return""})};return o.accessToken?w.accessToken=o.accessToken:delete w.accessToken,w}function Cb(o){const s=o==null?void 0:o.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ob(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const N0="2.71.1",qs=30*1e3,ic=3,Ku=ic*qs,Db="http://localhost:9999",Ub="supabase.auth.token",Mb={"X-Client-Info":`gotrue-js/${N0}`},oc="X-Supabase-Api-Version",T0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lb=600*1e3;class jc extends Error{constructor(s,l,r){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function ue(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class zb extends jc{constructor(s,l,r){super(s,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function Bb(o){return ue(o)&&o.name==="AuthApiError"}class R0 extends jc{constructor(s,l){super(s),this.name="AuthUnknownError",this.originalError=l}}class gn extends jc{constructor(s,l,r,u){super(s,r,u),this.name=l,this.status=r}}class hn extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hb(o){return ue(o)&&o.name==="AuthSessionMissingError"}class hi extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mi extends gn{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class gi extends gn{constructor(s,l=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $b(o){return ue(o)&&o.name==="AuthImplicitGrantRedirectError"}class Hm extends gn{constructor(s,l=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uc extends gn{constructor(s,l){super(s,"AuthRetryableFetchError",l,void 0)}}function Qu(o){return ue(o)&&o.name==="AuthRetryableFetchError"}class $m extends gn{constructor(s,l,r){super(s,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class cc extends gn{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gm=` 	
\r=`.split(""),Gb=(()=>{const o=new Array(128);for(let s=0;s<o.length;s+=1)o[s]=-1;for(let s=0;s<Gm.length;s+=1)o[Gm[s].charCodeAt(0)]=-2;for(let s=0;s<wi.length;s+=1)o[wi[s].charCodeAt(0)]=s;return o})();function Ym(o,s,l){if(o!==null)for(s.queue=s.queue<<8|o,s.queuedBits+=8;s.queuedBits>=6;){const r=s.queue>>s.queuedBits-6&63;l(wi[r]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const r=s.queue>>s.queuedBits-6&63;l(wi[r]),s.queuedBits-=6}}function A0(o,s,l){const r=Gb[o];if(r>-1)for(s.queue=s.queue<<6|r,s.queuedBits+=6;s.queuedBits>=8;)l(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function Vm(o){const s=[],l=h=>{s.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},f=h=>{Xb(h,r,l)};for(let h=0;h<o.length;h+=1)A0(o.charCodeAt(h),u,f);return s.join("")}function Yb(o,s){if(o<=127){s(o);return}else if(o<=2047){s(192|o>>6),s(128|o&63);return}else if(o<=65535){s(224|o>>12),s(128|o>>6&63),s(128|o&63);return}else if(o<=1114111){s(240|o>>18),s(128|o>>12&63),s(128|o>>6&63),s(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Vb(o,s){for(let l=0;l<o.length;l+=1){let r=o.charCodeAt(l);if(r>55295&&r<=56319){const u=(r-55296)*1024&65535;r=(o.charCodeAt(l+1)-56320&65535|u)+65536,l+=1}Yb(r,s)}}function Xb(o,s,l){if(s.utf8seq===0){if(o<=127){l(o);return}for(let r=1;r<6;r+=1)if((o>>7-r&1)===0){s.utf8seq=r;break}if(s.utf8seq===2)s.codepoint=o&31;else if(s.utf8seq===3)s.codepoint=o&15;else if(s.utf8seq===4)s.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|o&63,s.utf8seq-=1,s.utf8seq===0&&l(s.codepoint)}}function Kb(o){const s=[],l={queue:0,queuedBits:0},r=u=>{s.push(u)};for(let u=0;u<o.length;u+=1)A0(o.charCodeAt(u),l,r);return new Uint8Array(s)}function Qb(o){const s=[];return Vb(o,l=>s.push(l)),new Uint8Array(s)}function Pb(o){const s=[],l={queue:0,queuedBits:0},r=u=>{s.push(u)};return o.forEach(u=>Ym(u,l,r)),Ym(null,l,r),s.join("")}function Zb(o){return Math.round(Date.now()/1e3)+o}function Jb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const s=Math.random()*16|0;return(o=="x"?s:s&3|8).toString(16)})}const la=()=>typeof window<"u"&&typeof document<"u",Mn={tested:!1,writable:!1},O0=()=>{if(!la())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mn.tested)return Mn.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Mn.tested=!0,Mn.writable=!0}catch{Mn.tested=!0,Mn.writable=!1}return Mn.writable};function Wb(o){const s={},l=new URL(o);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((u,f)=>{s[f]=u})}catch{}return l.searchParams.forEach((r,u)=>{s[u]=r}),s}const k0=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...l)=>Fl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ys);return{default:r}},void 0).then(({default:r})=>r(...l)):s=fetch,(...l)=>s(...l)},Fb=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Ls=async(o,s,l)=>{await o.setItem(s,JSON.stringify(l))},qn=async(o,s)=>{const l=await o.getItem(s);if(!l)return null;try{return JSON.parse(l)}catch{return l}},dn=async(o,s)=>{await o.removeItem(s)};class ji{constructor(){this.promise=new ji.promiseConstructor((s,l)=>{this.resolve=s,this.reject=l})}}ji.promiseConstructor=Promise;function Pu(o){const s=o.split(".");if(s.length!==3)throw new cc("Invalid JWT structure");for(let r=0;r<s.length;r++)if(!qb.test(s[r]))throw new cc("JWT not in base64url format");return{header:JSON.parse(Vm(s[0])),payload:JSON.parse(Vm(s[1])),signature:Kb(s[2]),raw:{header:s[0],payload:s[1]}}}async function Ib(o){return await new Promise(s=>{setTimeout(()=>s(null),o)})}function ex(o,s){return new Promise((r,u)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await o(f);if(!s(f,null,h)){r(h);return}}catch(h){if(!s(f,h)){u(h);return}}})()})}function tx(o){return("0"+o.toString(16)).substr(-2)}function ax(){const s=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let u="";for(let f=0;f<56;f++)u+=l.charAt(Math.floor(Math.random()*r));return u}return crypto.getRandomValues(s),Array.from(s,tx).join("")}async function nx(o){const l=new TextEncoder().encode(o),r=await crypto.subtle.digest("SHA-256",l),u=new Uint8Array(r);return Array.from(u).map(f=>String.fromCharCode(f)).join("")}async function sx(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const l=await nx(o);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cs(o,s,l=!1){const r=ax();let u=r;l&&(u+="/PASSWORD_RECOVERY"),await Ls(o,`${s}-code-verifier`,u);const f=await sx(r);return[f,r===f?"plain":"s256"]}const lx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rx(o){const s=o.headers.get(oc);if(!s||!s.match(lx))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function ix(o){if(!o)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(o<=s)throw new Error("JWT has expired")}function ox(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ux=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(o){if(!ux.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zu(){const o={};return new Proxy(o,{get:(s,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xm(o){return JSON.parse(JSON.stringify(o))}var cx=function(o,s){var l={};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&s.indexOf(r)<0&&(l[r]=o[r]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(o);u<r.length;u++)s.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(o,r[u])&&(l[r[u]]=o[r[u]]);return l};const Ln=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),dx=[502,503,504];async function Km(o){var s;if(!Fb(o))throw new uc(Ln(o),0);if(dx.includes(o.status))throw new uc(Ln(o),o.status);let l;try{l=await o.json()}catch(f){throw new R0(Ln(f),f)}let r;const u=rx(o);if(u&&u.getTime()>=T0["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new $m(Ln(l),o.status,((s=l.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(r==="session_not_found")throw new hn}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new $m(Ln(l),o.status,l.weak_password.reasons);throw new zb(Ln(l),o.status||500,r)}const fx=(o,s,l,r)=>{const u={method:o,headers:(s==null?void 0:s.headers)||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),u.body=JSON.stringify(r),Object.assign(Object.assign({},u),l))};async function we(o,s,l,r){var u;const f=Object.assign({},r==null?void 0:r.headers);f[oc]||(f[oc]=T0["2024-01-01"].name),r!=null&&r.jwt&&(f.Authorization=`Bearer ${r.jwt}`);const h=(u=r==null?void 0:r.query)!==null&&u!==void 0?u:{};r!=null&&r.redirectTo&&(h.redirect_to=r.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",v=await hx(o,s,l+p,{headers:f,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(v):{data:Object.assign({},v),error:null}}async function hx(o,s,l,r,u,f){const h=fx(s,r,u,f);let p;try{p=await o(l,Object.assign({},h))}catch(v){throw console.error(v),new uc(Ln(v),0)}if(p.ok||await Km(p),r!=null&&r.noResolveJson)return p;try{return await p.json()}catch(v){await Km(v)}}function Ma(o){var s;let l=null;vx(o)&&(l=Object.assign({},o),o.expires_at||(l.expires_at=Zb(o.expires_in)));const r=(s=o.user)!==null&&s!==void 0?s:o;return{data:{session:l,user:r},error:null}}function Qm(o){const s=Ma(o);return!s.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(s.data.weak_password=o.weak_password),s}function mn(o){var s;return{data:{user:(s=o.user)!==null&&s!==void 0?s:o},error:null}}function mx(o){return{data:o,error:null}}function gx(o){const{action_link:s,email_otp:l,hashed_token:r,redirect_to:u,verification_type:f}=o,h=cx(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:s,email_otp:l,hashed_token:r,redirect_to:u,verification_type:f},v=Object.assign({},h);return{data:{properties:p,user:v},error:null}}function px(o){return o}function vx(o){return o.access_token&&o.refresh_token&&o.expires_in}const Ju=["global","local","others"];var yx=function(o,s){var l={};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&s.indexOf(r)<0&&(l[r]=o[r]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(o);u<r.length;u++)s.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(o,r[u])&&(l[r[u]]=o[r[u]]);return l};class bx{constructor({url:s="",headers:l={},fetch:r}){this.url=s,this.headers=l,this.fetch=k0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,l=Ju[0]){if(Ju.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(s,l={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:mn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(s){try{const{options:l}=s,r=yx(s,["options"]),u=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(u.new_email=r==null?void 0:r.newEmail,delete u.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:gx,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(ue(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(s){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:mn})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async listUsers(s){var l,r,u,f,h,p,v;try{const m={nextPage:null,lastPage:0,total:0},y=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=s==null?void 0:s.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(f=(u=s==null?void 0:s.perPage)===null||u===void 0?void 0:u.toString())!==null&&f!==void 0?f:""},xform:px});if(y.error)throw y.error;const x=await y.json(),w=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,O=(v=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return O.length>0&&(O.forEach(q=>{const z=parseInt(q.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(q.split(";")[1].split("=")[1]);m[`${C}Page`]=z}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(s){Ds(s);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:mn})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async updateUserById(s,l){Ds(s);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:l,headers:this.headers,xform:mn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(s,l=!1){Ds(s);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:l},xform:mn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(s){Ds(s.userId);try{const{data:l,error:r}=await we(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:l,error:r}}catch(l){if(ue(l))return{data:null,error:l};throw l}}async _deleteFactor(s){Ds(s.userId),Ds(s.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(l){if(ue(l))return{data:null,error:l};throw l}}}function Pm(o={}){return{getItem:s=>o[s]||null,setItem:(s,l)=>{o[s]=l},removeItem:s=>{delete o[s]}}}function xx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Us={debug:!!(globalThis&&O0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class C0 extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class wx extends C0{}async function _x(o,s,l){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,s);const r=new globalThis.AbortController;return s>0&&setTimeout(()=>{r.abort(),Us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async u=>{if(u){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,u.name);try{return await l()}finally{Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,u.name)}}else{if(s===0)throw Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new wx(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Us.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}xx();const Sx={url:Db,storageKey:Ub,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zm(o,s,l){return await l()}const Ms={};class Zl{constructor(s){var l,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zl.nextInstanceID,Zl.nextInstanceID+=1,this.instanceID>0&&la()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Sx),s);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new bx({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=k0(u.fetch),this.lock=u.lock||Zm,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:la()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=_x:this.lock=Zm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:O0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pm(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Pm(this.memoryStorage)),la()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}get jwks(){var s,l;return(l=(s=Ms[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(s){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,l;return(l=(s=Ms[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:s})}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${N0}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const l=Wb(window.location.href);let r="none";if(this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce"),la()&&this.detectSessionInUrl&&r!=="none"){const{data:u,error:f}=await this._getSessionFromURL(l,r);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),$b(f)){const v=(s=f.details)===null||s===void 0?void 0:s.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:h,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return ue(l)?{error:l}:{error:new R0("Unexpected error during initialization",l)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var l,r,u;try{const f=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=s==null?void 0:s.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(u=s==null?void 0:s.options)===null||u===void 0?void 0:u.captchaToken}},xform:Ma}),{data:h,error:p}=f;if(p||!h)return{data:{user:null,session:null},error:p};const v=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:m,session:v},error:null}}catch(f){if(ue(f))return{data:{user:null,session:null},error:f};throw f}}async signUp(s){var l,r,u;try{let f;if("email"in s){const{email:y,password:x,options:w}=s;let O=null,q=null;this.flowType==="pkce"&&([O,q]=await Cs(this.storage,this.storageKey)),f=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:x,data:(l=w==null?void 0:w.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:O,code_challenge_method:q},xform:Ma})}else if("phone"in s){const{phone:y,password:x,options:w}=s;f=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(u=w==null?void 0:w.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Ma})}else throw new mi("You must provide either an email or phone number and a password");const{data:h,error:p}=f;if(p||!h)return{data:{user:null,session:null},error:p};const v=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:m,session:v},error:null}}catch(f){if(ue(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(s){try{let l;if("email"in s){const{email:f,password:h,options:p}=s;l=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Qm})}else if("phone"in s){const{phone:f,password:h,options:p}=s;l=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Qm})}else throw new mi("You must provide either an email or phone number and a password");const{data:r,error:u}=l;return u?{data:{user:null,session:null},error:u}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new hi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:u})}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOAuth(s){var l,r,u,f;return await this._handleProviderSignIn(s.provider,{redirectTo:(l=s.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=s.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=s.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(f=s.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:l}=s;if(l==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}async signInWithSolana(s){var l,r,u,f,h,p,v,m,y,x,w,O;let q,z;if("message"in s)q=s.message,z=s.signature;else{const{chain:C,wallet:V,statement:X,options:M}=s;let K;if(la())if(typeof V=="object")K=V;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))K=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=V}const J=new URL((l=M==null?void 0:M.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in K&&K.signIn){const ae=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),X?{statement:X}:null));let ie;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")ie=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)ie=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ie&&"signature"in ie&&(typeof ie.signedMessage=="string"||ie.signedMessage instanceof Uint8Array)&&ie.signature instanceof Uint8Array)q=typeof ie.signedMessage=="string"?ie.signedMessage:new TextDecoder().decode(ie.signedMessage),z=ie.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");q=[`${J.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...X?["",X,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(u=(r=M==null?void 0:M.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((f=M==null?void 0:M.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((v=M==null?void 0:M.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((x=(y=M==null?void 0:M.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...M.signInWithSolana.resources.map(ie=>`- ${ie}`)]:[]].join(`
`);const ae=await K.signMessage(new TextEncoder().encode(q),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=ae}}try{const{data:C,error:V}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:q,signature:Pb(z)},!((w=s.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(O=s.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Ma});if(V)throw V;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new hi}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:V})}catch(C){if(ue(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(s){const l=await qn(this.storage,`${this.storageKey}-code-verifier`),[r,u]=(l??"").split("/");try{const{data:f,error:h}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:r},xform:Ma});if(await dn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!f||!f.session||!f.user?{data:{user:null,session:null,redirectType:null},error:new hi}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:Object.assign(Object.assign({},f),{redirectType:u??null}),error:h})}catch(f){if(ue(f))return{data:{user:null,session:null,redirectType:null},error:f};throw f}}async signInWithIdToken(s){try{const{options:l,provider:r,token:u,access_token:f,nonce:h}=s,p=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:u,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ma}),{data:v,error:m}=p;return m?{data:{user:null,session:null},error:m}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new hi}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:m})}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOtp(s){var l,r,u,f,h;try{if("email"in s){const{email:p,options:v}=s;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Cs(this.storage,this.storageKey));const{error:x}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(l=v==null?void 0:v.data)!==null&&l!==void 0?l:{},create_user:(r=v==null?void 0:v.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in s){const{phone:p,options:v}=s,{data:m,error:y}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=v==null?void 0:v.data)!==null&&u!==void 0?u:{},create_user:(f=v==null?void 0:v.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(h=v==null?void 0:v.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new mi("You must provide either an email or phone number.")}catch(p){if(ue(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(s){var l,r;try{let u,f;"options"in s&&(u=(l=s.options)===null||l===void 0?void 0:l.redirectTo,f=(r=s.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:p}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:f}}),redirectTo:u,xform:Ma});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const v=h.session,m=h.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:m,session:v},error:null}}catch(u){if(ue(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(s){var l,r,u;try{let f=null,h=null;return this.flowType==="pkce"&&([f,h]=await Cs(this.storage,this.storageKey)),await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(r=(l=s.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((u=s==null?void 0:s.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:mx})}catch(f){if(ue(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:l},error:r}=s;if(r)throw r;if(!l)throw new hn;const{error:u}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return{data:{user:null,session:null},error:u}})}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const l=`${this.url}/resend`;if("email"in s){const{email:r,type:u,options:f}=s,{error:h}=await we(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in s){const{phone:r,type:u,options:f}=s,{data:h,error:p}=await we(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new mi("You must provide either an email or phone number and a type")}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(s,l){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await s(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const l=await qn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?s=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const r=s.expires_at?s.expires_at*1e3-Date.now()<Ku:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",s.expires_at),!r){if(this.userStorage){const h=await qn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?s.user=h.user:s.user=Zu()}if(this.storage.isServer&&s.user){let h=this.suppressGetSessionWarning;s=new Proxy(s,{get:(v,m,y)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,m,y))})}return{data:{session:s},error:null}}const{session:u,error:f}=await this._callRefreshToken(s.refresh_token);return f?{data:{session:null},error:f}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:mn}):await this._useSession(async l=>{var r,u,f;const{data:h,error:p}=l;if(p)throw p;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hn}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0,xform:mn})})}catch(l){if(ue(l))return Hb(l)&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:l};throw l}}async updateUser(s,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,l))}async _updateUser(s,l={}){try{return await this._useSession(async r=>{const{data:u,error:f}=r;if(f)throw f;if(!u.session)throw new hn;const h=u.session;let p=null,v=null;this.flowType==="pkce"&&s.email!=null&&([p,v]=await Cs(this.storage,this.storageKey));const{data:m,error:y}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:p,code_challenge_method:v}),jwt:h.access_token,xform:mn});if(y)throw y;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new hn;const l=Date.now()/1e3;let r=l,u=!0,f=null;const{payload:h}=Pu(s.access_token);if(h.exp&&(r=h.exp,u=r<=l),u){const{session:p,error:v}=await this._callRefreshToken(s.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!p)return{data:{user:null,session:null},error:null};f=p}else{const{data:p,error:v}=await this._getUser(s.access_token);if(v)throw v;f={access_token:s.access_token,refresh_token:s.refresh_token,user:p.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(l){if(ue(l))return{data:{session:null,user:null},error:l};throw l}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async l=>{var r;if(!s){const{data:h,error:p}=l;if(p)throw p;s=(r=h.session)!==null&&r!==void 0?r:void 0}if(!(s!=null&&s.refresh_token))throw new hn;const{session:u,error:f}=await this._callRefreshToken(s.refresh_token);return f?{data:{user:null,session:null},error:f}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async _getSessionFromURL(s,l){try{if(!la())throw new gi("No browser detected.");if(s.error||s.error_description||s.error_code)throw new gi(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Hm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gi("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new Hm("No code detected.");const{data:X,error:M}=await this._exchangeCodeForSession(s.code);if(M)throw M;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:X.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:u,access_token:f,refresh_token:h,expires_in:p,expires_at:v,token_type:m}=s;if(!f||!p||!h||!m)throw new gi("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(p);let w=y+x;v&&(w=parseInt(v));const O=w-y;O*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${x}s`);const q=w-x;y-q>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",q,w,y):y-q<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",q,w,y);const{data:z,error:C}=await this._getUser(f);if(C)throw C;const V={provider_token:r,provider_refresh_token:u,access_token:f,expires_in:x,expires_at:w,refresh_token:h,token_type:m,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:s.type},error:null}}catch(r){if(ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const l=await qn(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&l)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:u,error:f}=l;if(f)return{error:f};const h=(r=u.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:p}=await this.admin.signOut(h,s);if(p&&!(Bb(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return s!=="others"&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const l=Jb(),r={id:l,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(s){return await this._useSession(async l=>{var r,u;try{const{data:{session:f},error:h}=l;if(h)throw h;await((r=this.stateChangeEmitters.get(s))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",s,"session",f)}catch(f){await((u=this.stateChangeEmitters.get(s))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",f),console.error(f)}})}async resetPasswordForEmail(s,l={}){let r=null,u=null;this.flowType==="pkce"&&([r,u]=await Cs(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:r,code_challenge_method:u,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(f){if(ue(f))return{data:null,error:f};throw f}}async getUserIdentities(){var s;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(s=l.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(l){if(ue(l))return{data:null,error:l};throw l}}async linkIdentity(s){var l;try{const{data:r,error:u}=await this._useSession(async f=>{var h,p,v,m,y;const{data:x,error:w}=f;if(w)throw w;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(h=s.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=s.options)===null||p===void 0?void 0:p.scopes,queryParams:(v=s.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",O,{headers:this.headers,jwt:(y=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return la()&&!(!((l=s.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:s.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ue(r))return{data:{provider:s.provider,url:null},error:r};throw r}}async unlinkIdentity(s){try{return await this._useSession(async l=>{var r,u;const{data:f,error:h}=l;if(h)throw h;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(u=(r=f.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0})})}catch(l){if(ue(l))return{data:null,error:l};throw l}}async _refreshAccessToken(s){const l=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await ex(async u=>(u>0&&await Ib(200*Math.pow(2,u-1)),this._debug(l,"refreshing attempt",u),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Ma})),(u,f)=>{const h=200*Math.pow(2,u);return f&&Qu(f)&&Date.now()+h-r<qs})}catch(r){if(this._debug(l,"error",r),ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(l,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",l,"url",r),la()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:s,url:r},error:null}}async _recoverAndRefresh(){var s,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const u=await qn(this.storage,this.storageKey);if(u&&this.userStorage){let h=await qn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Ls(this.userStorage,this.storageKey+"-user",h)),u.user=(s=h==null?void 0:h.user)!==null&&s!==void 0?s:Zu()}else if(u&&!u.user&&!u.user){const h=await qn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(u.user=h.user,await dn(this.storage,this.storageKey+"-user"),await Ls(this.storage,this.storageKey,u)):u.user=Zu()}if(this._debug(r,"session from storage",u),!this._isValidSession(u)){this._debug(r,"session is not valid"),u!==null&&await this._removeSession();return}const f=((l=u.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Ku;if(this._debug(r,`session has${f?"":" not"} expired with margin of ${Ku}s`),f){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Qu(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(u.access_token);!p&&(h!=null&&h.user)?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(r,"error",u),console.error(u);return}finally{this._debug(r,"end")}}async _callRefreshToken(s){var l,r;if(!s)throw new hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new ji;const{data:f,error:h}=await this._refreshAccessToken(s);if(h)throw h;if(!f.session)throw new hn;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const p={session:f.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(f){if(this._debug(u,"error",f),ue(f)){const h={session:null,error:f};return Qu(f)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(f),f}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(s,l,r=!0){const u=`#_notifyAllSubscribers(${s})`;this._debug(u,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:s,session:l});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(s,l)}catch(v){f.push(v)}});if(await Promise.all(h),f.length>0){for(let p=0;p<f.length;p+=1)console.error(f[p]);throw f[0]}}finally{this._debug(u,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const l=Object.assign({},s),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await Ls(this.userStorage,this.storageKey+"-user",{user:l.user});const u=Object.assign({},l);delete u.user;const f=Xm(u);await Ls(this.storage,this.storageKey,f)}else{const u=Xm(l);await Ls(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await dn(this.storage,this.storageKey),await dn(this.storage,this.storageKey+"-code-verifier"),await dn(this.storage,this.storageKey+"-user"),this.userStorage&&await dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&la()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((r.expires_at*1e3-s)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${qs}ms, refresh threshold is ${ic} ticks`),u<=ic&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof C0)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!la()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const l=`#_onVisibilityChanged(${s})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,l,r){const u=[`provider=${encodeURIComponent(l)}`];if(r!=null&&r.redirectTo&&u.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&u.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[f,h]=await Cs(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(p.toString())}if(r!=null&&r.queryParams){const f=new URLSearchParams(r.queryParams);u.push(f.toString())}return r!=null&&r.skipBrowserRedirect&&u.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${s}?${u.join("&")}`}async _unenroll(s){try{return await this._useSession(async l=>{var r;const{data:u,error:f}=l;return f?{data:null,error:f}:await we(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(ue(l))return{data:null,error:l};throw l}}async _enroll(s){try{return await this._useSession(async l=>{var r,u;const{data:f,error:h}=l;if(h)return{data:null,error:h};const p=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:v,error:m}=await we(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(r=f==null?void 0:f.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(s.factorType==="totp"&&(!((u=v==null?void 0:v.totp)===null||u===void 0)&&u.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(l){if(ue(l))return{data:null,error:l};throw l}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:u,error:f}=l;if(f)return{data:null,error:f};const{data:h,error:p}=await we(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(l){if(ue(l))return{data:null,error:l};throw l}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:u,error:f}=l;return f?{data:null,error:f}:await we(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(ue(l))return{data:null,error:l};throw l}})}async _challengeAndVerify(s){const{data:l,error:r}=await this._challenge({factorId:s.factorId});return r?{data:null,error:r}:await this._verify({factorId:s.factorId,challengeId:l.id,code:s.code})}async _listFactors(){const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const r=(s==null?void 0:s.factors)||[],u=r.filter(h=>h.factor_type==="totp"&&h.status==="verified"),f=r.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:r,totp:u,phone:f},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var l,r;const{data:{session:u},error:f}=s;if(f)return{data:null,error:f};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Pu(u.access_token);let p=null;h.aal&&(p=h.aal);let v=p;((r=(l=u.user.factors)===null||l===void 0?void 0:l.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const y=h.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(s,l={keys:[]}){let r=l.keys.find(p=>p.kid===s);if(r)return r;const u=Date.now();if(r=this.jwks.keys.find(p=>p.kid===s),r&&this.jwks_cached_at+Lb>u)return r;const{data:f,error:h}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=u,r=f.keys.find(p=>p.kid===s),!r)?null:r}async getClaims(s,l={}){try{let r=s;if(!r){const{data:O,error:q}=await this.getSession();if(q||!O.session)return{data:null,error:q};r=O.session.access_token}const{header:u,payload:f,signature:h,raw:{header:p,payload:v}}=Pu(r);l!=null&&l.allowExpired||ix(f.exp);const m=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!m){const{error:O}=await this.getUser(r);if(O)throw O;return{data:{claims:f,header:u,signature:h},error:null}}const y=ox(u.alg),x=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,h,Qb(`${p}.${v}`)))throw new cc("Invalid JWT signature");return{data:{claims:f,header:u,signature:h},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}Zl.nextInstanceID=0;const jx=Zl;class Ex extends jx{constructor(s){super(s)}}var Nx=function(o,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(y){try{m(r.next(y))}catch(x){h(x)}}function v(y){try{m(r.throw(y))}catch(x){h(x)}}function m(y){y.done?f(y.value):u(y.value).then(p,v)}m((r=r.apply(o,s||[])).next())})};class Tx{constructor(s,l,r){var u,f,h;this.supabaseUrl=s,this.supabaseKey=l;const p=Cb(s);if(!l)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const v=`sb-${p.hostname.split(".")[0]}-auth-token`,m={db:_b,realtime:jb,auth:Object.assign(Object.assign({},Sb),{storageKey:v}),global:wb},y=kb(r??{},m);this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(f=y.global.headers)!==null&&f!==void 0?f:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=Rb(l,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Gy(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new yb(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Cy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,l={},r={}){return this.rest.rpc(s,l,r)}channel(s,l={config:{}}){return this.realtime.channel(s,l)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,l;return Nx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(l=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:l,detectSessionInUrl:r,storage:u,userStorage:f,storageKey:h,flowType:p,lock:v,debug:m},y,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ex({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:h,autoRefreshToken:s,persistSession:l,detectSessionInUrl:r,storage:u,userStorage:f,flowType:p,lock:v,debug:m,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new lb(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,r)=>{this._handleTokenChanged(l,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,l,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:s==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rx=(o,s,l)=>new Tx(o,s,l);function Ax(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const s=o.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Ax()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ha=S.createContext(),Ox="https://qzyhrvxugoqtppbotiel.supabase.co",kx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6eWhydnh1Z29xdHBwYm90aWVsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNjA1NDYsImV4cCI6MjA2ODkzNjU0Nn0.d47iBV10VKiqTxWHwQkdPonKWfoBf9Xuua2z9KwAzc0",Yl=Rx(Ox,kx),Cx=["@srmist.edu.in","@srmist.in"];function Dx({children:o}){const[s,l]=S.useState(null),[r,u]=S.useState(!0),[f,h]=S.useState(null),p=v=>v?Cx.some(m=>v.toLowerCase().endsWith(m)):!1;return S.useEffect(()=>{const v=async x=>{var O;if(!x){l(null);return}const w=(O=x==null?void 0:x.user)==null?void 0:O.email;if(!w){console.log("No email found in session, signing out"),await Yl.auth.signOut(),l(null),h("No email found in authentication");return}p(w)?(console.log("Valid SRM email found:",w),l(x),h(null)):(console.log("User email not from allowed domain:",w),await Yl.auth.signOut(),l(null),h("Please use an SRM email (@srmist.edu.in or @srmist.in)"))};(async()=>{try{u(!0);const{data:x,error:w}=await Yl.auth.getSession();w?(console.error("Error getting session:",w),h(w.message),l(null)):await v(x.session)}catch(x){console.error("Unexpected error in fetchSession:",x),h("Failed to initialize session"),l(null)}finally{u(!1)}})();const{data:{subscription:y}}=Yl.auth.onAuthStateChange(async(x,w)=>{var O;console.log("Auth state changed:",x,(O=w==null?void 0:w.user)==null?void 0:O.email);try{switch(u(!0),x){case"SIGNED_IN":console.log("User signed in"),await v(w);break;case"TOKEN_REFRESHED":console.log("Token refreshed"),await v(w);break;case"SIGNED_OUT":console.log("User signed out"),l(null),h(null);break;case"USER_UPDATED":console.log("User updated"),l(w);break;default:console.log("Other auth event:",x);break}}catch(q){console.error("Error in auth state change:",q),h("Error processing authentication")}finally{u(!1)}});return()=>{y.unsubscribe()}},[]),S.useEffect(()=>{const v=setTimeout(()=>{r&&(console.log("Force ending loading state after timeout"),u(!1))},3e3);return()=>clearTimeout(v)},[r]),c.jsx(Ha.Provider,{value:{session:s,supabase:Yl,authError:f,loading:r},children:o})}function Jm(){const{session:o,supabase:s,authError:l,loading:r}=S.useContext(Ha),[u,f]=S.useState(null),[h,p]=S.useState(!1),v=Gs();S.useEffect(()=>{o&&o.user&&(console.log("User is logged in, redirecting to home"),v("/home",{replace:!0}))},[o,v]),S.useEffect(()=>{l&&f(l)},[l]);const m=async()=>{try{p(!0),f(null),console.log("Starting Google OAuth login");const{error:y}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/home`,queryParams:{access_type:"offline",prompt:"select_account"}}});y&&(console.error("Login error:",y),f(`Login failed: ${y.message}`))}catch(y){console.error("Unexpected error during login:",y),f("An unexpected error occurred during login")}finally{p(!1)}};return r?c.jsx("div",{className:"page-container flex items-center justify-center",children:c.jsxs("div",{className:"glass-card p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsx("div",{className:"page-container flex items-center justify-center",children:c.jsxs("div",{className:"w-full max-w-md fade-in",children:[c.jsxs("div",{className:"glass-card p-8 text-center shadow-xl border border-white border-opacity-20",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center text-white text-3xl font-bold mb-6 shadow-lg",children:"SRM"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Examination Control Portal"}),c.jsx("p",{className:"text-gray-600",children:"Access your examination support services"}),c.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-blue-500 to-blue-700 mx-auto mt-4 rounded-full"})]}),u&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg border border-red-200 flex items-center gap-3 slide-in",children:[c.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsx("span",{children:u})]}),c.jsx("button",{onClick:m,disabled:h,className:"primary-button w-full flex items-center justify-center gap-2 py-3 text-base",children:h?c.jsxs("span",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})}),c.jsxs("div",{className:"mt-6 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100",children:[c.jsx("svg",{className:"w-5 h-5 text-blue-500 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Only @srmist.edu.in and @srmist.in email domains are permitted"]})]}),c.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:["© ",new Date().getFullYear()," SRM Institute of Science and Technology. All rights reserved."]})]})})}const Wm=[{value:"exam_issue",label:"Exam Issue"},{value:"clarification",label:"Clarification"},{value:"reschedule",label:"Reschedule Request"},{value:"grade_dispute",label:"Grade Dispute"},{value:"other",label:"Other"}],Ux=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}];function Mx({onRequestSubmitted:o}){const{session:s,supabase:l}=S.useContext(Ha),[r,u]=S.useState(""),[f,h]=S.useState(""),[p,v]=S.useState(""),[m,y]=S.useState("medium"),[x,w]=S.useState(null),[O,q]=S.useState([]),[z,C]=S.useState(""),[V,X]=S.useState(""),[M,K]=S.useState(""),[J,ae]=S.useState(!1),[ie,pe]=S.useState(null),[_e,Ee]=S.useState(!1),[Be,Ue]=S.useState(null),[Qe,it]=S.useState(null),[$e,L]=S.useState(!1),[Q,ee]=S.useState(0),[ve,j]=S.useState([]),[U,A]=S.useState([]),[H,P]=S.useState([]),[F,I]=S.useState([]),[je,ye]=S.useState("");S.useEffect(()=>{if(!(s!=null&&s.user))return;(async()=>{try{const{data:fe,error:Ge}=await l.from("profiles").select("*").eq("id",s.user.id).single();if(Ge){console.error("Error fetching profile:",Ge);return}Ue(fe),fe.department_id&&C(fe.department_id),fe.branch_id&&K(fe.branch_id);const{data:_t,error:ua}=await l.from("departments").select("*").eq("is_active",!0);if(ua){console.error("Error fetching departments:",ua);return}q(_t);const{data:pn,error:pt}=await l.from("degrees").select("*, departments:department_id(*)");if(pt){console.error("Error fetching degrees:",pt);return}j(pn||[]),fe!=null&&fe.degree_id&&X(fe.degree_id);const{data:ca,error:vt}=await l.from("branches").select("*");if(vt)console.error("Error fetching branches:",vt);else if(P(ca||[]),fe!=null&&fe.branch_id&&Array.isArray(ca)){const da=ca.find(Yt=>Yt.id===fe.branch_id);da&&((!fe.department_id||fe.department_id!==da.department_id)&&C(da.department_id),K(da.id))}}catch(fe){console.error("Unexpected error:",fe)}})()},[s,l]),S.useEffect(()=>{if(z){const le=ve.filter(Ge=>Ge.department_id===parseInt(z));A(le),le.find(Ge=>Ge.id===V)||X(""),le.length===1&&X(le[0].id);const fe=H.filter(Ge=>Ge.department_id===parseInt(z));I(fe),fe.find(Ge=>Ge.id===parseInt(M))||K(""),fe.length===1&&K(fe[0].id)}else A([]),X(""),I([]),K("")},[z,ve,H]),S.useEffect(()=>{if(x)if(x.type.split("/")[0]==="image"){const fe=URL.createObjectURL(x);return it(fe),()=>URL.revokeObjectURL(fe)}else it(null)},[x]);const at=le=>{h(le.target.value),ee(le.target.value.length)},gt=async le=>{var fe,Ge;if(le.preventDefault(),!!(s!=null&&s.user)){ae(!0),pe(null),Ee(!1);try{if(!r.trim())throw new Error("Please enter a request title");if(!f.trim())throw new Error("Please provide a description");if(!p)throw new Error("Please select a request type");if(!z)throw new Error("Please select a department");if(!M)throw new Error("Please select a branch");let _t=null;if(x){const Ie=x.name.split(".").pop();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(Ie.toLowerCase()))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const vn=`${s.user.id}_${Date.now()}.${Ie}`,{error:It}=await l.storage.from("request-attachments").upload(vn,x);if(It)throw It;const{data:{publicUrl:ot}}=l.storage.from("request-attachments").getPublicUrl(vn);_t=ot}let ua="";if(O.length>0){const Ie=O.find(ba=>ba.id===z);Ie&&(ua=Ie.name)}let pn="";if(F.length>0){const Ie=F.find(ba=>ba.id===parseInt(M));Ie&&(pn=Ie.branch_name)}const{data:pt,error:ca}=await l.from("examination_requests").insert({student_id:s.user.id,title:r,description:f,request_type:p,priority:m,degree:V,department_id:z,branch_id:M,attachments:_t?[_t]:[],status:"pending"}).select("id, created_at").single();if(ca)throw ca;ye(pt.id);const vt=((fe=Wm.find(Ie=>Ie.value===p))==null?void 0:fe.label)||p,da=((Ge=Ux.find(Ie=>Ie.value===m))==null?void 0:Ge.label)||m,Yt=ve.find(Ie=>Ie.id===parseInt(V)),Vs=Yt?`${Yt.name} (${Yt.code})`:V;Ee(!0),u(""),h(""),v(""),y("medium"),w(null),it(null),ee(0),o&&o(),setTimeout(()=>Ee(!1),4e3)}catch(_t){console.error("Error submitting request:",_t),pe(_t.message),setTimeout(()=>pe(null),5e3)}finally{ae(!1)}}};return c.jsxs("div",{children:[(ie||_e)&&c.jsxs("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:[ie&&c.jsxs("div",{className:"px-4 py-3 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01M5.07 19h13.86A2 2 0 0021 17.07L13.93 3.52a2 2 0 00-3.86 0L3 17.07A2 2 0 005.07 19z"})}),c.jsx("span",{className:"font-medium",children:ie})]}),_e&&c.jsxs("div",{className:"px-4 py-3 bg-green-600 text-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"font-medium",children:"Request submitted successfully!"}),je&&c.jsxs("div",{className:"text-xs mt-1",children:["Your Request ID: ",c.jsx("span",{className:"font-mono bg-white text-green-800 px-1 py-0.5 rounded",children:je})]})]})]}),c.jsxs("form",{onSubmit:gt,className:"space-y-4",onChange:()=>L(!0),children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Request Title"}),c.jsx("input",{type:"text",value:r,onChange:le=>u(le.target.value),className:"form-input",placeholder:"Brief title describing your request",required:!0})]}),c.jsx("div",{children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Request Type"}),c.jsxs("select",{value:p,onChange:le=>v(le.target.value),className:"form-select",required:!0,children:[c.jsx("option",{value:"",children:"Select Request Type"}),Wm.map(le=>c.jsx("option",{value:le.value,children:le.label},le.value))]})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),c.jsxs("select",{value:z,onChange:le=>C(le.target.value),className:"form-select",required:!0,disabled:O.length===0,children:[c.jsx("option",{value:"",children:"Select Department"}),O.map(le=>c.jsx("option",{value:le.id,children:le.name},le.id))]}),O.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading departments..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Degree"}),c.jsxs("select",{value:V,onChange:le=>X(le.target.value),className:"form-select",required:!0,disabled:!z,children:[c.jsx("option",{value:"",children:"Select Your Degree"}),U.map(le=>c.jsxs("option",{value:le.id,children:[le.name," (",le.code,")"]},le.id))]}),!z&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),z&&U.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No degrees available for selected department"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),c.jsxs("select",{value:M,onChange:le=>K(le.target.value),className:"form-select",required:!0,disabled:!z,children:[c.jsx("option",{value:"",children:"Select Your Branch"}),F.map(le=>c.jsx("option",{value:le.id,children:le.branch_name},le.id))]}),!z&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),z&&F.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No branches available for selected department"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),c.jsxs("span",{className:`text-xs ${Q>500?"text-red-500":"text-gray-500"}`,children:[Q,"/1000 characters"]})]}),c.jsx("textarea",{value:f,onChange:at,className:"form-input min-h-[120px]",placeholder:"Provide detailed information about your request",rows:"4",maxLength:1e3,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supporting Files (Optional)"}),c.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition-colors",children:[c.jsx("input",{type:"file",onChange:le=>w(le.target.files[0]),className:"w-full",accept:".pdf,.jpg,.jpeg,.png,.gif,.xls,.xlsx"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Accepted formats: PDF, Images (JPG, PNG, GIF), Excel (XLS, XLSX)"})]}),Qe&&c.jsxs("div",{className:"mt-2 p-3 border rounded-lg bg-gray-50",children:[c.jsx("div",{className:"font-medium text-sm text-gray-700 mb-1",children:"Preview"}),c.jsx("img",{src:Qe,alt:"File preview",className:"max-h-48 rounded border"})]}),x&&!Qe&&c.jsxs("div",{className:"mt-2 flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[c.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-700 text-sm font-medium",children:x.name}),c.jsxs("span",{className:"text-xs text-gray-500 block",children:[(x.size/1024).toFixed(1)," KB"]})]})]})]}),c.jsx("div",{className:"pt-3",children:c.jsx("button",{type:"submit",disabled:J,className:`primary-button w-full flex items-center justify-center gap-2 ${J?"opacity-70 cursor-not-allowed":""}`,children:J?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Request..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Submit Request"]})})})]})]})}function Fm({status:o}){const s={pending:"status-pending",resolved:"status-resolved",escalated:"status-escalated",terminated:"status-terminated"},l={pending:c.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),resolved:c.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),escalated:c.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),terminated:c.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};return c.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s[o]}`,children:[l[o],o.charAt(0).toUpperCase()+o.slice(1)]})}function qx({refreshKey:o=0}){var j,U;const{session:s,supabase:l}=S.useContext(Ha),[r,u]=S.useState([]),[f,h]=S.useState(!0),[p,v]=S.useState(null),[m,y]=S.useState(null),[x,w]=S.useState([]),[O,q]=S.useState(!1),[z,C]=S.useState(null),[V,X]=S.useState(!1),[M,K]=S.useState(""),[J,ae]=S.useState(null),[ie,pe]=S.useState(!1),[_e,Ee]=S.useState(null),[Be,Ue]=S.useState(!1),Qe=async()=>{try{v(null);const{data:A,error:H}=await l.from("examination_requests").select(`
            *,
            departments:department_id (name, code),
            branches:branch_id (branch_name)
          `).eq("student_id",s.user.id).order("created_at",{ascending:!1});if(H)throw H;u(A||[])}catch(A){console.error("Error fetching requests:",A),v("Failed to load your requests. Please try again.")}finally{h(!1)}};S.useEffect(()=>{if(!(s!=null&&s.user))return;(async()=>{try{h(!0);const{data:P,error:F}=await l.from("profiles").select("*").eq("id",s.user.id).single();if(F)throw F;C(P),P.role==="student"?Qe():h(!1)}catch(P){console.error("Error fetching user profile:",P),v("Failed to load your profile information"),h(!1)}})();const H=l.channel("examination_requests_changes").on("postgres_changes",{event:"*",schema:"public",table:"examination_requests",filter:`student_id=eq.${s.user.id}`},P=>{Qe()});return H.subscribe(),()=>{try{l.removeChannel(H)}catch{}}},[s,l,o]);const it=async A=>{if(A)try{q(!0);const{data:H,error:P}=await l.from("request_responses").select(`
          *,
          responder:responder_id (full_name, role)
        `).eq("request_id",A).order("created_at",{ascending:!0});if(P)throw P;w(H||[])}catch(H){console.error("Error fetching responses:",H)}finally{q(!1)}},$e=A=>{y(A),it(A.id)},L=()=>{y(null),w([])},Q=A=>{y(A),X(!0),K(""),ae(null)},ee=async A=>{if(!(A!=null&&A.id)||!(s!=null&&s.user))return;const H=A.status==="terminated"?"This request is TERMINATED. Are you sure you want to permanently delete it?":"Are you sure you want to permanently delete this request?";if(window.confirm(H))try{Ee(A.id);const{error:F}=await l.from("request_responses").delete().eq("request_id",A.id);if(F)throw F;const{error:I}=await l.from("examination_requests").delete().eq("id",A.id).eq("student_id",s.user.id);if(I)throw I;u(je=>je.filter(ye=>ye.id!==A.id)),m&&m.id===A.id&&(y(null),w([])),V&&m&&m.id===A.id&&(X(!1),K(""),ae(null))}catch(F){console.error("Delete request failed:",F),alert("Failed to delete the request. "+(F.message||""))}finally{Ee(null)}},ve=async()=>{if(m){if(!M.trim()&&!J){alert("Please provide additional information or attach a supporting file.");return}try{pe(!0);let A=null;if(J){const I=J.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(I))throw new Error("Unsupported file type.");const ye=Date.now(),at=`resubmit_${m.id}_${ye}.${I}`,{error:gt}=await l.storage.from("request-attachments").upload(at,J,{cacheControl:"3600",upsert:!1,contentType:J.type});if(gt)throw gt;const{data:le}=l.storage.from("request-attachments").getPublicUrl(at);A=le.publicUrl}const H=`

[Resubmission on ${new Date().toLocaleString()}]
${M}`,P=A?[...m.attachments||[],A]:m.attachments||[],{error:F}=await l.from("examination_requests").update({status:"pending",description:(m.description||"")+H,attachments:P}).eq("id",m.id);if(F)throw F;await l.from("request_responses").insert({request_id:m.id,responder_id:s.user.id,response_text:M,response_type:"resubmission",attachments:A?[A]:[]}),u(I=>I.map(je=>je.id===m.id?{...je,status:"pending",description:(je.description||"")+H,attachments:P}:je)),X(!1),y(null)}catch(A){console.error("Resubmit failed:",A),alert("Failed to resubmit: "+(A.message||"Unknown error"))}finally{pe(!1)}}};return z&&(z.role==="admin"||z.role==="super_admin")?null:f?c.jsxs("div",{className:"glass-card p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Request History"}),c.jsxs("div",{className:"animate-pulse space-y-4",children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),c.jsx("div",{className:"h-20 bg-gray-200 rounded"}),c.jsx("div",{className:"h-20 bg-gray-200 rounded"}),c.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]}):p?c.jsxs("div",{className:"glass-card p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Request History"}),c.jsx("div",{className:"bg-red-50 p-4 rounded-lg text-red-700 mb-6 border border-red-200",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsx("p",{className:"font-medium",children:p})]})})]}):c.jsxs("div",{className:"glass-card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Request History"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," ",r.length===1?"request":"requests"]}),(z==null?void 0:z.role)==="student"&&r.length>0&&c.jsx("button",{className:`danger-button text-xs py-1 px-2 ${Be?"opacity-70 cursor-not-allowed":""}`,disabled:Be,onClick:async()=>{if(Be)return;const H=r.some(F=>F.status==="terminated")?"Are you sure you want to delete ALL your requests? This includes terminated requests.":"Are you sure you want to delete ALL your requests?";if(window.confirm(H))try{Ue(!0);const{data:F,error:I}=await l.from("examination_requests").select("id").eq("student_id",s.user.id);if(I)throw I;const je=(F||[]).map(gt=>gt.id);if(je.length===0)return;const{error:ye}=await l.from("request_responses").delete().in("request_id",je);if(ye)throw ye;const{error:at}=await l.from("examination_requests").delete().in("id",je).eq("student_id",s.user.id);if(at)throw at;await Qe()}catch(F){console.error("Delete my requests failed:",F),alert("Failed to delete your requests. "+(F.message||""))}finally{Ue(!1)}},children:Be?"Deleting…":"Delete All My Requests"})]})]}),r.length===0?c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:[c.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("p",{className:"text-gray-500 mb-3",children:"You haven't submitted any requests yet."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Your examination requests will appear here once submitted."})]}):c.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden border border-gray-200",children:c.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request ID"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(A=>{var H,P;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 font-mono text-xs text-gray-700",children:A.id}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.title}),c.jsx("div",{className:"text-xs text-gray-500 capitalize",children:A.request_type.replace("_"," ")})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-900",children:((H=A.departments)==null?void 0:H.name)||"Unknown"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-900",children:((P=A.branches)==null?void 0:P.branch_name)||"-"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:new Date(A.created_at).toLocaleDateString()})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fm,{status:A.status}),A.viewed&&c.jsxs("span",{title:"Viewed by faculty/admin",className:"inline-flex items-center text-green-700 bg-green-100 border border-green-200 px-2 py-0.5 rounded-full text-[10px]",children:[c.jsxs("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Viewed"]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>$e(A),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-blue-200 text-blue-700 bg-blue-50 hover:bg-blue-100",children:[c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]}),A.status==="terminated"&&c.jsx("button",{onClick:()=>Q(A),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-purple-200 text-purple-700 bg-purple-50 hover:bg-purple-100",children:"Resubmit"}),c.jsxs("button",{onClick:()=>ee(A),disabled:_e===A.id,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-red-200 text-red-700 bg-red-50 hover:bg-red-100 ${_e===A.id?"opacity-70 cursor-not-allowed":""}`,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7V4a1 1 0 011-1h4a1 1 0 011 1v3m-9 0h10"})}),_e===A.id?"Deleting…":"Delete"]})]})})]},A.id)})})]})})}),m&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:m.title}),c.jsx("button",{onClick:L,className:"text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Request ID"}),c.jsx("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded mt-1",children:m.id})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fm,{status:m.status}),m.viewed&&c.jsxs("span",{className:"inline-flex items-center text-green-700 bg-green-100 border border-green-200 px-2 py-0.5 rounded-full text-[10px]",children:[c.jsxs("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Viewed by Faculty"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),c.jsx("p",{className:"text-sm",children:((j=m.departments)==null?void 0:j.name)||"Unknown"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Branch"}),c.jsx("p",{className:"text-sm",children:((U=m.branches)==null?void 0:U.branch_name)||"-"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Submitted On"}),c.jsx("p",{className:"text-sm",children:new Date(m.created_at).toLocaleString()})]})]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Description"}),c.jsx("div",{className:"bg-white p-4 rounded border border-gray-200",children:c.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:m.description})}),m.attachments&&m.attachments.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Attachments"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:m.attachments.map((A,H)=>c.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors border border-blue-200",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",H+1]},H))})]})]}),x.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Responses"}),c.jsx("div",{className:"space-y-4",children:x.map(A=>{var H;return c.jsxs("div",{className:"bg-white p-4 rounded border border-gray-200",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:((H=A.responder)==null?void 0:H.full_name)||"Administrator"}),c.jsx("span",{className:"text-xs text-gray-500",children:new Date(A.created_at).toLocaleString()})]}),c.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:A.response_text}),A.attachments&&A.attachments.length>0&&c.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:A.attachments.map((P,F)=>c.jsxs("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",F+1]},F))})})]},A.id)})})]}),c.jsx("div",{className:"text-right",children:c.jsx("button",{onClick:L,className:"secondary-button",children:"Close"})})]})}),V&&m&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Resubmit Request"}),c.jsx("button",{onClick:()=>X(!1),className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"You're resubmitting the same request. The Request ID will remain unchanged."}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Information"}),c.jsx("textarea",{value:M,onChange:A=>K(A.target.value),className:"form-input min-h-[120px]",placeholder:"Provide additional details or clarifications"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (optional)"}),c.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.gif,.xls,.xlsx",onChange:A=>ae(A.target.files[0])}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted: PDF, Images, Excel"})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{className:"secondary-button",onClick:()=>X(!1),children:"Cancel"}),c.jsx("button",{className:`primary-button ${ie?"opacity-70 cursor-not-allowed":""}`,onClick:ve,disabled:ie,children:ie?"Submitting...":"Resubmit"})]})]})})]})}function Im({status:o}){const s={pending:"status-pending",resolved:"status-resolved",escalated:"status-escalated",terminated:"status-terminated"};return c.jsx("span",{className:`status-badge ${s[o]||"bg-gray-100"}`,children:o.charAt(0).toUpperCase()+o.slice(1)})}function D0(){var Vs,Ie,ba,vn,It,ot,ea;const{session:o,supabase:s}=S.useContext(Ha),[l,r]=S.useState(!0),[u,f]=S.useState(null),[h,p]=S.useState(null),[v,m]=S.useState([]),[y,x]=S.useState([]),[w,O]=S.useState(null),[q,z]=S.useState(""),[C,V]=S.useState(null),[X,M]=S.useState(!1),[K,J]=S.useState("pending"),[ae,ie]=S.useState(null),[pe,_e]=S.useState(!1),[Ee,Be]=S.useState(""),[Ue,Qe]=S.useState([]),[it,$e]=S.useState(!1),[L,Q]=S.useState(""),[ee,ve]=S.useState("info"),[j,U]=S.useState(!1),[A,H]=S.useState({totalRequests:0,byStatus:{pending:0,escalated:0,resolved:0,terminated:0},totalStudents:0,totalAdmins:0,totalSuperAdmins:0,departments:0,branches:0}),[P,F]=S.useState(""),[I,je]=S.useState(""),[ye,at]=S.useState({total:0,byStatus:{pending:0,escalated:0,resolved:0,terminated:0}}),[gt,le]=S.useState({departments:0,branches:0,byStatus:{pending:0,escalated:0,resolved:0,terminated:0}}),fe=(G,Z="info")=>{Q(G),ve(Z),setTimeout(()=>Q(""),3e3)};S.useEffect(()=>{if(!(o!=null&&o.user))return;(async()=>{try{console.log("Fetching admin profile...");const{data:Z,error:W}=await s.from("profiles").select("*, departments:department_id(*)").eq("id",o.user.id).single();if(W)throw console.error("Error fetching admin profile:",W),W;if(console.log("Admin profile loaded:",Z),p(Z),Z.role!=="admin"&&Z.role!=="super_admin"){f("Access denied. You do not have administrator privileges."),r(!1);return}const ce=Z.role==="super_admin"?"home":"pending";J(ce),await Ge(Z,ce)}catch(Z){console.error("Error in fetchAdminProfile:",Z),f("Failed to load your profile information: "+(Z.message||"Unknown error")),r(!1)}})()},[o,s]),S.useEffect(()=>{if(C)if(C.type.split("/")[0]==="image"){const Z=URL.createObjectURL(C);return ie(Z),()=>URL.revokeObjectURL(Z)}else ie(null)},[C]),S.useEffect(()=>{if(Ee.trim()===""){x(v);return}const G=Ee.toLowerCase().trim(),Z=v.filter(W=>W.id.toLowerCase().includes(G));x(Z)},[Ee,v]);const Ge=async(G,Z)=>{if(!G){console.error("Cannot fetch requests: adminProfile is null");return}try{_e(!0),console.log("Fetching requests for role:",G.role,"tab:",Z);let W=s.from("examination_requests").select(`
          *,
          departments:department_id(*),
          branches:branch_id(*),
          student:student_id(id, full_name, email, student_id, phone),
          responses:request_responses(*)
        `).order("created_at",{ascending:!1});if(G.role==="admin"&&(console.log("Filtering by department:",G.department_id),W=W.eq("department_id",G.department_id)),G.role==="super_admin")if(Z==="home"){const[Ye,qe,He,St,yt,Tt,ut,Rt,Xs,Hn]=await Promise.all([s.from("examination_requests").select("id",{count:"exact",head:!0}),s.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","pending"),s.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","escalated"),s.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","resolved"),s.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","terminated"),s.from("profiles").select("id",{count:"exact",head:!0}).eq("role","student"),s.from("profiles").select("id",{count:"exact",head:!0}).eq("role","admin"),s.from("profiles").select("id",{count:"exact",head:!0}).eq("role","super_admin"),s.from("departments").select("id",{count:"exact",head:!0}),s.from("branches").select("id",{count:"exact",head:!0})]),Re={totalRequests:Ye.count||0,byStatus:{pending:qe.count||0,escalated:He.count||0,resolved:St.count||0,terminated:yt.count||0},totalStudents:Tt.count||0,totalAdmins:ut.count||0,totalSuperAdmins:Rt.count||0,departments:Xs.count||0,branches:Hn.count||0};H(Re),at({total:Ye.count||0,byStatus:{pending:qe.count||0,escalated:He.count||0,resolved:St.count||0,terminated:yt.count||0}}),le({departments:Re.departments,branches:Re.branches,byStatus:{...Re.byStatus}}),m([]),x([]),_e(!1),r(!1);return}else Z==="all"?console.log("Super admin viewing all requests (no status filter)"):Z==="resolved"?(console.log("Super admin viewing all resolved requests"),W=W.eq("status","resolved")):Z==="escalated"?(console.log("Super admin viewing all escalated requests"),W=W.eq("status","escalated")):Z==="terminated"?(console.log("Super admin viewing all terminated requests"),W=W.eq("status","terminated")):Z==="pending"&&(console.log("Super admin viewing all pending requests"),W=W.eq("status","pending"));else Z==="pending"?(console.log("Filtering for pending requests only"),W=W.eq("status","pending")):Z==="resolved"?(console.log("Filtering for resolved requests only"),W=W.eq("status","resolved")):Z==="escalated"?(console.log("Filtering for escalated requests only"),W=W.eq("status","escalated")):Z==="terminated"&&(console.log("Filtering for terminated requests only"),W=W.eq("status","terminated"));console.log("Final query parameters:",{role:G.role,tab:Z,department:G.role==="admin"?G.department_id:"all"});const{data:ce,error:me}=await W;if(me)throw console.error("Error in request query:",me),me;console.log(`Requests loaded for ${Z} tab:`,(ce==null?void 0:ce.length)||0);let Pe=ce;if(Pe&&Pe.length>0){const Ye=Pe.filter(qe=>!qe.student||!qe.student.email);if(Ye.length>0){console.warn(`${Ye.length} requests have missing student data`);for(const qe of Ye){console.log(`Fetching missing student data for request ${qe.id}`);const{data:He,error:St}=await s.from("profiles").select("id, full_name, email, student_id, phone").eq("id",qe.student_id).single();St?console.error(`Error fetching student data for request ${qe.id}:`,St):He&&(qe.student=He,console.log(`Updated student data for request ${qe.id}:`,He.email))}}}m(Pe||[]),x(Pe||[])}catch(W){console.error("Error fetching requests:",W),f("Failed to load requests: "+(W.message||"Unknown error"))}finally{_e(!1),r(!1)}},_t=async(G,Z)=>{try{let W=null,ce=null;G&&(W=new Date(`${G}T00:00:00`).toISOString()),Z&&(ce=new Date(`${Z}T23:59:59.999`).toISOString());const me=Re=>{let ta=s.from("examination_requests").select("id",{count:"exact",head:!0});return Re&&(ta=ta.eq("status",Re)),W&&(ta=ta.gte("created_at",W)),ce&&(ta=ta.lte("created_at",ce)),ta},Pe=(()=>{let Re=s.from("examination_requests").select("department_id");return W&&(Re=Re.gte("created_at",W)),ce&&(Re=Re.lte("created_at",ce)),Re})(),Ye=(()=>{let Re=s.from("examination_requests").select("branch_id");return W&&(Re=Re.gte("created_at",W)),ce&&(Re=Re.lte("created_at",ce)),Re})(),[qe,He,St,yt,Tt,ut,Rt]=await Promise.all([me(),me("pending"),me("escalated"),me("resolved"),me("terminated"),Pe,Ye]);at({total:qe.count||0,byStatus:{pending:He.count||0,escalated:St.count||0,resolved:yt.count||0,terminated:Tt.count||0}});const Xs=Array.isArray(ut==null?void 0:ut.data)?new Set(ut.data.map(Re=>Re.department_id).filter(Re=>Re!=null)).size:0,Hn=Array.isArray(Rt==null?void 0:Rt.data)?new Set(Rt.data.map(Re=>Re.branch_id).filter(Re=>Re!=null)).size:0;le({departments:Xs,branches:Hn,byStatus:{pending:He.count||0,escalated:St.count||0,resolved:yt.count||0,terminated:Tt.count||0}})}catch(W){console.error("Failed to update pie stats:",W),fe("Failed to update chart. Try a different date range.","error")}},ua=async G=>{O(G),z(""),V(null),ie(null);try{await s.from("examination_requests").update({viewed:!0}).eq("id",G.id)}catch(Z){console.warn("Could not mark request as viewed (boolean):",(Z==null?void 0:Z.message)||Z)}try{$e(!0);const{data:Z,error:W}=await s.from("request_responses").select(`
          *,
          responder:responder_id (full_name, role)
        `).eq("request_id",G.id).neq("response_type","viewed").order("created_at",{ascending:!0});W?console.error("Error fetching responses:",W):Qe(Z||[])}catch(Z){console.error("Unexpected error fetching responses:",Z)}finally{$e(!1)}},pn=async()=>{if(!w||!q.trim()){fe("please fill the respond to request","warning");return}try{M(!0);let G=null;if(C){const Pe=C.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(Pe))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const qe=w.id,He=Date.now(),St=`response_${qe}_${He}.${Pe}`;console.log("Uploading response file:",St);const{data:yt,error:Tt}=await s.storage.from("request-responses").upload(St,C,{cacheControl:"3600",upsert:!1,contentType:C.type});if(Tt)throw console.error("File upload error:",Tt),Tt;const{data:{publicUrl:ut}}=s.storage.from("request-responses").getPublicUrl(St);G=ut,console.log("File uploaded successfully, URL:",G);try{(await fetch(G,{method:"HEAD"})).ok||console.warn("Attachment URL may not be publicly accessible:",G)}catch(Rt){console.warn("Could not verify attachment URL accessibility:",Rt)}}console.log("Creating response record...");let Z="";w.status==="escalated"&&(h==null?void 0:h.role)==="super_admin"&&(Z="[Resolved by Super Admin]");const{data:W,error:ce}=await s.from("request_responses").insert({request_id:w.id,responder_id:o.user.id,response_text:Z?`${Z} ${q}`:q,response_type:"resolution",attachments:G?[G]:[]}).select("*");if(ce)throw console.error("Response record error:",ce),ce;console.log("Response record created:",W),console.log("Updating request status...");const{error:me}=await s.from("examination_requests").update({status:"resolved",resolved_at:new Date().toISOString(),resolution_notes:q,assigned_admin_id:o.user.id}).eq("id",w.id);if(me)throw console.error("Request update error:",me),me;O(null),Qe([]),h&&Ge(h,"pending")}catch(G){console.error("Error resolving request:",G),alert("Failed to resolve request: "+(G.message||"Unknown error"))}finally{M(!1)}},pt=async()=>{if(!w||!q.trim()){fe("please fill the respond to request","warning");return}try{M(!0);let G=null;if(C){const me=C.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(me))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const Ye=w.id,qe=Date.now(),He=`escalation_${Ye}_${qe}.${me}`;console.log("Uploading escalation file:",He);const{data:St,error:yt}=await s.storage.from("request-responses").upload(He,C,{cacheControl:"3600",upsert:!1,contentType:C.type});if(yt)throw console.error("File upload error:",yt),yt;const{data:{publicUrl:Tt}}=s.storage.from("request-responses").getPublicUrl(He);G=Tt,console.log("File uploaded successfully, URL:",G);try{(await fetch(G,{method:"HEAD"})).ok||console.warn("Attachment URL may not be publicly accessible:",G)}catch(ut){console.warn("Could not verify attachment URL accessibility:",ut)}}console.log("Creating escalation response record...");const{data:Z,error:W}=await s.from("request_responses").insert({request_id:w.id,responder_id:o.user.id,response_text:q,response_type:"escalation",attachments:G?[G]:[]}).select("*");if(W)throw console.error("Response record error:",W),W;console.log("Escalation response record created:",Z),console.log("Updating request status to escalated...");const{error:ce}=await s.from("examination_requests").update({status:"escalated",assigned_admin_id:o.user.id}).eq("id",w.id);if(ce)throw console.error("Request update error:",ce),ce;O(null),Qe([]),h&&Ge(h,"pending")}catch(G){console.error("Error escalating request:",G),alert("Failed to escalate request: "+(G.message||"Unknown error"))}finally{M(!1)}},ca=async()=>{if(!w||!q.trim()){fe("please fill the respond to request","warning");return}try{M(!0);let G=null;if(C){const me=C.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(me))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const Ye=w.id,qe=Date.now(),He=`termination_${Ye}_${qe}.${me}`;console.log("Uploading termination file:",He);const{data:St,error:yt}=await s.storage.from("request-responses").upload(He,C,{cacheControl:"3600",upsert:!1,contentType:C.type});if(yt)throw console.error("File upload error:",yt),yt;const{data:{publicUrl:Tt}}=s.storage.from("request-responses").getPublicUrl(He);G=Tt,console.log("File uploaded successfully, URL:",G);try{(await fetch(G,{method:"HEAD"})).ok||console.warn("Attachment URL may not be publicly accessible:",G)}catch(ut){console.warn("Could not verify attachment URL accessibility:",ut)}}console.log("Creating termination response record...");const{data:Z,error:W}=await s.from("request_responses").insert({request_id:w.id,responder_id:o.user.id,response_text:q,response_type:"termination",attachments:G?[G]:[]}).select("*");if(W)throw console.error("Response record error:",W),W;console.log("Termination response record created:",Z),console.log("Updating request status to terminated...");const{error:ce}=await s.from("examination_requests").update({status:"terminated",resolved_at:new Date().toISOString(),resolution_notes:q,assigned_admin_id:o.user.id}).eq("id",w.id);if(ce)throw console.error("Request update error:",ce),ce;O(null),Qe([]),h&&Ge(h,"pending")}catch(G){console.error("Error terminating request:",G),alert("Failed to terminate request: "+(G.message||"Unknown error"))}finally{M(!1)}},vt=G=>{console.log("Changing tab from",K,"to",G),J(G),Be(""),h&&requestAnimationFrame(()=>Ge(h,G))},da=G=>{Be(G.target.value)},Yt=async(G,Z)=>{const{data:W,error:ce}=await s.from("examination_requests").update({priority:G}).eq("id",Z).select();if(console.log(ce?"Can't Change Priority.":"Successfully changed priority."),W&&W.length>0){const{data:me,error:Pe}=await s.from("examination_requests").select(`
          *,
          departments:department_id(*),
          student:student_id(id, full_name, email, student_id, phone),
          responses:request_responses(*)
        `).eq("id",Z).single();ua(!Pe&&me?me:W[0])}};return l&&!h?c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-4 border-blue-600 border-opacity-50 border-t-blue-600"}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading admin dashboard..."})]})}):u?c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"glass-card p-8 w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Access Error"}),c.jsx("p",{className:"mt-2 text-red-600",children:u})]}),c.jsx("button",{onClick:()=>window.location.href="/",className:"secondary-button w-full",children:"Back to Home"})]})}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"dashboard-container fade-in",children:[L&&c.jsx("div",{className:`mb-4 p-3 rounded-md border ${ee==="warning"?"bg-yellow-100 border-yellow-300 text-yellow-800":ee==="error"?"bg-red-100 border-red-300 text-red-800":ee==="success"?"bg-green-100 border-green-300 text-green-800":"bg-blue-100 border-blue-300 text-blue-800"}`,children:L}),c.jsxs("div",{className:"card-header",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:(h==null?void 0:h.role)==="super_admin"?"SuperAdmin Dashboard — Controller of Examinations":"Admin Dashboard — Controller of Examinations"}),c.jsx("div",{className:"text-gray-600",children:(h==null?void 0:h.role)==="super_admin"?"Manage all student requests across departments":`Managing ${((Vs=h==null?void 0:h.departments)==null?void 0:Vs.name)||"Department"} requests`})]}),c.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col md:flex-row gap-2",children:[((h==null?void 0:h.role)==="admin"||(h==null?void 0:h.role)==="super_admin")&&c.jsxs("button",{onClick:async()=>{if(!(j||!window.confirm("Delete all resolved requests"+((h==null?void 0:h.role)==="admin"?" in your department":" (all departments)")+"? This cannot be undone.")))try{U(!0);let Z=s.from("examination_requests").select("id").eq("status","resolved");(h==null?void 0:h.role)==="admin"&&(Z=Z.eq("department_id",h.department_id));const{data:W,error:ce}=await Z;if(ce)throw ce;const me=(W||[]).map(qe=>qe.id);if(me.length===0){fe("No resolved requests to delete.","info");return}const{error:Pe}=await s.from("request_responses").delete().in("request_id",me);if(Pe)throw Pe;const{error:Ye}=await s.from("examination_requests").delete().in("id",me);if(Ye)throw Ye;fe(`Deleted ${me.length} resolved request(s).`,"success"),h&&await Ge(h,K)}catch(Z){console.error("Delete resolved failed:",Z),fe("Failed to delete resolved requests. "+(Z.message||""),"error")}finally{U(!1)}},className:`danger-button flex items-center gap-2 ${j?"opacity-70 cursor-not-allowed":""}`,disabled:j,title:"Delete all resolved requests",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7V4a1 1 0 011-1h4a1 1 0 011 1v3m-9 0h10"})}),j?"Deleting…":"Delete All Resolved"]}),c.jsxs("button",{onClick:()=>s.auth.signOut(),className:"danger-button flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]}),c.jsx("div",{className:"flex overflow-x-auto bg-white rounded-lg shadow mb-6",children:(h==null?void 0:h.role)==="super_admin"?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>vt("home"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${K==="home"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001 1h6a1 1 0 001-1V10m-9 11V9m0 0l-2 2m2-2l2 2"})}),"Home"]})}),c.jsx("button",{onClick:()=>vt("all"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${K==="all"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7h18M3 12h18M3 17h18"})}),"All Requests",K==="all"&&y.length>0&&c.jsx("span",{className:"ml-2 bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:y.length})]})}),c.jsx("button",{onClick:()=>vt("escalated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${K==="escalated"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Escalated Pending",K==="escalated"&&y.length>0&&c.jsx("span",{className:"ml-2 bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:y.length})]})}),c.jsx("button",{onClick:()=>vt("resolved"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${K==="resolved"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Resolved"]})}),c.jsx("button",{onClick:()=>vt("terminated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${K==="terminated"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Terminated"]})}),c.jsx("button",{onClick:()=>vt("pending"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${K==="pending"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pending"]})})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>vt("pending"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${K==="pending"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pending",K==="pending"&&y.length>0&&c.jsx("span",{className:"ml-2 bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:y.length})]})}),c.jsx("button",{onClick:()=>vt("resolved"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${K==="resolved"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(h==null?void 0:h.role)==="super_admin"?"Resolved by Super Admin":"Resolved"]})}),(h==null?void 0:h.role)!=="super_admin"&&c.jsx("button",{onClick:()=>vt("escalated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${K==="escalated"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Escalated"]})}),(h==null?void 0:h.role)!=="super_admin"&&c.jsx("button",{onClick:()=>vt("terminated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${K==="terminated"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Terminated"]})})]})}),(h==null?void 0:h.role)==="super_admin"&&K==="home"?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Total Requests"}),c.jsx("div",{className:"text-2xl font-bold",children:A.totalRequests})]}),c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Students"}),c.jsx("div",{className:"text-2xl font-bold",children:A.totalStudents})]}),c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Admins"}),c.jsx("div",{className:"text-2xl font-bold",children:A.totalAdmins})]}),c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Super Admins"}),c.jsx("div",{className:"text-2xl font-bold",children:A.totalSuperAdmins})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"glass-card p-6 flex flex-col items-center justify-center h-full",children:[c.jsxs("div",{className:"w-full flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Requests by Status"}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",ye.total]})]}),c.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-3 gap-2 mb-4",children:[c.jsxs("div",{className:"md:col-span-1",children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),c.jsx("input",{type:"date",value:P,onChange:G=>{F(G.target.value),_t(G.target.value,I)},className:"form-input py-2"})]}),c.jsxs("div",{className:"md:col-span-1",children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),c.jsx("input",{type:"date",value:I,onChange:G=>{je(G.target.value),_t(P,G.target.value)},className:"form-input py-2"})]}),c.jsx("div",{className:"md:col-span-1 flex items-end",children:c.jsx("button",{onClick:()=>{F(""),je(""),_t("","")},className:"secondary-button w-full",children:"Reset"})})]}),(()=>{const G=Math.max(1,ye.total),Z=ye.byStatus,W={pending:Z.pending/G*100,escalated:Z.escalated/G*100,resolved:Z.resolved/G*100,terminated:Z.terminated/G*100},ce=`conic-gradient(
                    #3b82f6 0% ${W.pending}%,
                    #f59e0b ${W.pending}% ${W.pending+W.escalated}%,
                    #10b981 ${W.pending+W.escalated}% ${W.pending+W.escalated+W.resolved}%,
                    #ef4444 ${W.pending+W.escalated+W.resolved}% 100%
                  )`;return c.jsxs("div",{className:"w-full flex flex-col items-center",children:[c.jsx("div",{className:"w-48 h-48 rounded-full",style:{background:ce}}),c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#3b82f6"}}),"Pending (",Z.pending,")"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#f59e0b"}}),"Escalated (",Z.escalated,")"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#10b981"}}),"Resolved (",Z.resolved,")"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#ef4444"}}),"Terminated (",Z.terminated,")"]})]})]})})()]}),c.jsxs("div",{className:"glass-card p-6 lg:col-span-2 h-full flex flex-col",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Organization Overview"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:grid-rows-2 auto-rows-fr gap-4 h-full",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Departments (in range)"}),c.jsx("div",{className:"text-2xl font-bold",children:gt.departments})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Branches (in range)"}),c.jsx("div",{className:"text-2xl font-bold",children:gt.branches})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Active Pending"}),c.jsx("div",{className:"text-2xl font-bold",children:gt.byStatus.pending})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Escalated Pending"}),c.jsx("div",{className:"text-2xl font-bold",children:gt.byStatus.escalated})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Resolved"}),c.jsx("div",{className:"text-2xl font-bold",children:gt.byStatus.resolved})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Terminated"}),c.jsx("div",{className:"text-2xl font-bold",children:gt.byStatus.terminated})]})]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:Ee,onChange:da,placeholder:"Search by Request ID...",className:"form-input pl-10 w-full md:w-64"}),c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})}),pe?c.jsxs("div",{className:"text-center py-10",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-600 border-opacity-50 border-t-blue-600"}),c.jsx("p",{className:"mt-4 text-gray-500",children:"Loading requests..."})]}):y.length===0?c.jsxs("div",{className:"glass-card p-8 text-center",children:[c.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Ee?c.jsxs("p",{className:"text-gray-500",children:['No requests found matching ID: "',Ee,'"']}):c.jsxs("p",{className:"text-gray-500",children:["No ",K," requests found."]})]}):c.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:c.jsxs("table",{className:"data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"data-table-header",children:"Request ID"}),c.jsx("th",{className:"data-table-header",children:"Title"}),c.jsx("th",{className:"data-table-header",children:"Student"}),c.jsx("th",{className:"data-table-header",children:"Department"}),c.jsx("th",{className:"data-table-header",children:"Branch"}),c.jsx("th",{className:"data-table-header",children:"Date"}),c.jsx("th",{className:"data-table-header",children:"Status"}),c.jsx("th",{className:"data-table-header",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:y.map(G=>{var Z,W,ce,me;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[c.jsx("td",{className:"data-table-cell",children:c.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:G.id})}),c.jsxs("td",{className:"data-table-cell",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.title}),c.jsx("div",{className:"text-xs text-gray-500",children:G.request_type.replace("_"," ")})]}),c.jsxs("td",{className:"data-table-cell",children:[c.jsx("div",{className:"text-sm",children:(Z=G.student)==null?void 0:Z.full_name}),c.jsx("div",{className:"text-xs text-gray-500",children:(W=G.student)==null?void 0:W.student_id})]}),c.jsx("td",{className:"data-table-cell",children:c.jsx("div",{className:"text-sm",children:((ce=G.departments)==null?void 0:ce.name)||"Unknown"})}),c.jsx("td",{className:"data-table-cell",children:c.jsx("div",{className:"text-sm",children:((me=G.branches)==null?void 0:me.branch_name)||"-"})}),c.jsx("td",{className:"data-table-cell",children:c.jsx("div",{className:"text-sm text-gray-500",children:new Date(G.created_at).toLocaleDateString()})}),c.jsx("td",{className:"data-table-cell",children:c.jsx(Im,{status:G.status})}),c.jsx("td",{className:"data-table-cell",children:c.jsx("button",{onClick:()=>ua(G),className:"primary-button text-sm py-1 px-3",children:"View & Respond"})})]},G.id)})})]})})]})]}),w&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-container",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Request Details"}),c.jsx("button",{onClick:()=>O(null),className:"text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),L&&c.jsx("div",{className:`mb-4 p-3 rounded-md border ${ee==="warning"?"bg-yellow-100 border-yellow-300 text-yellow-800":ee==="error"?"bg-red-100 border-red-300 text-red-800":ee==="success"?"bg-green-100 border-green-300 text-green-800":"bg-blue-100 border-blue-300 text-blue-800"}`,children:L}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Request Information"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Request ID"}),c.jsx("span",{className:"block font-mono text-sm bg-gray-100 px-2 py-1 rounded mt-1",children:w.id})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Status"}),c.jsx(Im,{status:w.status})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Type"}),c.jsx("span",{className:"capitalize text-sm",children:w.request_type.replace("_"," ")})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Priority"}),c.jsxs("select",{className:"capitalize text-sm border rounded px-2 py-1 mt-1",value:w.priority,onChange:G=>Yt(G.target.value,w.id),children:[c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"medium",children:"Medium"}),c.jsx("option",{value:"high",children:"High"})]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Submitted On"}),c.jsx("span",{className:"text-sm",children:new Date(w.created_at).toLocaleString()})]})]})]}),c.jsxs("div",{className:"glass-card p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Student Information"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Name"}),c.jsx("span",{className:"block text-sm font-medium",children:(Ie=w.student)==null?void 0:Ie.full_name})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Email"}),c.jsx("span",{className:"block text-sm",children:(ba=w.student)==null?void 0:ba.email})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Student ID"}),c.jsx("span",{className:"block text-sm",children:(vn=w.student)==null?void 0:vn.student_id})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Phone"}),c.jsx("span",{className:"block text-sm",children:((It=w.student)==null?void 0:It.phone)||"Not provided"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Department"}),c.jsx("span",{className:"block text-sm",children:((ot=w.departments)==null?void 0:ot.name)||"Unknown"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-gray-500",children:"Branch"}),c.jsx("span",{className:"block text-sm",children:((ea=w.branches)==null?void 0:ea.branch_name)||"-"})]})]})]})]}),c.jsxs("div",{className:"glass-card p-5 mb-6",children:[c.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:w.title}),c.jsx("p",{className:"bg-gray-50 p-4 rounded text-gray-700 mb-4",children:w.description}),w.attachments&&w.attachments.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Attachments"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:w.attachments.map((G,Z)=>c.jsxs("a",{href:G,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors border border-blue-200",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",Z+1]},Z))})]})]}),it?c.jsxs("div",{className:"glass-card p-5 mb-6 text-center",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-5 w-5 border-2 border-gray-400 border-opacity-50 border-t-gray-600"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading previous responses..."})]}):Ue.length>0?c.jsxs("div",{className:"glass-card p-5 mb-6",children:[c.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"Previous Responses"}),c.jsx("div",{className:"space-y-4",children:Ue.map(G=>{var Z,W;return c.jsxs("div",{className:"border-l-4 border-blue-500 bg-blue-50 p-4 rounded-r-lg",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-blue-800",children:((Z=G.responder)==null?void 0:Z.full_name)||"Administrator"}),c.jsx("span",{className:"text-xs ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:((W=G.responder)==null?void 0:W.role)||"admin"})]}),c.jsx("div",{className:"text-xs text-gray-500",children:new Date(G.created_at).toLocaleString()})]}),c.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:G.response_text}),G.attachments&&G.attachments.length>0&&c.jsxs("div",{className:"mt-3 pt-2 border-t border-blue-200",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Attachments:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:G.attachments.map((ce,me)=>c.jsxs("a",{href:ce,target:"_blank",rel:"noopener noreferrer",className:"text-xs inline-flex items-center gap-1 bg-white text-blue-700 px-2 py-1 rounded border border-blue-300 hover:bg-blue-50",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",me+1]},me))})]})]},G.id)})})]}):null,(w.status==="pending"||w.status==="escalated"&&(h==null?void 0:h.role)==="super_admin")&&c.jsxs("div",{className:"glass-card p-5",children:[c.jsx("h4",{className:"text-lg font-medium mb-4",children:"Respond to Request"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Response"}),c.jsx("textarea",{value:q,onChange:G=>z(G.target.value),className:"form-input min-h-[120px]",placeholder:"Type your response to the student here...",rows:"4",required:!0})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),c.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 bg-gray-50",children:[c.jsx("input",{type:"file",onChange:G=>V(G.target.files[0]),className:"w-full",accept:".pdf,.jpg,.jpeg,.png,.gif,.xls,.xlsx"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Accepted formats: PDF, Images (JPG, PNG, GIF), Excel (XLS, XLSX)"})]}),ae&&c.jsxs("div",{className:"mt-2 p-3 border rounded-lg bg-gray-50",children:[c.jsx("div",{className:"font-medium text-sm text-gray-700 mb-1",children:"Preview"}),c.jsx("img",{src:ae,alt:"File preview",className:"max-h-48 rounded border"})]}),C&&!ae&&c.jsxs("div",{className:"mt-2 flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[c.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-gray-700 text-sm",children:C.name})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("button",{onClick:pn,disabled:X,className:"success-button flex items-center gap-2",children:X?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Resolve Request"]})}),(h==null?void 0:h.role)==="admin"&&c.jsx("button",{onClick:pt,disabled:X,className:"primary-button flex items-center gap-2",children:X?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),"Escalate to SuperAdmin"]})}),c.jsx("button",{onClick:ca,disabled:X,className:"danger-button flex items-center gap-2",children:X?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Terminate Request"]})})]})]})]})})]})}function U0(){const{session:o,supabase:s}=S.useContext(Ha),[l,r]=S.useState(null),[u,f]=S.useState(null),[h,p]=S.useState(""),[v,m]=S.useState(""),[y,x]=S.useState(""),[w,O]=S.useState(""),[q,z]=S.useState([]),[C,V]=S.useState([]),[X,M]=S.useState([]),[K,J]=S.useState(""),[ae,ie]=S.useState([]),[pe,_e]=S.useState([]),[Ee,Be]=S.useState(""),[Ue,Qe]=S.useState(""),[it,$e]=S.useState(null),[L,Q]=S.useState(null),ee=Gs();S.useEffect(()=>{var P;if(!o){ee("/login");return}o.user&&((P=o.user.user_metadata)!=null&&P.full_name&&p(o.user.user_metadata.full_name),o.user.email&&Qe(o.user.email));const U=async()=>{try{const{data:F,error:I}=await s.from("departments").select("*").eq("is_active",!0);I?(console.error("Error fetching departments:",I),f("Failed to load departments. Please try again.")):z(F)}catch(F){console.error("Unexpected error:",F),f("An unexpected error occurred")}},A=async()=>{try{const{data:F,error:I}=await s.from("degrees").select("*, departments:department_id(*)");I?(console.error("Error fetching degrees:",I),f("Failed to load degrees. Please try again.")):V(F||[])}catch(F){console.error("Unexpected error:",F),f("An unexpected error occurred")}},H=async()=>{try{const{data:F,error:I}=await s.from("branches").select("*");I?console.error("Error fetching branches:",I):ie(F||[])}catch(F){console.error("Unexpected error (branches):",F)}};U(),A(),H()},[o,s,ee]),S.useEffect(()=>{if(w){const U=C.filter(H=>H.department_id===parseInt(w));M(U),U.find(H=>H.id===K)||J("");const A=ae.filter(H=>H.department_id===parseInt(w));_e(A),A.find(H=>H.id===parseInt(Ee))||Be("")}else M([]),J(""),_e([]),Be("")},[w,C,ae]);const ve=U=>{const A=U.target.files[0];if(A){Q(A);const H=URL.createObjectURL(A);return $e(H),()=>URL.revokeObjectURL(H)}},j=async U=>{U.preventDefault(),r(!0),f(null);try{if(!(o!=null&&o.user))throw new Error("No user logged in");let A=null;if(L){const P=L.name.split(".").pop(),F=`${o.user.id}-${Date.now()}.${P}`,{error:I}=await s.storage.from("profile-avatars").upload(F,L);if(I)throw console.error("Avatar upload error:",I),new Error("Failed to upload profile picture");const{data:{publicUrl:je}}=s.storage.from("profile-avatars").getPublicUrl(F);A=je}const{error:H}=await s.from("profiles").upsert({id:o.user.id,email:Ue,full_name:h,role:"student",department_id:w,degree_id:K,branch_id:Ee||null,student_id:v,phone:y,avatar_url:A,is_profile_complete:!0,is_active:!0});if(H)throw console.error("Profile setup error:",H),H;r(!0),window.location.href="/home"}catch(A){console.error("Error setting up profile:",A),f(A.message||"Failed to set up profile")}finally{r(!1)}};return c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"glass-card p-8 w-full max-w-md fade-in",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Complete Your Profile"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Please provide your information to continue"})]}),u&&c.jsx("div",{className:"mb-6 p-3 bg-red-100 text-red-700 rounded-lg border border-red-200",children:u}),c.jsxs("form",{onSubmit:j,className:"space-y-5",children:[c.jsx("div",{className:"flex justify-center mb-2",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:it?c.jsx("img",{src:it,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),c.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-blue-600 rounded-full p-1 cursor-pointer hover:bg-blue-700 transition-colors",children:c.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),c.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:ve,className:"hidden"})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:Ue,readOnly:!0,className:"form-input bg-gray-100"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",value:h,onChange:U=>p(U.target.value),className:"form-input",placeholder:"Your full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),c.jsx("input",{type:"text",value:v,onChange:U=>m(U.target.value),className:"form-input",placeholder:"Your Registration number",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),c.jsx("input",{type:"tel",value:y,onChange:U=>x(U.target.value),className:"form-input",placeholder:"Your contact number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),c.jsxs("select",{value:w,onChange:U=>O(U.target.value),className:"form-select",required:!0,children:[c.jsx("option",{value:"",children:"Select Your Department"}),q.map(U=>c.jsx("option",{value:U.id,children:U.name},U.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Degree"}),c.jsxs("select",{value:K,onChange:U=>J(U.target.value),className:"form-select",required:!0,disabled:!w,children:[c.jsx("option",{value:"",children:"Select Your Degree"}),X.map(U=>c.jsxs("option",{value:U.id,children:[U.name," (",U.code,")"]},U.id))]}),!w&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),w&&X.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No degrees available for selected department"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),c.jsxs("select",{value:Ee,onChange:U=>Be(U.target.value),className:"form-select",required:!0,disabled:!w,children:[c.jsx("option",{value:"",children:"Select Your Branch"}),pe.map(U=>c.jsx("option",{value:U.id,children:U.branch_name},U.id))]}),!w&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),w&&pe.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No branches available for selected department"})]}),c.jsx("button",{type:"submit",disabled:l||!w||!K||!Ee,className:`w-full primary-button py-3 ${l?"opacity-70 cursor-not-allowed":""}`,children:l?c.jsxs("span",{className:"flex items-center justify-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Setting Up..."]}):"Complete Profile"})]})]})})}function Lx(){var z;const{session:o,supabase:s,authError:l}=S.useContext(Ha),[r,u]=S.useState(!0),[f,h]=S.useState(null),[p,v]=S.useState(null),[m,y]=S.useState(0),x=Gs(),w=async()=>{try{console.log("Checking storage buckets...");const{data:C,error:V}=await s.storage.listBuckets();if(V){console.error("Error listing buckets:",V);return}const X=C.map(M=>M.name);if(console.log("Existing buckets:",X),!X.includes("request-attachments")){console.log("Creating request-attachments bucket...");const{error:M}=await s.storage.createBucket("request-attachments",{public:!0,fileSizeLimit:10485760,allowedMimeTypes:["image/png","image/jpeg","image/gif","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]});M?console.error("Error creating request-attachments bucket:",M):console.log("request-attachments bucket created successfully")}if(!X.includes("request-responses")){console.log("Creating request-responses bucket...");const{error:M}=await s.storage.createBucket("request-responses",{public:!0,fileSizeLimit:10485760,allowedMimeTypes:["image/png","image/jpeg","image/gif","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]});M?console.error("Error creating request-responses bucket:",M):console.log("request-responses bucket created successfully")}}catch(C){console.error("Error ensuring storage buckets:",C)}};S.useEffect(()=>{if(!o){x("/login");return}(async()=>{try{u(!0),await w();const{data:V,error:X}=await s.from("profiles").select("*, departments:department_id(*)").eq("id",o.user.id).single();X?X.code==="PGRST116"?(console.log("Profile not found, need setup"),h(null)):(console.error("Error fetching profile:",X),v(`Failed to load profile: ${X.message}`)):h(V)}catch(V){console.error("Unexpected error:",V),v("An unexpected error occurred")}finally{u(!1)}})()},[o,s,x]);const O=()=>{y(C=>C+1)};if(r)return c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-4 border-blue-600 border-opacity-50 border-t-blue-600"}),c.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading your dashboard..."})]})});if(p||l)return c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"glass-card p-8 w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Error"}),c.jsx("p",{className:"mt-2 text-red-600",children:p||l})]}),c.jsx("button",{onClick:()=>s.auth.signOut(),className:"secondary-button w-full",children:"Sign Out and Try Again"})]})});if(!f)return c.jsx(U0,{});if(f.role==="admin"||f.role==="super_admin")return console.log("Rendering AdminDashboard for role:",f.role),c.jsx(D0,{});const q=()=>{const C=new Date().getHours();return C<12?"Good morning":C<18?"Good afternoon":"Good evening"};return c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"dashboard-container fade-in",children:[c.jsxs("div",{className:"card-header",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Student Dashboard"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-gray-600",children:[c.jsxs("span",{className:"font-medium",children:[q(),", ",f.full_name.split(" ")[0]]}),c.jsx("span",{children:"•"}),c.jsxs("span",{children:["Registration Number: ",f.student_id]}),c.jsx("span",{children:"•"}),c.jsx("span",{children:((z=f.departments)==null?void 0:z.name)||"Department not set"})]})]}),c.jsx("div",{className:"mt-4 md:mt-0",children:c.jsxs("button",{onClick:()=>s.auth.signOut(),className:"danger-button flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]}),c.jsx("div",{className:"mb-8 bg-blue-50 border-l-4 border-blue-500 p-4 rounded-md shadow-sm",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-blue-700",children:"Welcome to the SRMIST Examination Control Portal. Here you can submit and track your examination-related requests."})})]})}),c.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[c.jsx("div",{children:c.jsxs("div",{className:"glass-card p-6 card-hover",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Submit New Request"]}),c.jsx(Mx,{onRequestSubmitted:O})]})}),c.jsx("div",{children:c.jsx(qx,{refreshKey:m})})]})]})})}function zx(){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-blue-100 p-6",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("header",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-800",children:"SRMIST Examination Control Portal"}),c.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"A comprehensive system for managing examination-related requests"})]}),c.jsx("img",{src:"/favicon.ico",alt:"SRM Logo",className:"w-20 h-20 mt-4 md:mt-0"})]}),c.jsxs("div",{className:"mt-8 flex flex-wrap gap-4",children:[c.jsx(bi,{to:"/login",className:"primary-button",children:"Login to Portal"}),c.jsxs("a",{href:"https://github.com/yourusername/coe-qr",target:"_blank",rel:"noopener noreferrer",className:"secondary-button flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0012 2z"})}),"GitHub Repository"]})]})]}),c.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"System Overview"}),c.jsx("p",{className:"text-gray-700 mb-6",children:"The SRMIST Examination Control Portal is a comprehensive platform designed to streamline the process of submitting, tracking, and resolving examination-related requests. The system supports multiple user roles including students, department administrators, and super administrators."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),c.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Student Portal"})]}),c.jsx("p",{className:"text-gray-600",children:"Submit examination requests, track request status, and view response history."})]}),c.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),c.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Department Admin"})]}),c.jsx("p",{className:"text-gray-600",children:"Review and process requests, respond to students, and escalate complex issues to super admins."})]}),c.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),c.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Super Admin"})]}),c.jsx("p",{className:"text-gray-600",children:"Handle escalated requests, manage system settings, and oversee all departments."})]})]})]}),c.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-6",children:"Key Features"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"Request Management"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[c.jsx("li",{children:"Submit examination-related requests with supporting documents"}),c.jsx("li",{children:"Track request status in real-time"}),c.jsx("li",{children:"Categorize requests by type, priority, and department"}),c.jsx("li",{children:"Automated email notifications for status updates"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"Admin Dashboard"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[c.jsx("li",{children:"Comprehensive view of all pending requests"}),c.jsx("li",{children:"Filter and search capabilities"}),c.jsx("li",{children:"Request escalation workflow"}),c.jsx("li",{children:"Detailed response history tracking"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"User Management"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[c.jsx("li",{children:"Role-based access control"}),c.jsx("li",{children:"Secure authentication via Supabase"}),c.jsx("li",{children:"Profile management with avatar uploads"}),c.jsx("li",{children:"Department-specific permissions"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"Communication"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[c.jsx("li",{children:"Email notifications for request updates"}),c.jsx("li",{children:"File attachments for supporting documents"}),c.jsx("li",{children:"Serverless email delivery via Supabase Edge Functions"}),c.jsx("li",{children:"Beautifully formatted HTML emails"})]})]})]})]}),c.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Technology Stack"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Frontend"}),c.jsxs("ul",{className:"space-y-1 text-gray-600",children:[c.jsx("li",{children:"• React.js"}),c.jsx("li",{children:"• React Router"}),c.jsx("li",{children:"• Tailwind CSS"}),c.jsx("li",{children:"• Vite"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Backend"}),c.jsxs("ul",{className:"space-y-1 text-gray-600",children:[c.jsx("li",{children:"• Supabase"}),c.jsx("li",{children:"• PostgreSQL"}),c.jsx("li",{children:"• Row Level Security"}),c.jsx("li",{children:"• Edge Functions"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Authentication"}),c.jsxs("ul",{className:"space-y-1 text-gray-600",children:[c.jsx("li",{children:"• Supabase Auth"}),c.jsx("li",{children:"• JWT Tokens"}),c.jsx("li",{children:"• Role-based Access"}),c.jsx("li",{children:"• Secure Sessions"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Deployment"}),c.jsxs("ul",{className:"space-y-1 text-gray-600",children:[c.jsx("li",{children:"• Vercel/Netlify"}),c.jsx("li",{children:"• Supabase Cloud"}),c.jsx("li",{children:"• CI/CD Pipeline"}),c.jsx("li",{children:"• Environment Variables"})]})]})]})]}),c.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"System Architecture"}),c.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100 overflow-auto",children:c.jsx("pre",{className:"text-xs md:text-sm text-blue-800 whitespace-pre",children:`
┌───────────────────┐     ┌───────────────────┐     ┌───────────────────┐
│                   │     │                   │     │                   │
│   React Frontend  │◄────┤   Supabase Auth   │────►│  Supabase Storage │
│                   │     │                   │     │                   │
└─────────┬─────────┘     └───────────────────┘     └───────────────────┘
          │                          ▲                        ▲
          ▼                          │                        │
┌───────────────────┐                │                        │
│                   │                │                        │
│   React Router    │                │                        │
│                   │                │                        │
└─────────┬─────────┘                │                        │
          │                          │                        │
          ▼                          │                        │
┌───────────────────┐     ┌───────────────────┐     ┌───────────────────┐
│                   │     │                   │     │                   │
│  Component Layer  │────►│  Supabase Client  │────►│  Supabase Database│
│                   │     │                   │     │                   │
└───────────────────┘     └─────────┬─────────┘     └───────────────────┘
                                    │                        ▲
                                    ▼                        │
                          ┌───────────────────┐     ┌───────────────────┐
                          │                   │     │                   │
                          │  Edge Functions   │────►│   Email Service   │
                          │                   │     │                   │
                          └───────────────────┘     └───────────────────┘
`})})]}),c.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Getting Started"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-2",children:"Installation"}),c.jsx("div",{className:"bg-gray-800 text-gray-200 p-4 rounded-lg overflow-x-auto",children:c.jsxs("pre",{className:"text-sm",children:["$ git clone https://github.com/yourusername/coe-qr.git",c.jsx("br",{}),"$ cd coe-qr",c.jsx("br",{}),"$ npm install",c.jsx("br",{}),"$ npm run dev"]})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-2",children:"Environment Setup"}),c.jsxs("p",{className:"text-gray-700 mb-3",children:["Create a ",c.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-blue-600",children:".env"})," file in the root directory with the following variables:"]}),c.jsx("div",{className:"bg-gray-800 text-gray-200 p-4 rounded-lg overflow-x-auto",children:c.jsxs("pre",{className:"text-sm",children:["VITE_SUPABASE_URL=your_supabase_url",c.jsx("br",{}),"VITE_SUPABASE_ANON_KEY=your_supabase_anon_key",c.jsx("br",{}),"VITE_BREVO_API_KEY=your_brevo_api_key"]})})]}),c.jsx("div",{className:"flex justify-center mt-8",children:c.jsx(bi,{to:"/login",className:"primary-button",children:"Access the Portal"})})]})]}),c.jsx("footer",{className:"mt-12 text-center text-gray-600",children:c.jsxs("p",{children:["© ",new Date().getFullYear()," SRMIST Examination Control Portal. All rights reserved."]})})]})})}function Wu({element:o}){const{session:s,loading:l}=S.useContext(Ha);return l?c.jsx("div",{className:"page-container flex items-center justify-center",children:c.jsxs("div",{className:"glass-card p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?o:c.jsx(u0,{to:"/login",replace:!0})}function Bx(){const{session:o,authError:s,loading:l}=S.useContext(Ha),r=Gs(),u=Ba();return S.useEffect(()=>{o&&u.pathname==="/login"&&(console.log("User authenticated on login page, redirecting to home"),r("/home",{replace:!0}))},[o,r,u.pathname]),l?c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"glass-card p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Initializing..."})]})}):s?(console.error("Auth error:",s),c.jsx("div",{className:"page-container flex justify-center items-center",children:c.jsxs("div",{className:"glass-card p-8 w-full max-w-md text-center",children:[c.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Authentication Error"}),c.jsx("p",{className:"text-red-600 mb-6",children:s}),c.jsx("button",{onClick:()=>window.location.href="/login",className:"primary-button w-full",children:"Return to Login"})]})})):c.jsxs(Pv,{children:[c.jsx(fn,{path:"/login",element:c.jsx(Jm,{})}),c.jsx(fn,{path:"/home",element:c.jsx(Wu,{element:c.jsx(Lx,{})})}),c.jsx(fn,{path:"/profile-setup",element:c.jsx(Wu,{element:c.jsx(U0,{})})}),c.jsx(fn,{path:"/admin",element:c.jsx(Wu,{element:c.jsx(D0,{})})}),c.jsx(fn,{path:"/index",element:c.jsx(zx,{})}),c.jsx(fn,{path:"/",element:c.jsx(Jm,{})}),c.jsx(fn,{path:"*",element:c.jsx(u0,{to:"/",replace:!0})})]})}function Hx(){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-blue-100",children:c.jsx(Dx,{children:c.jsx(Bx,{})})})}sv.createRoot(document.getElementById("root")).render(c.jsx(Jp.StrictMode,{children:c.jsx(vy,{children:c.jsx(Hx,{})})}));
