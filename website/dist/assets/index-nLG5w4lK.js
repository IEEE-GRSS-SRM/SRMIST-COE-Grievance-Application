(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=l(c);fetch(c.href,f)}})();function hc(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Kp(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var s=o.default;if(typeof s=="function"){var l=function r(){return this instanceof r?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};l.prototype=s.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(o).forEach(function(r){var c=Object.getOwnPropertyDescriptor(o,r);Object.defineProperty(l,r,c.get?c:{enumerable:!0,get:function(){return o[r]}})}),l}var Lu={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Qp(){if(fm)return Gl;fm=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(r,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var v in c)v!=="key"&&(f[v]=c[v])}else f=c;return c=f.ref,{$$typeof:o,type:r,key:h,ref:c!==void 0?c:null,props:f}}return Gl.Fragment=s,Gl.jsx=l,Gl.jsxs=l,Gl}var hm;function Pp(){return hm||(hm=1,Lu.exports=Qp()),Lu.exports}var u=Pp(),zu={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function Zp(){if(mm)return he;mm=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,q={};function U(x,M,Y){this.props=x,this.context=M,this.refs=q,this.updater=Y||A}U.prototype.isReactComponent={},U.prototype.setState=function(x,M){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,M,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function V(){}V.prototype=U.prototype;function G(x,M,Y){this.props=x,this.context=M,this.refs=q,this.updater=Y||A}var D=G.prototype=new V;D.constructor=G,T(D,U.prototype),D.isPureReactComponent=!0;var X=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function oe(x,M,Y,Q,ee,P){return Y=P.ref,{$$typeof:o,type:x,key:M,ref:Y!==void 0?Y:null,props:P}}function me(x,M){return oe(x.type,M,void 0,void 0,void 0,x.props)}function Te(x){return typeof x=="object"&&x!==null&&x.$$typeof===o}function Qe(x){var M={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Y){return M[Y]})}var Pe=/\/+/g;function Se(x,M){return typeof x=="object"&&x!==null&&x.key!=null?Qe(""+x.key):M.toString(36)}function Ie(){}function nt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ie,Ie):(x.status="pending",x.then(function(M){x.status==="pending"&&(x.status="fulfilled",x.value=M)},function(M){x.status==="pending"&&(x.status="rejected",x.reason=M)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ze(x,M,Y,Q,ee){var P=typeof x;(P==="undefined"||P==="boolean")&&(x=null);var I=!1;if(x===null)I=!0;else switch(P){case"bigint":case"string":case"number":I=!0;break;case"object":switch(x.$$typeof){case o:case s:I=!0;break;case y:return I=x._init,ze(I(x._payload),M,Y,Q,ee)}}if(I)return ee=ee(x),I=Q===""?"."+Se(x,0):Q,X(ee)?(Y="",I!=null&&(Y=I.replace(Pe,"$&/")+"/"),ze(ee,M,Y,"",function(et){return et})):ee!=null&&(Te(ee)&&(ee=me(ee,Y+(ee.key==null||x&&x.key===ee.key?"":(""+ee.key).replace(Pe,"$&/")+"/")+I)),M.push(ee)),1;I=0;var te=Q===""?".":Q+":";if(X(x))for(var ve=0;ve<x.length;ve++)Q=x[ve],P=te+Se(Q,ve),I+=ze(Q,M,Y,P,ee);else if(ve=S(x),typeof ve=="function")for(x=ve.call(x),ve=0;!(Q=x.next()).done;)Q=Q.value,P=te+Se(Q,ve++),I+=ze(Q,M,Y,P,ee);else if(P==="object"){if(typeof x.then=="function")return ze(nt(x),M,Y,Q,ee);throw M=String(x),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return I}function L(x,M,Y){if(x==null)return x;var Q=[],ee=0;return ze(x,Q,"","",function(P){return M.call(Y,P,ee++)}),Q}function W(x){if(x._status===-1){var M=x._result;M=M(),M.then(function(Y){(x._status===0||x._status===-1)&&(x._status=1,x._result=Y)},function(Y){(x._status===0||x._status===-1)&&(x._status=2,x._result=Y)}),x._status===-1&&(x._status=0,x._result=M)}if(x._status===1)return x._result.default;throw x._result}var ae=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ge(){}return he.Children={map:L,forEach:function(x,M,Y){L(x,function(){M.apply(this,arguments)},Y)},count:function(x){var M=0;return L(x,function(){M++}),M},toArray:function(x){return L(x,function(M){return M})||[]},only:function(x){if(!Te(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},he.Component=U,he.Fragment=l,he.Profiler=c,he.PureComponent=G,he.StrictMode=r,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,he.__COMPILER_RUNTIME={__proto__:null,c:function(x){return K.H.useMemoCache(x)}},he.cache=function(x){return function(){return x.apply(null,arguments)}},he.cloneElement=function(x,M,Y){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Q=T({},x.props),ee=x.key,P=void 0;if(M!=null)for(I in M.ref!==void 0&&(P=void 0),M.key!==void 0&&(ee=""+M.key),M)!J.call(M,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&M.ref===void 0||(Q[I]=M[I]);var I=arguments.length-2;if(I===1)Q.children=Y;else if(1<I){for(var te=Array(I),ve=0;ve<I;ve++)te[ve]=arguments[ve+2];Q.children=te}return oe(x.type,ee,void 0,void 0,P,Q)},he.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},he.createElement=function(x,M,Y){var Q,ee={},P=null;if(M!=null)for(Q in M.key!==void 0&&(P=""+M.key),M)J.call(M,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ee[Q]=M[Q]);var I=arguments.length-2;if(I===1)ee.children=Y;else if(1<I){for(var te=Array(I),ve=0;ve<I;ve++)te[ve]=arguments[ve+2];ee.children=te}if(x&&x.defaultProps)for(Q in I=x.defaultProps,I)ee[Q]===void 0&&(ee[Q]=I[Q]);return oe(x,P,void 0,void 0,null,ee)},he.createRef=function(){return{current:null}},he.forwardRef=function(x){return{$$typeof:v,render:x}},he.isValidElement=Te,he.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:W}},he.memo=function(x,M){return{$$typeof:m,type:x,compare:M===void 0?null:M}},he.startTransition=function(x){var M=K.T,Y={};K.T=Y;try{var Q=x(),ee=K.S;ee!==null&&ee(Y,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ge,ae)}catch(P){ae(P)}finally{K.T=M}},he.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},he.use=function(x){return K.H.use(x)},he.useActionState=function(x,M,Y){return K.H.useActionState(x,M,Y)},he.useCallback=function(x,M){return K.H.useCallback(x,M)},he.useContext=function(x){return K.H.useContext(x)},he.useDebugValue=function(){},he.useDeferredValue=function(x,M){return K.H.useDeferredValue(x,M)},he.useEffect=function(x,M,Y){var Q=K.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(x,M)},he.useId=function(){return K.H.useId()},he.useImperativeHandle=function(x,M,Y){return K.H.useImperativeHandle(x,M,Y)},he.useInsertionEffect=function(x,M){return K.H.useInsertionEffect(x,M)},he.useLayoutEffect=function(x,M){return K.H.useLayoutEffect(x,M)},he.useMemo=function(x,M){return K.H.useMemo(x,M)},he.useOptimistic=function(x,M){return K.H.useOptimistic(x,M)},he.useReducer=function(x,M,Y){return K.H.useReducer(x,M,Y)},he.useRef=function(x){return K.H.useRef(x)},he.useState=function(x){return K.H.useState(x)},he.useSyncExternalStore=function(x,M,Y){return K.H.useSyncExternalStore(x,M,Y)},he.useTransition=function(){return K.H.useTransition()},he.version="19.1.1",he}var gm;function mc(){return gm||(gm=1,zu.exports=Zp()),zu.exports}var j=mc();const Jp=hc(j);var Bu={exports:{}},Yl={},Hu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function Wp(){return pm||(pm=1,(function(o){function s(L,W){var ae=L.length;L.push(W);e:for(;0<ae;){var ge=ae-1>>>1,x=L[ge];if(0<c(x,W))L[ge]=W,L[ae]=x,ae=ge;else break e}}function l(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],ae=L.pop();if(ae!==W){L[0]=ae;e:for(var ge=0,x=L.length,M=x>>>1;ge<M;){var Y=2*(ge+1)-1,Q=L[Y],ee=Y+1,P=L[ee];if(0>c(Q,ae))ee<x&&0>c(P,Q)?(L[ge]=P,L[ee]=ae,ge=ee):(L[ge]=Q,L[Y]=ae,ge=Y);else if(ee<x&&0>c(P,ae))L[ge]=P,L[ee]=ae,ge=ee;else break e}}return W}function c(L,W){var ae=L.sortIndex-W.sortIndex;return ae!==0?ae:L.id-W.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var h=Date,v=h.now();o.unstable_now=function(){return h.now()-v}}var g=[],m=[],y=1,w=null,S=3,A=!1,T=!1,q=!1,U=!1,V=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function X(L){for(var W=l(m);W!==null;){if(W.callback===null)r(m);else if(W.startTime<=L)r(m),W.sortIndex=W.expirationTime,s(g,W);else break;W=l(m)}}function K(L){if(q=!1,X(L),!T)if(l(g)!==null)T=!0,J||(J=!0,Se());else{var W=l(m);W!==null&&ze(K,W.startTime-L)}}var J=!1,oe=-1,me=5,Te=-1;function Qe(){return U?!0:!(o.unstable_now()-Te<me)}function Pe(){if(U=!1,J){var L=o.unstable_now();Te=L;var W=!0;try{e:{T=!1,q&&(q=!1,G(oe),oe=-1),A=!0;var ae=S;try{t:{for(X(L),w=l(g);w!==null&&!(w.expirationTime>L&&Qe());){var ge=w.callback;if(typeof ge=="function"){w.callback=null,S=w.priorityLevel;var x=ge(w.expirationTime<=L);if(L=o.unstable_now(),typeof x=="function"){w.callback=x,X(L),W=!0;break t}w===l(g)&&r(g),X(L)}else r(g);w=l(g)}if(w!==null)W=!0;else{var M=l(m);M!==null&&ze(K,M.startTime-L),W=!1}}break e}finally{w=null,S=ae,A=!1}W=void 0}}finally{W?Se():J=!1}}}var Se;if(typeof D=="function")Se=function(){D(Pe)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,nt=Ie.port2;Ie.port1.onmessage=Pe,Se=function(){nt.postMessage(null)}}else Se=function(){V(Pe,0)};function ze(L,W){oe=V(function(){L(o.unstable_now())},W)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(L){L.callback=null},o.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<L?Math.floor(1e3/L):5},o.unstable_getCurrentPriorityLevel=function(){return S},o.unstable_next=function(L){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var ae=S;S=W;try{return L()}finally{S=ae}},o.unstable_requestPaint=function(){U=!0},o.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ae=S;S=L;try{return W()}finally{S=ae}},o.unstable_scheduleCallback=function(L,W,ae){var ge=o.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ge+ae:ge):ae=ge,L){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ae+x,L={id:y++,callback:W,priorityLevel:L,startTime:ae,expirationTime:x,sortIndex:-1},ae>ge?(L.sortIndex=ae,s(m,L),l(g)===null&&L===l(m)&&(q?(G(oe),oe=-1):q=!0,ze(K,ae-ge))):(L.sortIndex=x,s(g,L),T||A||(T=!0,J||(J=!0,Se()))),L},o.unstable_shouldYield=Qe,o.unstable_wrapCallback=function(L){var W=S;return function(){var ae=S;S=W;try{return L.apply(this,arguments)}finally{S=ae}}}})($u)),$u}var vm;function Fp(){return vm||(vm=1,Hu.exports=Wp()),Hu.exports}var Gu={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function Ip(){if(ym)return Nt;ym=1;var o=mc();function s(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,m,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:g,containerInfo:m,implementation:y}}var h=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nt.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(s(299));return f(g,m,null,y)},Nt.flushSync=function(g){var m=h.T,y=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=m,r.p=y,r.d.f()}},Nt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},Nt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Nt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,w=v(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:A}):y==="script"&&r.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Nt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=v(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},Nt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,w=v(y,m.crossOrigin);r.d.L(g,y,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Nt.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=v(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},Nt.requestFormReset=function(g){r.d.r(g)},Nt.unstable_batchedUpdates=function(g,m){return g(m)},Nt.useFormState=function(g,m,y){return h.H.useFormState(g,m,y)},Nt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Nt.version="19.1.1",Nt}var bm;function ev(){if(bm)return Gu.exports;bm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),Gu.exports=Ip(),Gu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function tv(){if(xm)return Yl;xm=1;var o=Fp(),s=mc(),l=ev();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(f(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var d=i.alternate;if(d===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===d.child){for(d=i.child;d;){if(d===a)return v(i),e;if(d===n)return v(i),t;d=d.sibling}throw Error(r(188))}if(a.return!==n.return)a=i,n=d;else{for(var p=!1,b=i.child;b;){if(b===a){p=!0,a=i,n=d;break}if(b===n){p=!0,n=i,a=d;break}b=b.sibling}if(!p){for(b=d.child;b;){if(b===a){p=!0,a=d,n=i;break}if(b===n){p=!0,n=d,a=i;break}b=b.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),D=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),Te=Symbol.for("react.activity"),Qe=Symbol.for("react.memo_cache_sentinel"),Pe=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=Pe&&e[Pe]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case U:return"Profiler";case q:return"StrictMode";case K:return"Suspense";case J:return"SuspenseList";case Te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case D:return(e.displayName||"Context")+".Provider";case G:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return t=e.displayName||null,t!==null?t:nt(e.type)||"Memo";case me:t=e._payload,e=e._init;try{return nt(e(t))}catch{}}return null}var ze=Array.isArray,L=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ge=[],x=-1;function M(e){return{current:e}}function Y(e){0>x||(e.current=ge[x],ge[x]=null,x--)}function Q(e,t){x++,ge[x]=e.current,e.current=t}var ee=M(null),P=M(null),I=M(null),te=M(null);function ve(e,t){switch(Q(I,t),Q(P,e),Q(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Hh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Hh(t),e=$h(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ee),Q(ee,e)}function et(){Y(ee),Y(P),Y(I)}function Ce(e){e.memoizedState!==null&&Q(te,e);var t=ee.current,a=$h(t,e.type);t!==a&&(Q(P,e),Q(ee,a))}function $e(e){P.current===e&&(Y(ee),Y(P)),te.current===e&&(Y(te),Ll._currentValue=ae)}var Lt=Object.prototype.hasOwnProperty,Ba=o.unstable_scheduleCallback,pn=o.unstable_cancelCallback,le=o.unstable_shouldYield,fe=o.unstable_requestPaint,De=o.unstable_now,Ot=o.unstable_getCurrentPriorityLevel,va=o.unstable_ImmediatePriority,Ha=o.unstable_UserBlockingPriority,ta=o.unstable_NormalPriority,rt=o.unstable_LowPriority,$a=o.unstable_IdlePriority,Gn=o.log,aa=o.unstable_setDisableYieldValue,kt=null,Ne=null;function jt(e){if(typeof Gn=="function"&&aa(e),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(kt,e)}catch{}}var it=Math.clz32?Math.clz32:tr,vn=Math.log,Yn=Math.LN2;function tr(e){return e>>>=0,e===0?32:31-(vn(e)/Yn|0)|0}var yn=256,$=4194304;function Z(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function F(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=n&134217727;return b!==0?(n=b&~d,n!==0?i=Z(n):(p&=b,p!==0?i=Z(p):a||(a=b&~e,a!==0&&(i=Z(a))))):(b=n&~d,b!==0?i=Z(b):p!==0?i=Z(p):a||(a=n&~e,a!==0&&(i=Z(a)))),i===0?0:t!==0&&t!==i&&(t&d)===0&&(d=i&-i,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:i}function ce(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ze(){var e=yn;return yn<<=1,(yn&4194048)===0&&(yn=256),e}function ot(){var e=$;return $<<=1,($&62914560)===0&&($=4194304),e}function Ge(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ye(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function St(e,t,a,n,i,d){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,_=e.expirationTimes,O=e.hiddenUpdates;for(a=p&~a;0<a;){var z=31-it(a),H=1<<z;b[z]=0,_[z]=-1;var k=O[z];if(k!==null)for(O[z]=null,z=0;z<k.length;z++){var C=k[z];C!==null&&(C.lane&=-536870913)}a&=~H}n!==0&&bt(e,n,0),d!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~t))}function bt(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-it(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Tt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-it(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function ht(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vn(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:rm(e.type))}function Qs(e,t){var a=W.p;try{return W.p=e,t()}finally{W.p=a}}var _e=Math.random().toString(36).slice(2),Ve="__reactFiber$"+_e,Ct="__reactProps$"+_e,Xn="__reactContainer$"+_e,Ri="__reactEvents$"+_e,q0="__reactListeners$"+_e,L0="__reactHandles$"+_e,Tc="__reactResources$"+_e,Ps="__reactMarker$"+_e;function Ai(e){delete e[Ve],delete e[Ct],delete e[Ri],delete e[q0],delete e[L0]}function Kn(e){var t=e[Ve];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Xn]||a[Ve]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Xh(e);e!==null;){if(a=e[Ve])return a;e=Xh(e)}return t}e=a,a=e.parentNode}return null}function Qn(e){if(e=e[Ve]||e[Xn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Zs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Pn(e){var t=e[Tc];return t||(t=e[Tc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Ps]=!0}var Rc=new Set,Ac={};function bn(e,t){Zn(e,t),Zn(e+"Capture",t)}function Zn(e,t){for(Ac[e]=t,e=0;e<t.length;e++)Rc.add(t[e])}var z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oc={},kc={};function B0(e){return Lt.call(kc,e)?!0:Lt.call(Oc,e)?!1:z0.test(e)?kc[e]=!0:(Oc[e]=!0,!1)}function ar(e,t,a){if(B0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function nr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ya(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Oi,Cc;function Jn(e){if(Oi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Oi=t&&t[1]||"",Cc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oi+e+Cc}var ki=!1;function Ci(e,t){if(!e||ki)return"";ki=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(C){var k=C}Reflect.construct(e,[],H)}else{try{H.call()}catch(C){k=C}e.call(H.prototype)}}else{try{throw Error()}catch(C){k=C}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(C){if(C&&k&&typeof C.stack=="string")return[C.stack,k.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=n.DetermineComponentFrameRoot(),p=d[0],b=d[1];if(p&&b){var _=p.split(`
`),O=b.split(`
`);for(i=n=0;n<_.length&&!_[n].includes("DetermineComponentFrameRoot");)n++;for(;i<O.length&&!O[i].includes("DetermineComponentFrameRoot");)i++;if(n===_.length||i===O.length)for(n=_.length-1,i=O.length-1;1<=n&&0<=i&&_[n]!==O[i];)i--;for(;1<=n&&0<=i;n--,i--)if(_[n]!==O[i]){if(n!==1||i!==1)do if(n--,i--,0>i||_[n]!==O[i]){var z=`
`+_[n].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=n&&0<=i);break}}}finally{ki=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Jn(a):""}function H0(e){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Ci(e.type,!1);case 11:return Ci(e.type.render,!1);case 1:return Ci(e.type,!0);case 31:return Jn("Activity");default:return""}}function Dc(e){try{var t="";do t+=H0(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $0(e){var t=Uc(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sr(e){e._valueTracker||(e._valueTracker=$0(e))}function Mc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Uc(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function lr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var G0=/[\n"\\]/g;function Qt(e){return e.replace(G0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Di(e,t,a,n,i,d,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Ui(e,p,Kt(t)):a!=null?Ui(e,p,Kt(a)):n!=null&&e.removeAttribute("value"),i==null&&d!=null&&(e.defaultChecked=!!d),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Kt(b):e.removeAttribute("name")}function qc(e,t,a,n,i,d,p,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+Kt(a):"",t=t!=null?""+Kt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=b?e.checked:!!n,e.defaultChecked=!!n,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function Ui(e,t,a){t==="number"&&lr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Wn(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Kt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lc(e,t,a){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Kt(a):""}function zc(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(r(92));if(ze(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Kt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Fn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Y0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Y0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Hc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&Bc(e,i,n)}else for(var d in t)t.hasOwnProperty(d)&&Bc(e,d,t[d])}function Mi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(e){return X0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var qi=null;function Li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var In=null,es=null;function $c(e){var t=Qn(e);if(t&&(e=t.stateNode)){var a=e[Ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(Di(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Qt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[Ct]||null;if(!i)throw Error(r(90));Di(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Mc(n)}break e;case"textarea":Lc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Wn(e,!!a.multiple,t,!1)}}}var zi=!1;function Gc(e,t,a){if(zi)return e(t,a);zi=!0;try{var n=e(t);return n}finally{if(zi=!1,(In!==null||es!==null)&&(Xr(),In&&(t=In,e=es,es=In=null,$c(t),e)))for(t=0;t<e.length;t++)$c(e[t])}}function Js(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Ct]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bi=!1;if(ba)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Bi=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Bi=!1}var Ga=null,Hi=null,ir=null;function Yc(){if(ir)return ir;var e,t=Hi,a=t.length,n,i="value"in Ga?Ga.value:Ga.textContent,d=i.length;for(e=0;e<a&&t[e]===i[e];e++);var p=a-e;for(n=1;n<=p&&t[a-n]===i[d-n];n++);return ir=i.slice(e,1<n?1-n:void 0)}function or(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ur(){return!0}function Vc(){return!1}function Dt(e){function t(a,n,i,d,p){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:Vc,this.isPropagationStopped=Vc,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),t}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=Dt(xn),Fs=y({},xn,{view:0,detail:0}),K0=Dt(Fs),$i,Gi,Is,dr=y({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Is&&(Is&&e.type==="mousemove"?($i=e.screenX-Is.screenX,Gi=e.screenY-Is.screenY):Gi=$i=0,Is=e),$i)},movementY:function(e){return"movementY"in e?e.movementY:Gi}}),Xc=Dt(dr),Q0=y({},dr,{dataTransfer:0}),P0=Dt(Q0),Z0=y({},Fs,{relatedTarget:0}),Yi=Dt(Z0),J0=y({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=Dt(J0),F0=y({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I0=Dt(F0),eg=y({},xn,{data:0}),Kc=Dt(eg),tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ng[e])?!!t[e]:!1}function Vi(){return sg}var lg=y({},Fs,{key:function(e){if(e.key){var t=tg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vi,charCode:function(e){return e.type==="keypress"?or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rg=Dt(lg),ig=y({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=Dt(ig),og=y({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vi}),ug=Dt(og),cg=y({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dg=Dt(cg),fg=y({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hg=Dt(fg),mg=y({},xn,{newState:0,oldState:0}),gg=Dt(mg),pg=[9,13,27,32],Xi=ba&&"CompositionEvent"in window,el=null;ba&&"documentMode"in document&&(el=document.documentMode);var vg=ba&&"TextEvent"in window&&!el,Pc=ba&&(!Xi||el&&8<el&&11>=el),Zc=" ",Jc=!1;function Wc(e,t){switch(e){case"keyup":return pg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function yg(e,t){switch(e){case"compositionend":return Fc(t);case"keypress":return t.which!==32?null:(Jc=!0,Zc);case"textInput":return e=t.data,e===Zc&&Jc?null:e;default:return null}}function bg(e,t){if(ts)return e==="compositionend"||!Xi&&Wc(e,t)?(e=Yc(),ir=Hi=Ga=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pc&&t.locale!=="ko"?null:t.data;default:return null}}var xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xg[e.type]:t==="textarea"}function ed(e,t,a,n){In?es?es.push(n):es=[n]:In=n,t=Wr(t,"onChange"),0<t.length&&(a=new cr("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var tl=null,al=null;function wg(e){Mh(e,0)}function fr(e){var t=Zs(e);if(Mc(t))return e}function td(e,t){if(e==="change")return t}var ad=!1;if(ba){var Ki;if(ba){var Qi="oninput"in document;if(!Qi){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),Qi=typeof nd.oninput=="function"}Ki=Qi}else Ki=!1;ad=Ki&&(!document.documentMode||9<document.documentMode)}function sd(){tl&&(tl.detachEvent("onpropertychange",ld),al=tl=null)}function ld(e){if(e.propertyName==="value"&&fr(al)){var t=[];ed(t,al,e,Li(e)),Gc(wg,t)}}function _g(e,t,a){e==="focusin"?(sd(),tl=t,al=a,tl.attachEvent("onpropertychange",ld)):e==="focusout"&&sd()}function jg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fr(al)}function Sg(e,t){if(e==="click")return fr(t)}function Eg(e,t){if(e==="input"||e==="change")return fr(t)}function Ng(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Ng;function nl(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!Lt.call(t,i)||!Bt(e[i],t[i]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function id(e,t){var a=rd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rd(a)}}function od(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?od(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ud(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=lr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=lr(e.document)}return t}function Pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Tg=ba&&"documentMode"in document&&11>=document.documentMode,as=null,Zi=null,sl=null,Ji=!1;function cd(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ji||as==null||as!==lr(n)||(n=as,"selectionStart"in n&&Pi(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sl&&nl(sl,n)||(sl=n,n=Wr(Zi,"onSelect"),0<n.length&&(t=new cr("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=as)))}function wn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ns={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionrun:wn("Transition","TransitionRun"),transitionstart:wn("Transition","TransitionStart"),transitioncancel:wn("Transition","TransitionCancel"),transitionend:wn("Transition","TransitionEnd")},Wi={},dd={};ba&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function _n(e){if(Wi[e])return Wi[e];if(!ns[e])return e;var t=ns[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in dd)return Wi[e]=t[a];return e}var fd=_n("animationend"),hd=_n("animationiteration"),md=_n("animationstart"),Rg=_n("transitionrun"),Ag=_n("transitionstart"),Og=_n("transitioncancel"),gd=_n("transitionend"),pd=new Map,Fi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fi.push("scrollEnd");function na(e,t){pd.set(e,t),bn(t,[e])}var vd=new WeakMap;function Pt(e,t){if(typeof e=="object"&&e!==null){var a=vd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Dc(t)},vd.set(e,t),t)}return{value:e,source:t,stack:Dc(t)}}var Zt=[],ss=0,Ii=0;function hr(){for(var e=ss,t=Ii=ss=0;t<e;){var a=Zt[t];Zt[t++]=null;var n=Zt[t];Zt[t++]=null;var i=Zt[t];Zt[t++]=null;var d=Zt[t];if(Zt[t++]=null,n!==null&&i!==null){var p=n.pending;p===null?i.next=i:(i.next=p.next,p.next=i),n.pending=i}d!==0&&yd(a,i,d)}}function mr(e,t,a,n){Zt[ss++]=e,Zt[ss++]=t,Zt[ss++]=a,Zt[ss++]=n,Ii|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function eo(e,t,a,n){return mr(e,t,a,n),gr(e)}function ls(e,t){return mr(e,null,null,t),gr(e)}function yd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,d=e.return;d!==null;)d.childLanes|=a,n=d.alternate,n!==null&&(n.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(i=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,i&&t!==null&&(i=31-it(a),e=d.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),d):null}function gr(e){if(50<Al)throw Al=0,iu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var rs={};function kg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,a,n){return new kg(e,t,a,n)}function to(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xa(e,t){var a=e.alternate;return a===null?(a=Ht(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function bd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function pr(e,t,a,n,i,d){var p=0;if(n=e,typeof e=="function")to(e)&&(p=1);else if(typeof e=="string")p=Dp(e,a,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Te:return e=Ht(31,a,t,i),e.elementType=Te,e.lanes=d,e;case T:return jn(a.children,i,d,t);case q:p=8,i|=24;break;case U:return e=Ht(12,a,t,i|2),e.elementType=U,e.lanes=d,e;case K:return e=Ht(13,a,t,i),e.elementType=K,e.lanes=d,e;case J:return e=Ht(19,a,t,i),e.elementType=J,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:case D:p=10;break e;case G:p=9;break e;case X:p=11;break e;case oe:p=14;break e;case me:p=16,n=null;break e}p=29,a=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=Ht(p,a,t,i),t.elementType=e,t.type=n,t.lanes=d,t}function jn(e,t,a,n){return e=Ht(7,e,n,t),e.lanes=a,e}function ao(e,t,a){return e=Ht(6,e,null,t),e.lanes=a,e}function no(e,t,a){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var is=[],os=0,vr=null,yr=0,Jt=[],Wt=0,Sn=null,wa=1,_a="";function En(e,t){is[os++]=yr,is[os++]=vr,vr=e,yr=t}function xd(e,t,a){Jt[Wt++]=wa,Jt[Wt++]=_a,Jt[Wt++]=Sn,Sn=e;var n=wa;e=_a;var i=32-it(n)-1;n&=~(1<<i),a+=1;var d=32-it(t)+i;if(30<d){var p=i-i%5;d=(n&(1<<p)-1).toString(32),n>>=p,i-=p,wa=1<<32-it(t)+i|a<<i|n,_a=d+e}else wa=1<<d|a<<i|n,_a=e}function so(e){e.return!==null&&(En(e,1),xd(e,1,0))}function lo(e){for(;e===vr;)vr=is[--os],is[os]=null,yr=is[--os],is[os]=null;for(;e===Sn;)Sn=Jt[--Wt],Jt[Wt]=null,_a=Jt[--Wt],Jt[Wt]=null,wa=Jt[--Wt],Jt[Wt]=null}var Rt=null,We=null,Ae=!1,Nn=null,ca=!1,ro=Error(r(519));function Tn(e){var t=Error(r(418,""));throw il(Pt(t,e)),ro}function wd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Ve]=e,t[Ct]=n,a){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(a=0;a<kl.length;a++)xe(kl[a],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),qc(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),sr(t);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),zc(t,n.value,n.defaultValue,n.children),sr(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Bh(t.textContent,a)?(n.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),n.onScroll!=null&&xe("scroll",t),n.onScrollEnd!=null&&xe("scrollend",t),n.onClick!=null&&(t.onclick=Fr),t=!0):t=!1,t||Tn(e)}function _d(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:Rt=Rt.return}}function ll(e){if(e!==Rt)return!1;if(!Ae)return _d(e),Ae=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ju(e.type,e.memoizedProps)),a=!a),a&&We&&Tn(e),_d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){We=la(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}We=null}}else t===27?(t=We,sn(e.type)?(e=Tu,Tu=null,We=e):We=t):We=Rt?la(e.stateNode.nextSibling):null;return!0}function rl(){We=Rt=null,Ae=!1}function jd(){var e=Nn;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),Nn=null),e}function il(e){Nn===null?Nn=[e]:Nn.push(e)}var io=M(null),Rn=null,ja=null;function Ya(e,t,a){Q(io,t._currentValue),t._currentValue=a}function Sa(e){e._currentValue=io.current,Y(io)}function oo(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function uo(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var d=i.dependencies;if(d!==null){var p=i.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=i;for(var _=0;_<t.length;_++)if(b.context===t[_]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),oo(d.return,a,e),n||(p=null);break e}d=b.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(r(341));p.lanes|=a,d=p.alternate,d!==null&&(d.lanes|=a),oo(p,a,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function ol(e,t,a,n){e=null;for(var i=t,d=!1;i!==null;){if(!d){if((i.flags&524288)!==0)d=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var b=i.type;Bt(i.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(i===te.current){if(p=i.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ll):e=[Ll])}i=i.return}e!==null&&uo(t,e,a,n),t.flags|=262144}function br(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function An(e){Rn=e,ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return Sd(Rn,e)}function xr(e,t){return Rn===null&&An(e),Sd(e,t)}function Sd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ja===null){if(e===null)throw Error(r(308));ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ja=ja.next=t;return a}var Cg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Dg=o.unstable_scheduleCallback,Ug=o.unstable_NormalPriority,ut={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function co(){return{controller:new Cg,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&Dg(Ug,function(){e.controller.abort()})}var cl=null,fo=0,us=0,cs=null;function Mg(e,t){if(cl===null){var a=cl=[];fo=0,us=mu(),cs={status:"pending",value:void 0,then:function(n){a.push(n)}}}return fo++,t.then(Ed,Ed),t}function Ed(){if(--fo===0&&cl!==null){cs!==null&&(cs.status="fulfilled");var e=cl;cl=null,us=0,cs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Nd=L.S;L.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mg(e,t),Nd!==null&&Nd(e,t)};var On=M(null);function ho(){var e=On.current;return e!==null?e:Be.pooledCache}function wr(e,t){t===null?Q(On,On.current):Q(On,t.pool)}function Td(){var e=ho();return e===null?null:{parent:ut._currentValue,pool:e}}var dl=Error(r(460)),Rd=Error(r(474)),_r=Error(r(542)),mo={then:function(){}};function Ad(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jr(){}function Od(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(jr,jr),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e;default:if(typeof t.status=="string")t.then(jr,jr);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e}throw fl=t,dl}}var fl=null;function kd(){if(fl===null)throw Error(r(459));var e=fl;return fl=null,e}function Cd(e){if(e===dl||e===_r)throw Error(r(483))}var Va=!1;function go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ka(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Oe&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=gr(e),yd(e,null,a),t}return mr(e,n,t,a),gr(e)}function hl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Tt(e,a)}}function vo(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?i=d=p:d=d.next=p,a=a.next}while(a!==null);d===null?i=d=t:d=d.next=t}else i=d=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:d,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var yo=!1;function ml(){if(yo){var e=cs;if(e!==null)throw e}}function gl(e,t,a,n){yo=!1;var i=e.updateQueue;Va=!1;var d=i.firstBaseUpdate,p=i.lastBaseUpdate,b=i.shared.pending;if(b!==null){i.shared.pending=null;var _=b,O=_.next;_.next=null,p===null?d=O:p.next=O,p=_;var z=e.alternate;z!==null&&(z=z.updateQueue,b=z.lastBaseUpdate,b!==p&&(b===null?z.firstBaseUpdate=O:b.next=O,z.lastBaseUpdate=_))}if(d!==null){var H=i.baseState;p=0,z=O=_=null,b=d;do{var k=b.lane&-536870913,C=k!==b.lane;if(C?(Ee&k)===k:(n&k)===k){k!==0&&k===us&&(yo=!0),z!==null&&(z=z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ue=e,re=b;k=t;var qe=a;switch(re.tag){case 1:if(ue=re.payload,typeof ue=="function"){H=ue.call(qe,H,k);break e}H=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=re.payload,k=typeof ue=="function"?ue.call(qe,H,k):ue,k==null)break e;H=y({},H,k);break e;case 2:Va=!0}}k=b.callback,k!==null&&(e.flags|=64,C&&(e.flags|=8192),C=i.callbacks,C===null?i.callbacks=[k]:C.push(k))}else C={lane:k,tag:b.tag,payload:b.payload,callback:b.callback,next:null},z===null?(O=z=C,_=H):z=z.next=C,p|=k;if(b=b.next,b===null){if(b=i.shared.pending,b===null)break;C=b,b=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(!0);z===null&&(_=H),i.baseState=_,i.firstBaseUpdate=O,i.lastBaseUpdate=z,d===null&&(i.shared.lanes=0),en|=p,e.lanes=p,e.memoizedState=H}}function Dd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Ud(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dd(a[e],t)}var ds=M(null),Sr=M(0);function Md(e,t){e=ka,Q(Sr,e),Q(ds,t),ka=e|t.baseLanes}function bo(){Q(Sr,ka),Q(ds,ds.current)}function xo(){ka=Sr.current,Y(ds),Y(Sr)}var Qa=0,pe=null,Ue=null,st=null,Er=!1,fs=!1,kn=!1,Nr=0,pl=0,hs=null,Lg=0;function tt(){throw Error(r(321))}function wo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Bt(e[a],t[a]))return!1;return!0}function _o(e,t,a,n,i,d){return Qa=d,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?bf:xf,kn=!1,d=a(n,i),kn=!1,fs&&(d=Ld(t,a,n,i)),qd(e),d}function qd(e){L.H=Cr;var t=Ue!==null&&Ue.next!==null;if(Qa=0,st=Ue=pe=null,Er=!1,pl=0,hs=null,t)throw Error(r(300));e===null||gt||(e=e.dependencies,e!==null&&br(e)&&(gt=!0))}function Ld(e,t,a,n){pe=e;var i=0;do{if(fs&&(hs=null),pl=0,fs=!1,25<=i)throw Error(r(301));if(i+=1,st=Ue=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=Vg,d=t(a,n)}while(fs);return d}function zg(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?vl(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(pe.flags|=1024),t}function jo(){var e=Nr!==0;return Nr=0,e}function So(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Eo(e){if(Er){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Er=!1}Qa=0,st=Ue=pe=null,fs=!1,pl=Nr=0,hs=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?pe.memoizedState=st=e:st=st.next=e,st}function lt(){if(Ue===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=st===null?pe.memoizedState:st.next;if(t!==null)st=t,Ue=e;else{if(e===null)throw pe.alternate===null?Error(r(467)):Error(r(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},st===null?pe.memoizedState=st=e:st=st.next=e}return st}function No(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var t=pl;return pl+=1,hs===null&&(hs=[]),e=Od(hs,e,t),t=pe,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?bf:xf),e}function Tr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===D)return Et(e)}throw Error(r(438,String(e)))}function To(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=pe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=No(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Qe;return t.index++,a}function Ea(e,t){return typeof t=="function"?t(e):t}function Rr(e){var t=lt();return Ro(t,Ue,e)}function Ro(e,t,a){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var i=e.baseQueue,d=n.pending;if(d!==null){if(i!==null){var p=i.next;i.next=d.next,d.next=p}t.baseQueue=i=d,n.pending=null}if(d=e.baseState,i===null)e.memoizedState=d;else{t=i.next;var b=p=null,_=null,O=t,z=!1;do{var H=O.lane&-536870913;if(H!==O.lane?(Ee&H)===H:(Qa&H)===H){var k=O.revertLane;if(k===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),H===us&&(z=!0);else if((Qa&k)===k){O=O.next,k===us&&(z=!0);continue}else H={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},_===null?(b=_=H,p=d):_=_.next=H,pe.lanes|=k,en|=k;H=O.action,kn&&a(d,H),d=O.hasEagerState?O.eagerState:a(d,H)}else k={lane:H,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},_===null?(b=_=k,p=d):_=_.next=k,pe.lanes|=H,en|=H;O=O.next}while(O!==null&&O!==t);if(_===null?p=d:_.next=b,!Bt(d,e.memoizedState)&&(gt=!0,z&&(a=cs,a!==null)))throw a;e.memoizedState=d,e.baseState=p,e.baseQueue=_,n.lastRenderedState=d}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ao(e){var t=lt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,d=t.memoizedState;if(i!==null){a.pending=null;var p=i=i.next;do d=e(d,p.action),p=p.next;while(p!==i);Bt(d,t.memoizedState)||(gt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,n]}function zd(e,t,a){var n=pe,i=lt(),d=Ae;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=t();var p=!Bt((Ue||i).memoizedState,a);p&&(i.memoizedState=a,gt=!0),i=i.queue;var b=$d.bind(null,n,i,e);if(yl(2048,8,b,[e]),i.getSnapshot!==t||p||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,ms(9,Ar(),Hd.bind(null,n,i,a,t),null),Be===null)throw Error(r(349));d||(Qa&124)!==0||Bd(n,t,a)}return a}function Bd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=No(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Hd(e,t,a,n){t.value=a,t.getSnapshot=n,Gd(t)&&Yd(e)}function $d(e,t,a){return a(function(){Gd(t)&&Yd(e)})}function Gd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Bt(e,a)}catch{return!0}}function Yd(e){var t=ls(e,2);t!==null&&Xt(t,e,2)}function Oo(e){var t=Ut();if(typeof e=="function"){var a=e;if(e=a(),kn){jt(!0);try{a()}finally{jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t}function Vd(e,t,a,n){return e.baseState=a,Ro(e,Ue,typeof n=="function"?n:Ea)}function Bg(e,t,a,n,i){if(kr(e))throw Error(r(485));if(e=t.action,e!==null){var d={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};L.T!==null?a(!0):d.isTransition=!1,n(d),a=t.pending,a===null?(d.next=t.pending=d,Xd(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Xd(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var d=L.T,p={};L.T=p;try{var b=a(i,n),_=L.S;_!==null&&_(p,b),Kd(e,t,b)}catch(O){ko(e,t,O)}finally{L.T=d}}else try{d=a(i,n),Kd(e,t,d)}catch(O){ko(e,t,O)}}function Kd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Qd(e,t,n)},function(n){return ko(e,t,n)}):Qd(e,t,a)}function Qd(e,t,a){t.status="fulfilled",t.value=a,Pd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Xd(e,a)))}function ko(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Pd(t),t=t.next;while(t!==n)}e.action=null}function Pd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zd(e,t){return t}function Jd(e,t){if(Ae){var a=Be.formState;if(a!==null){e:{var n=pe;if(Ae){if(We){t:{for(var i=We,d=ca;i.nodeType!==8;){if(!d){i=null;break t}if(i=la(i.nextSibling),i===null){i=null;break t}}d=i.data,i=d==="F!"||d==="F"?i:null}if(i){We=la(i.nextSibling),n=i.data==="F!";break e}}Tn(n)}n=!1}n&&(t=a[0])}}return a=Ut(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:t},a.queue=n,a=pf.bind(null,pe,n),n.dispatch=a,n=Oo(!1),d=qo.bind(null,pe,!1,n.queue),n=Ut(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=Bg.bind(null,pe,i,d,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function Wd(e){var t=lt();return Fd(t,Ue,e)}function Fd(e,t,a){if(t=Ro(e,t,Zd)[0],e=Rr(Ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=vl(t)}catch(p){throw p===dl?_r:p}else n=t;t=lt();var i=t.queue,d=i.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,ms(9,Ar(),Hg.bind(null,i,a),null)),[n,d,e]}function Hg(e,t){e.action=t}function Id(e){var t=lt(),a=Ue;if(a!==null)return Fd(t,a,e);lt(),t=t.memoizedState,a=lt();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function ms(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=pe.updateQueue,t===null&&(t=No(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Ar(){return{destroy:void 0,resource:void 0}}function ef(){return lt().memoizedState}function Or(e,t,a,n){var i=Ut();n=n===void 0?null:n,pe.flags|=e,i.memoizedState=ms(1|t,Ar(),a,n)}function yl(e,t,a,n){var i=lt();n=n===void 0?null:n;var d=i.memoizedState.inst;Ue!==null&&n!==null&&wo(n,Ue.memoizedState.deps)?i.memoizedState=ms(t,d,a,n):(pe.flags|=e,i.memoizedState=ms(1|t,d,a,n))}function tf(e,t){Or(8390656,8,e,t)}function af(e,t){yl(2048,8,e,t)}function nf(e,t){return yl(4,2,e,t)}function sf(e,t){return yl(4,4,e,t)}function lf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rf(e,t,a){a=a!=null?a.concat([e]):null,yl(4,4,lf.bind(null,t,e),a)}function Co(){}function of(e,t){var a=lt();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&wo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function uf(e,t){var a=lt();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&wo(t,n[1]))return n[0];if(n=e(),kn){jt(!0);try{e()}finally{jt(!1)}}return a.memoizedState=[n,t],n}function Do(e,t,a){return a===void 0||(Qa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=fh(),pe.lanes|=e,en|=e,a)}function cf(e,t,a,n){return Bt(a,t)?a:ds.current!==null?(e=Do(e,a,n),Bt(e,t)||(gt=!0),e):(Qa&42)===0?(gt=!0,e.memoizedState=a):(e=fh(),pe.lanes|=e,en|=e,t)}function df(e,t,a,n,i){var d=W.p;W.p=d!==0&&8>d?d:8;var p=L.T,b={};L.T=b,qo(e,!1,t,a);try{var _=i(),O=L.S;if(O!==null&&O(b,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var z=qg(_,n);bl(e,t,z,Vt(e))}else bl(e,t,n,Vt(e))}catch(H){bl(e,t,{then:function(){},status:"rejected",reason:H},Vt())}finally{W.p=d,L.T=p}}function $g(){}function Uo(e,t,a,n){if(e.tag!==5)throw Error(r(476));var i=ff(e).queue;df(e,i,t,ae,a===null?$g:function(){return hf(e),a(n)})}function ff(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hf(e){var t=ff(e).next.queue;bl(e,t,{},Vt())}function Mo(){return Et(Ll)}function mf(){return lt().memoizedState}function gf(){return lt().memoizedState}function Gg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Vt();e=Xa(a);var n=Ka(t,e,a);n!==null&&(Xt(n,t,a),hl(n,t,a)),t={cache:co()},e.payload=t;return}t=t.return}}function Yg(e,t,a){var n=Vt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},kr(e)?vf(t,a):(a=eo(e,t,a,n),a!==null&&(Xt(a,e,n),yf(a,t,n)))}function pf(e,t,a){var n=Vt();bl(e,t,a,n)}function bl(e,t,a,n){var i={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(kr(e))vf(t,i);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,b=d(p,a);if(i.hasEagerState=!0,i.eagerState=b,Bt(b,p))return mr(e,t,i,0),Be===null&&hr(),!1}catch{}finally{}if(a=eo(e,t,i,n),a!==null)return Xt(a,e,n),yf(a,t,n),!0}return!1}function qo(e,t,a,n){if(n={lane:2,revertLane:mu(),action:n,hasEagerState:!1,eagerState:null,next:null},kr(e)){if(t)throw Error(r(479))}else t=eo(e,a,n,2),t!==null&&Xt(t,e,2)}function kr(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function vf(e,t){fs=Er=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function yf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Tt(e,a)}}var Cr={readContext:Et,use:Tr,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},bf={readContext:Et,use:Tr,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:tf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Or(4194308,4,lf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Or(4194308,4,e,t)},useInsertionEffect:function(e,t){Or(4,2,e,t)},useMemo:function(e,t){var a=Ut();t=t===void 0?null:t;var n=e();if(kn){jt(!0);try{e()}finally{jt(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ut();if(a!==void 0){var i=a(t);if(kn){jt(!0);try{a(t)}finally{jt(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Yg.bind(null,pe,e),[n.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=Oo(e);var t=e.queue,a=pf.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Co,useDeferredValue:function(e,t){var a=Ut();return Do(a,e,t)},useTransition:function(){var e=Oo(!1);return e=df.bind(null,pe,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=pe,i=Ut();if(Ae){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Be===null)throw Error(r(349));(Ee&124)!==0||Bd(n,t,a)}i.memoizedState=a;var d={value:a,getSnapshot:t};return i.queue=d,tf($d.bind(null,n,d,e),[e]),n.flags|=2048,ms(9,Ar(),Hd.bind(null,n,d,a,t),null),a},useId:function(){var e=Ut(),t=Be.identifierPrefix;if(Ae){var a=_a,n=wa;a=(n&~(1<<32-it(n)-1)).toString(32)+a,t=""+t+"R"+a,a=Nr++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Lg++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:Jd,useActionState:Jd,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=qo.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:To,useCacheRefresh:function(){return Ut().memoizedState=Gg.bind(null,pe)}},xf={readContext:Et,use:Tr,useCallback:of,useContext:Et,useEffect:af,useImperativeHandle:rf,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:uf,useReducer:Rr,useRef:ef,useState:function(){return Rr(Ea)},useDebugValue:Co,useDeferredValue:function(e,t){var a=lt();return cf(a,Ue.memoizedState,e,t)},useTransition:function(){var e=Rr(Ea)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:vl(e),t]},useSyncExternalStore:zd,useId:mf,useHostTransitionStatus:Mo,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var a=lt();return Vd(a,Ue,e,t)},useMemoCache:To,useCacheRefresh:gf},Vg={readContext:Et,use:Tr,useCallback:of,useContext:Et,useEffect:af,useImperativeHandle:rf,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:uf,useReducer:Ao,useRef:ef,useState:function(){return Ao(Ea)},useDebugValue:Co,useDeferredValue:function(e,t){var a=lt();return Ue===null?Do(a,e,t):cf(a,Ue.memoizedState,e,t)},useTransition:function(){var e=Ao(Ea)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:vl(e),t]},useSyncExternalStore:zd,useId:mf,useHostTransitionStatus:Mo,useFormState:Id,useActionState:Id,useOptimistic:function(e,t){var a=lt();return Ue!==null?Vd(a,Ue,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:To,useCacheRefresh:gf},gs=null,xl=0;function Dr(e){var t=xl;return xl+=1,gs===null&&(gs=[]),Od(gs,e,t)}function wl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ur(e,t){throw t.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wf(e){var t=e._init;return t(e._payload)}function _f(e){function t(N,E){if(e){var R=N.deletions;R===null?(N.deletions=[E],N.flags|=16):R.push(E)}}function a(N,E){if(!e)return null;for(;E!==null;)t(N,E),E=E.sibling;return null}function n(N){for(var E=new Map;N!==null;)N.key!==null?E.set(N.key,N):E.set(N.index,N),N=N.sibling;return E}function i(N,E){return N=xa(N,E),N.index=0,N.sibling=null,N}function d(N,E,R){return N.index=R,e?(R=N.alternate,R!==null?(R=R.index,R<E?(N.flags|=67108866,E):R):(N.flags|=67108866,E)):(N.flags|=1048576,E)}function p(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function b(N,E,R,B){return E===null||E.tag!==6?(E=ao(R,N.mode,B),E.return=N,E):(E=i(E,R),E.return=N,E)}function _(N,E,R,B){var ne=R.type;return ne===T?z(N,E,R.props.children,B,R.key):E!==null&&(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===me&&wf(ne)===E.type)?(E=i(E,R.props),wl(E,R),E.return=N,E):(E=pr(R.type,R.key,R.props,null,N.mode,B),wl(E,R),E.return=N,E)}function O(N,E,R,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==R.containerInfo||E.stateNode.implementation!==R.implementation?(E=no(R,N.mode,B),E.return=N,E):(E=i(E,R.children||[]),E.return=N,E)}function z(N,E,R,B,ne){return E===null||E.tag!==7?(E=jn(R,N.mode,B,ne),E.return=N,E):(E=i(E,R),E.return=N,E)}function H(N,E,R){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=ao(""+E,N.mode,R),E.return=N,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S:return R=pr(E.type,E.key,E.props,null,N.mode,R),wl(R,E),R.return=N,R;case A:return E=no(E,N.mode,R),E.return=N,E;case me:var B=E._init;return E=B(E._payload),H(N,E,R)}if(ze(E)||Se(E))return E=jn(E,N.mode,R,null),E.return=N,E;if(typeof E.then=="function")return H(N,Dr(E),R);if(E.$$typeof===D)return H(N,xr(N,E),R);Ur(N,E)}return null}function k(N,E,R,B){var ne=E!==null?E.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ne!==null?null:b(N,E,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return R.key===ne?_(N,E,R,B):null;case A:return R.key===ne?O(N,E,R,B):null;case me:return ne=R._init,R=ne(R._payload),k(N,E,R,B)}if(ze(R)||Se(R))return ne!==null?null:z(N,E,R,B,null);if(typeof R.then=="function")return k(N,E,Dr(R),B);if(R.$$typeof===D)return k(N,E,xr(N,R),B);Ur(N,R)}return null}function C(N,E,R,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return N=N.get(R)||null,b(E,N,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return N=N.get(B.key===null?R:B.key)||null,_(E,N,B,ne);case A:return N=N.get(B.key===null?R:B.key)||null,O(E,N,B,ne);case me:var ye=B._init;return B=ye(B._payload),C(N,E,R,B,ne)}if(ze(B)||Se(B))return N=N.get(R)||null,z(E,N,B,ne,null);if(typeof B.then=="function")return C(N,E,R,Dr(B),ne);if(B.$$typeof===D)return C(N,E,R,xr(E,B),ne);Ur(E,B)}return null}function ue(N,E,R,B){for(var ne=null,ye=null,se=E,ie=E=0,vt=null;se!==null&&ie<R.length;ie++){se.index>ie?(vt=se,se=null):vt=se.sibling;var Re=k(N,se,R[ie],B);if(Re===null){se===null&&(se=vt);break}e&&se&&Re.alternate===null&&t(N,se),E=d(Re,E,ie),ye===null?ne=Re:ye.sibling=Re,ye=Re,se=vt}if(ie===R.length)return a(N,se),Ae&&En(N,ie),ne;if(se===null){for(;ie<R.length;ie++)se=H(N,R[ie],B),se!==null&&(E=d(se,E,ie),ye===null?ne=se:ye.sibling=se,ye=se);return Ae&&En(N,ie),ne}for(se=n(se);ie<R.length;ie++)vt=C(se,N,ie,R[ie],B),vt!==null&&(e&&vt.alternate!==null&&se.delete(vt.key===null?ie:vt.key),E=d(vt,E,ie),ye===null?ne=vt:ye.sibling=vt,ye=vt);return e&&se.forEach(function(cn){return t(N,cn)}),Ae&&En(N,ie),ne}function re(N,E,R,B){if(R==null)throw Error(r(151));for(var ne=null,ye=null,se=E,ie=E=0,vt=null,Re=R.next();se!==null&&!Re.done;ie++,Re=R.next()){se.index>ie?(vt=se,se=null):vt=se.sibling;var cn=k(N,se,Re.value,B);if(cn===null){se===null&&(se=vt);break}e&&se&&cn.alternate===null&&t(N,se),E=d(cn,E,ie),ye===null?ne=cn:ye.sibling=cn,ye=cn,se=vt}if(Re.done)return a(N,se),Ae&&En(N,ie),ne;if(se===null){for(;!Re.done;ie++,Re=R.next())Re=H(N,Re.value,B),Re!==null&&(E=d(Re,E,ie),ye===null?ne=Re:ye.sibling=Re,ye=Re);return Ae&&En(N,ie),ne}for(se=n(se);!Re.done;ie++,Re=R.next())Re=C(se,N,ie,Re.value,B),Re!==null&&(e&&Re.alternate!==null&&se.delete(Re.key===null?ie:Re.key),E=d(Re,E,ie),ye===null?ne=Re:ye.sibling=Re,ye=Re);return e&&se.forEach(function(Xp){return t(N,Xp)}),Ae&&En(N,ie),ne}function qe(N,E,R,B){if(typeof R=="object"&&R!==null&&R.type===T&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case S:e:{for(var ne=R.key;E!==null;){if(E.key===ne){if(ne=R.type,ne===T){if(E.tag===7){a(N,E.sibling),B=i(E,R.props.children),B.return=N,N=B;break e}}else if(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===me&&wf(ne)===E.type){a(N,E.sibling),B=i(E,R.props),wl(B,R),B.return=N,N=B;break e}a(N,E);break}else t(N,E);E=E.sibling}R.type===T?(B=jn(R.props.children,N.mode,B,R.key),B.return=N,N=B):(B=pr(R.type,R.key,R.props,null,N.mode,B),wl(B,R),B.return=N,N=B)}return p(N);case A:e:{for(ne=R.key;E!==null;){if(E.key===ne)if(E.tag===4&&E.stateNode.containerInfo===R.containerInfo&&E.stateNode.implementation===R.implementation){a(N,E.sibling),B=i(E,R.children||[]),B.return=N,N=B;break e}else{a(N,E);break}else t(N,E);E=E.sibling}B=no(R,N.mode,B),B.return=N,N=B}return p(N);case me:return ne=R._init,R=ne(R._payload),qe(N,E,R,B)}if(ze(R))return ue(N,E,R,B);if(Se(R)){if(ne=Se(R),typeof ne!="function")throw Error(r(150));return R=ne.call(R),re(N,E,R,B)}if(typeof R.then=="function")return qe(N,E,Dr(R),B);if(R.$$typeof===D)return qe(N,E,xr(N,R),B);Ur(N,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,E!==null&&E.tag===6?(a(N,E.sibling),B=i(E,R),B.return=N,N=B):(a(N,E),B=ao(R,N.mode,B),B.return=N,N=B),p(N)):a(N,E)}return function(N,E,R,B){try{xl=0;var ne=qe(N,E,R,B);return gs=null,ne}catch(se){if(se===dl||se===_r)throw se;var ye=Ht(29,se,null,N.mode);return ye.lanes=B,ye.return=N,ye}finally{}}}var ps=_f(!0),jf=_f(!1),Ft=M(null),da=null;function Pa(e){var t=e.alternate;Q(ct,ct.current&1),Q(Ft,e),da===null&&(t===null||ds.current!==null||t.memoizedState!==null)&&(da=e)}function Sf(e){if(e.tag===22){if(Q(ct,ct.current),Q(Ft,e),da===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(da=e)}}else Za()}function Za(){Q(ct,ct.current),Q(Ft,Ft.current)}function Na(e){Y(Ft),da===e&&(da=null),Y(ct)}var ct=M(0);function Mr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Nu(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Lo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Vt(),i=Xa(n);i.payload=t,a!=null&&(i.callback=a),t=Ka(e,i,n),t!==null&&(Xt(t,e,n),hl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Vt(),i=Xa(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=Ka(e,i,n),t!==null&&(Xt(t,e,n),hl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Vt(),n=Xa(a);n.tag=2,t!=null&&(n.callback=t),t=Ka(e,n,a),t!==null&&(Xt(t,e,a),hl(t,e,a))}};function Ef(e,t,a,n,i,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,d,p):t.prototype&&t.prototype.isPureReactComponent?!nl(a,n)||!nl(i,d):!0}function Nf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Cn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}var qr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Tf(e){qr(e)}function Rf(e){console.error(e)}function Af(e){qr(e)}function Lr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Of(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Bo(e,t,a){return a=Xa(a),a.tag=3,a.payload={element:null},a.callback=function(){Lr(e,t)},a}function kf(e){return e=Xa(e),e.tag=3,e}function Cf(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var d=n.value;e.payload=function(){return i(d)},e.callback=function(){Of(t,a,n)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Of(t,a,n),typeof i!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})})}function Xg(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&ol(t,a,i,!0),a=Ft.current,a!==null){switch(a.tag){case 13:return da===null?uu():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===mo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),du(e,n,i)),!1;case 22:return a.flags|=65536,n===mo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),du(e,n,i)),!1}throw Error(r(435,a.tag))}return du(e,n,i),uu(),!1}if(Ae)return t=Ft.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==ro&&(e=Error(r(422),{cause:n}),il(Pt(e,a)))):(n!==ro&&(t=Error(r(423),{cause:n}),il(Pt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=Pt(n,a),i=Bo(e.stateNode,n,i),vo(e,i),Fe!==4&&(Fe=2)),!1;var d=Error(r(520),{cause:n});if(d=Pt(d,a),Rl===null?Rl=[d]:Rl.push(d),Fe!==4&&(Fe=2),t===null)return!0;n=Pt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=Bo(a.stateNode,n,e),vo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(tn===null||!tn.has(d))))return a.flags|=65536,i&=-i,a.lanes|=i,i=kf(i),Cf(i,e,a,n),vo(a,i),!1}a=a.return}while(a!==null);return!1}var Df=Error(r(461)),gt=!1;function xt(e,t,a,n){t.child=e===null?jf(t,null,a,n):ps(t,e.child,a,n)}function Uf(e,t,a,n,i){a=a.render;var d=t.ref;if("ref"in n){var p={};for(var b in n)b!=="ref"&&(p[b]=n[b])}else p=n;return An(t),n=_o(e,t,a,p,d,i),b=jo(),e!==null&&!gt?(So(e,t,i),Ta(e,t,i)):(Ae&&b&&so(t),t.flags|=1,xt(e,t,n,i),t.child)}function Mf(e,t,a,n,i){if(e===null){var d=a.type;return typeof d=="function"&&!to(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,qf(e,t,d,n,i)):(e=pr(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Qo(e,i)){var p=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(p,n)&&e.ref===t.ref)return Ta(e,t,i)}return t.flags|=1,e=xa(d,n),e.ref=t.ref,e.return=t,t.child=e}function qf(e,t,a,n,i){if(e!==null){var d=e.memoizedProps;if(nl(d,n)&&e.ref===t.ref)if(gt=!1,t.pendingProps=n=d,Qo(e,i))(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,Ta(e,t,i)}return Ho(e,t,a,n,i)}function Lf(e,t,a){var n=t.pendingProps,i=n.children,d=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=d!==null?d.baseLanes|a:a,e!==null){for(i=t.child=e.child,d=0;i!==null;)d=d|i.lanes|i.childLanes,i=i.sibling;t.childLanes=d&~n}else t.childLanes=0,t.child=null;return zf(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wr(t,d!==null?d.cachePool:null),d!==null?Md(t,d):bo(),Sf(t);else return t.lanes=t.childLanes=536870912,zf(e,t,d!==null?d.baseLanes|a:a,a)}else d!==null?(wr(t,d.cachePool),Md(t,d),Za(),t.memoizedState=null):(e!==null&&wr(t,null),bo(),Za());return xt(e,t,i,a),t.child}function zf(e,t,a,n){var i=ho();return i=i===null?null:{parent:ut._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&wr(t,null),bo(),Sf(t),e!==null&&ol(e,t,n,!0),null}function zr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ho(e,t,a,n,i){return An(t),a=_o(e,t,a,n,void 0,i),n=jo(),e!==null&&!gt?(So(e,t,i),Ta(e,t,i)):(Ae&&n&&so(t),t.flags|=1,xt(e,t,a,i),t.child)}function Bf(e,t,a,n,i,d){return An(t),t.updateQueue=null,a=Ld(t,n,a,i),qd(e),n=jo(),e!==null&&!gt?(So(e,t,d),Ta(e,t,d)):(Ae&&n&&so(t),t.flags|=1,xt(e,t,a,d),t.child)}function Hf(e,t,a,n,i){if(An(t),t.stateNode===null){var d=rs,p=a.contextType;typeof p=="object"&&p!==null&&(d=Et(p)),d=new a(n,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=n,d.state=t.memoizedState,d.refs={},go(t),p=a.contextType,d.context=typeof p=="object"&&p!==null?Et(p):rs,d.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Lo(t,a,p,n),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&zo.enqueueReplaceState(d,d.state,null),gl(t,n,d,i),ml(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,_=Cn(a,b);d.props=_;var O=d.context,z=a.contextType;p=rs,typeof z=="object"&&z!==null&&(p=Et(z));var H=a.getDerivedStateFromProps;z=typeof H=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||O!==p)&&Nf(t,d,n,p),Va=!1;var k=t.memoizedState;d.state=k,gl(t,n,d,i),ml(),O=t.memoizedState,b||k!==O||Va?(typeof H=="function"&&(Lo(t,a,H,n),O=t.memoizedState),(_=Va||Ef(t,a,_,n,k,O,p))?(z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=O),d.props=n,d.state=O,d.context=p,n=_):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{d=t.stateNode,po(e,t),p=t.memoizedProps,z=Cn(a,p),d.props=z,H=t.pendingProps,k=d.context,O=a.contextType,_=rs,typeof O=="object"&&O!==null&&(_=Et(O)),b=a.getDerivedStateFromProps,(O=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==H||k!==_)&&Nf(t,d,n,_),Va=!1,k=t.memoizedState,d.state=k,gl(t,n,d,i),ml();var C=t.memoizedState;p!==H||k!==C||Va||e!==null&&e.dependencies!==null&&br(e.dependencies)?(typeof b=="function"&&(Lo(t,a,b,n),C=t.memoizedState),(z=Va||Ef(t,a,z,n,k,C,_)||e!==null&&e.dependencies!==null&&br(e.dependencies))?(O||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,C,_),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,C,_)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=C),d.props=n,d.state=C,d.context=_,n=z):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),n=!1)}return d=n,zr(e,t),n=(t.flags&128)!==0,d||n?(d=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&n?(t.child=ps(t,e.child,null,i),t.child=ps(t,null,a,i)):xt(e,t,a,i),t.memoizedState=d.state,e=t.child):e=Ta(e,t,i),e}function $f(e,t,a,n){return rl(),t.flags|=256,xt(e,t,a,n),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Go(e){return{baseLanes:e,cachePool:Td()}}function Yo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=It),e}function Gf(e,t,a){var n=t.pendingProps,i=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(ct.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(i?Pa(t):Za(),Ae){var b=We,_;if(_=b){e:{for(_=b,b=ca;_.nodeType!==8;){if(!b){b=null;break e}if(_=la(_.nextSibling),_===null){b=null;break e}}b=_}b!==null?(t.memoizedState={dehydrated:b,treeContext:Sn!==null?{id:wa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},_=Ht(18,null,null,0),_.stateNode=b,_.return=t,t.child=_,Rt=t,We=null,_=!0):_=!1}_||Tn(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Nu(b)?t.lanes=32:t.lanes=536870912,null;Na(t)}return b=n.children,n=n.fallback,i?(Za(),i=t.mode,b=Br({mode:"hidden",children:b},i),n=jn(n,i,a,null),b.return=t,n.return=t,b.sibling=n,t.child=b,i=t.child,i.memoizedState=Go(a),i.childLanes=Yo(e,p,a),t.memoizedState=$o,n):(Pa(t),Vo(t,b))}if(_=e.memoizedState,_!==null&&(b=_.dehydrated,b!==null)){if(d)t.flags&256?(Pa(t),t.flags&=-257,t=Xo(e,t,a)):t.memoizedState!==null?(Za(),t.child=e.child,t.flags|=128,t=null):(Za(),i=n.fallback,b=t.mode,n=Br({mode:"visible",children:n.children},b),i=jn(i,b,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,ps(t,e.child,null,a),n=t.child,n.memoizedState=Go(a),n.childLanes=Yo(e,p,a),t.memoizedState=$o,t=i);else if(Pa(t),Nu(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var O=p.dgst;p=O,n=Error(r(419)),n.stack="",n.digest=p,il({value:n,source:null,stack:null}),t=Xo(e,t,a)}else if(gt||ol(e,t,a,!1),p=(a&e.childLanes)!==0,gt||p){if(p=Be,p!==null&&(n=a&-a,n=(n&42)!==0?1:ht(n),n=(n&(p.suspendedLanes|a))!==0?0:n,n!==0&&n!==_.retryLane))throw _.retryLane=n,ls(e,n),Xt(p,e,n),Df;b.data==="$?"||uu(),t=Xo(e,t,a)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,We=la(b.nextSibling),Rt=t,Ae=!0,Nn=null,ca=!1,e!==null&&(Jt[Wt++]=wa,Jt[Wt++]=_a,Jt[Wt++]=Sn,wa=e.id,_a=e.overflow,Sn=t),t=Vo(t,n.children),t.flags|=4096);return t}return i?(Za(),i=n.fallback,b=t.mode,_=e.child,O=_.sibling,n=xa(_,{mode:"hidden",children:n.children}),n.subtreeFlags=_.subtreeFlags&65011712,O!==null?i=xa(O,i):(i=jn(i,b,a,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,b=e.child.memoizedState,b===null?b=Go(a):(_=b.cachePool,_!==null?(O=ut._currentValue,_=_.parent!==O?{parent:O,pool:O}:_):_=Td(),b={baseLanes:b.baseLanes|a,cachePool:_}),i.memoizedState=b,i.childLanes=Yo(e,p,a),t.memoizedState=$o,n):(Pa(t),a=e.child,e=a.sibling,a=xa(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function Vo(e,t){return t=Br({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Br(e,t){return e=Ht(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Xo(e,t,a){return ps(t,e.child,null,a),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),oo(e.return,t,a)}function Ko(e,t,a,n,i){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=n,d.tail=a,d.tailMode=i)}function Vf(e,t,a){var n=t.pendingProps,i=n.revealOrder,d=n.tail;if(xt(e,t,n.children,a),n=ct.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,a,t);else if(e.tag===19)Yf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(Q(ct,n),i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&Mr(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),Ko(t,!1,i,a,d);break;case"backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Mr(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}Ko(t,!0,a,null,d);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ta(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),en|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ol(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=xa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=xa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&br(e)))}function Kg(e,t,a){switch(t.tag){case 3:ve(t,t.stateNode.containerInfo),Ya(t,ut,e.memoizedState.cache),rl();break;case 27:case 5:Ce(t);break;case 4:ve(t,t.stateNode.containerInfo);break;case 10:Ya(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Pa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Gf(e,t,a):(Pa(t),e=Ta(e,t,a),e!==null?e.sibling:null);Pa(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(ol(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return Vf(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(ct,ct.current),n)break;return null;case 22:case 23:return t.lanes=0,Lf(e,t,a);case 24:Ya(t,ut,e.memoizedState.cache)}return Ta(e,t,a)}function Xf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)gt=!0;else{if(!Qo(e,a)&&(t.flags&128)===0)return gt=!1,Kg(e,t,a);gt=(e.flags&131072)!==0}else gt=!1,Ae&&(t.flags&1048576)!==0&&xd(t,yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,typeof n=="function")to(n)?(e=Cn(n,e),t.tag=1,t=Hf(null,t,n,e,a)):(t.tag=0,t=Ho(null,t,n,e,a));else{if(n!=null){if(i=n.$$typeof,i===X){t.tag=11,t=Uf(null,t,n,e,a);break e}else if(i===oe){t.tag=14,t=Mf(null,t,n,e,a);break e}}throw t=nt(n)||n,Error(r(306,t,""))}}return t;case 0:return Ho(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=Cn(n,t.pendingProps),Hf(e,t,n,i,a);case 3:e:{if(ve(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var d=t.memoizedState;i=d.element,po(e,t),gl(t,n,null,a);var p=t.memoizedState;if(n=p.cache,Ya(t,ut,n),n!==d.cache&&uo(t,[ut],a,!0),ml(),n=p.element,d.isDehydrated)if(d={element:n,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=$f(e,t,n,a);break e}else if(n!==i){i=Pt(Error(r(424)),t),il(i),t=$f(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(We=la(e.firstChild),Rt=t,Ae=!0,Nn=null,ca=!0,a=jf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),n===i){t=Ta(e,t,a);break e}xt(e,t,n,a)}t=t.child}return t;case 26:return zr(e,t),e===null?(a=Zh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ae||(a=t.type,e=t.pendingProps,n=Ir(I.current).createElement(a),n[Ve]=t,n[Ct]=e,_t(n,a,e),mt(n),t.stateNode=n):t.memoizedState=Zh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ce(t),e===null&&Ae&&(n=t.stateNode=Kh(t.type,t.pendingProps,I.current),Rt=t,ca=!0,i=We,sn(t.type)?(Tu=i,We=la(n.firstChild)):We=i),xt(e,t,t.pendingProps.children,a),zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((i=n=We)&&(n=xp(n,t.type,t.pendingProps,ca),n!==null?(t.stateNode=n,Rt=t,We=la(n.firstChild),ca=!1,i=!0):i=!1),i||Tn(t)),Ce(t),i=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,n=d.children,ju(i,d)?n=null:p!==null&&ju(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=_o(e,t,zg,null,null,a),Ll._currentValue=i),zr(e,t),xt(e,t,n,a),t.child;case 6:return e===null&&Ae&&((e=a=We)&&(a=wp(a,t.pendingProps,ca),a!==null?(t.stateNode=a,Rt=t,We=null,e=!0):e=!1),e||Tn(t)),null;case 13:return Gf(e,t,a);case 4:return ve(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ps(t,null,n,a):xt(e,t,n,a),t.child;case 11:return Uf(e,t,t.type,t.pendingProps,a);case 7:return xt(e,t,t.pendingProps,a),t.child;case 8:return xt(e,t,t.pendingProps.children,a),t.child;case 12:return xt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ya(t,t.type,n.value),xt(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,An(t),i=Et(i),n=n(i),t.flags|=1,xt(e,t,n,a),t.child;case 14:return Mf(e,t,t.type,t.pendingProps,a);case 15:return qf(e,t,t.type,t.pendingProps,a);case 19:return Vf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Br(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=xa(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Lf(e,t,a);case 24:return An(t),n=Et(ut),e===null?(i=ho(),i===null&&(i=Be,d=co(),i.pooledCache=d,d.refCount++,d!==null&&(i.pooledCacheLanes|=a),i=d),t.memoizedState={parent:n,cache:i},go(t),Ya(t,ut,i)):((e.lanes&a)!==0&&(po(e,t),gl(t,null,null,a),ml()),i=e.memoizedState,d=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ya(t,ut,n)):(n=d.cache,Ya(t,ut,n),n!==i.cache&&uo(t,[ut],a,!0))),xt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ra(e){e.flags|=4}function Kf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!em(t)){if(t=Ft.current,t!==null&&((Ee&4194048)===Ee?da!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||t!==da))throw fl=mo,Rd;e.flags|=8192}}function Hr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ot():536870912,e.lanes|=t,xs|=t)}function _l(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Qg(e,t,a){var n=t.pendingProps;switch(lo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sa(ut),et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ll(t)?Ra(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jd())),Je(t),null;case 26:return a=t.memoizedState,e===null?(Ra(t),a!==null?(Je(t),Kf(t,a)):(Je(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Ra(t),Je(t),Kf(t,a)):(Je(t),t.flags&=-16777217):(e.memoizedProps!==n&&Ra(t),Je(t),t.flags&=-16777217),null;case 27:$e(t),a=I.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ra(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Je(t),null}e=ee.current,ll(t)?wd(t):(e=Kh(i,n,a),t.stateNode=e,Ra(t))}return Je(t),null;case 5:if($e(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ra(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Je(t),null}if(e=ee.current,ll(t))wd(t);else{switch(i=Ir(I.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?i.createElement(a,{is:n.is}):i.createElement(a)}}e[Ve]=t,e[Ct]=n;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(_t(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ra(t)}}return Je(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Ra(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=I.current,ll(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=Rt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Ve]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Bh(e.nodeValue,a)),e||Tn(t)}else e=Ir(e).createTextNode(n),e[Ve]=t,t.stateNode=e}return Je(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ll(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[Ve]=t}else rl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),i=!1}else i=jd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Na(t),t):(Na(t),null)}if(Na(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var d=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==i&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Hr(t,t.updateQueue),Je(t),null;case 4:return et(),e===null&&yu(t.stateNode.containerInfo),Je(t),null;case 10:return Sa(t.type),Je(t),null;case 19:if(Y(ct),i=t.memoizedState,i===null)return Je(t),null;if(n=(t.flags&128)!==0,d=i.rendering,d===null)if(n)_l(i,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Mr(e),d!==null){for(t.flags|=128,_l(i,!1),e=d.updateQueue,t.updateQueue=e,Hr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)bd(a,e),a=a.sibling;return Q(ct,ct.current&1|2),t.child}e=e.sibling}i.tail!==null&&De()>Yr&&(t.flags|=128,n=!0,_l(i,!1),t.lanes=4194304)}else{if(!n)if(e=Mr(d),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Hr(t,e),_l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!Ae)return Je(t),null}else 2*De()-i.renderingStartTime>Yr&&a!==536870912&&(t.flags|=128,n=!0,_l(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(e=i.last,e!==null?e.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=De(),t.sibling=null,e=ct.current,Q(ct,n?e&1|2:e&1),t):(Je(t),null);case 22:case 23:return Na(t),xo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),a=t.updateQueue,a!==null&&Hr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Y(On),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sa(ut),Je(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Pg(e,t){switch(lo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sa(ut),et(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $e(t),null;case 13:if(Na(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(ct),null;case 4:return et(),null;case 10:return Sa(t.type),null;case 22:case 23:return Na(t),xo(),e!==null&&Y(On),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Sa(ut),null;case 25:return null;default:return null}}function Qf(e,t){switch(lo(t),t.tag){case 3:Sa(ut),et();break;case 26:case 27:case 5:$e(t);break;case 4:et();break;case 13:Na(t);break;case 19:Y(ct);break;case 10:Sa(t.type);break;case 22:case 23:Na(t),xo(),e!==null&&Y(On);break;case 24:Sa(ut)}}function jl(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var d=a.create,p=a.inst;n=d(),p.destroy=n}a=a.next}while(a!==i)}}catch(b){Le(t,t.return,b)}}function Ja(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var d=i.next;n=d;do{if((n.tag&e)===e){var p=n.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,i=t;var _=a,O=b;try{O()}catch(z){Le(i,_,z)}}}n=n.next}while(n!==d)}}catch(z){Le(t,t.return,z)}}function Pf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ud(t,a)}catch(n){Le(e,e.return,n)}}}function Zf(e,t,a){a.props=Cn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Le(e,t,n)}}function Sl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){Le(e,t,i)}}function fa(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){Le(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Le(e,t,i)}else a.current=null}function Jf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){Le(e,e.return,i)}}function Po(e,t,a){try{var n=e.stateNode;gp(n,e.type,a,t),n[Ct]=t}catch(i){Le(e,e.return,i)}}function Wf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sn(e.type)||e.tag===4}function Zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jo(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Fr));else if(n!==4&&(n===27&&sn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Jo(e,t,a),e=e.sibling;e!==null;)Jo(e,t,a),e=e.sibling}function $r(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&sn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($r(e,t,a),e=e.sibling;e!==null;)$r(e,t,a),e=e.sibling}function Ff(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_t(t,n,a),t[Ve]=e,t[Ct]=a}catch(d){Le(e,e.return,d)}}var Aa=!1,at=!1,Wo=!1,If=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Zg(e,t){if(e=e.containerInfo,wu=li,e=ud(e),Pi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,d=n.focusNode;n=n.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var p=0,b=-1,_=-1,O=0,z=0,H=e,k=null;t:for(;;){for(var C;H!==a||i!==0&&H.nodeType!==3||(b=p+i),H!==d||n!==0&&H.nodeType!==3||(_=p+n),H.nodeType===3&&(p+=H.nodeValue.length),(C=H.firstChild)!==null;)k=H,H=C;for(;;){if(H===e)break t;if(k===a&&++O===i&&(b=p),k===d&&++z===n&&(_=p),(C=H.nextSibling)!==null)break;H=k,k=H.parentNode}H=C}a=b===-1||_===-1?null:{start:b,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(_u={focusedElem:e,selectionRange:a},li=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,i=d.memoizedProps,d=d.memoizedState,n=a.stateNode;try{var ue=Cn(a.type,i,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(ue,d),n.__reactInternalSnapshotBeforeUpdate=e}catch(re){Le(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Eu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function eh(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Wa(e,a),n&4&&jl(5,a);break;case 1:if(Wa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){Le(a,a.return,p)}else{var i=Cn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Le(a,a.return,p)}}n&64&&Pf(a),n&512&&Sl(a,a.return);break;case 3:if(Wa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ud(e,t)}catch(p){Le(a,a.return,p)}}break;case 27:t===null&&n&4&&Ff(a);case 26:case 5:Wa(e,a),t===null&&n&4&&Jf(a),n&512&&Sl(a,a.return);break;case 12:Wa(e,a);break;case 13:Wa(e,a),n&4&&nh(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sp.bind(null,a),_p(e,a))));break;case 22:if(n=a.memoizedState!==null||Aa,!n){t=t!==null&&t.memoizedState!==null||at,i=Aa;var d=at;Aa=n,(at=t)&&!d?Fa(e,a,(a.subtreeFlags&8772)!==0):Wa(e,a),Aa=i,at=d}break;case 30:break;default:Wa(e,a)}}function th(e){var t=e.alternate;t!==null&&(e.alternate=null,th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ai(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Mt=!1;function Oa(e,t,a){for(a=a.child;a!==null;)ah(e,t,a),a=a.sibling}function ah(e,t,a){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(kt,a)}catch{}switch(a.tag){case 26:at||fa(a,t),Oa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||fa(a,t);var n=Xe,i=Mt;sn(a.type)&&(Xe=a.stateNode,Mt=!1),Oa(e,t,a),Dl(a.stateNode),Xe=n,Mt=i;break;case 5:at||fa(a,t);case 6:if(n=Xe,i=Mt,Xe=null,Oa(e,t,a),Xe=n,Mt=i,Xe!==null)if(Mt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(d){Le(a,t,d)}else try{Xe.removeChild(a.stateNode)}catch(d){Le(a,t,d)}break;case 18:Xe!==null&&(Mt?(e=Xe,Vh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),$l(e)):Vh(Xe,a.stateNode));break;case 4:n=Xe,i=Mt,Xe=a.stateNode.containerInfo,Mt=!0,Oa(e,t,a),Xe=n,Mt=i;break;case 0:case 11:case 14:case 15:at||Ja(2,a,t),at||Ja(4,a,t),Oa(e,t,a);break;case 1:at||(fa(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Zf(a,t,n)),Oa(e,t,a);break;case 21:Oa(e,t,a);break;case 22:at=(n=at)||a.memoizedState!==null,Oa(e,t,a),at=n;break;default:Oa(e,t,a)}}function nh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$l(e)}catch(a){Le(t,t.return,a)}}function Jg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new If),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new If),t;default:throw Error(r(435,e.tag))}}function Fo(e,t){var a=Jg(e);t.forEach(function(n){var i=lp.bind(null,e,n);a.has(n)||(a.add(n),n.then(i,i))})}function $t(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],d=e,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(sn(b.type)){Xe=b.stateNode,Mt=!1;break e}break;case 5:Xe=b.stateNode,Mt=!1;break e;case 3:case 4:Xe=b.stateNode.containerInfo,Mt=!0;break e}b=b.return}if(Xe===null)throw Error(r(160));ah(d,p,i),Xe=null,Mt=!1,d=i.alternate,d!==null&&(d.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)sh(t,e),t=t.sibling}var sa=null;function sh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),Gt(e),n&4&&(Ja(3,e,e.return),jl(3,e),Ja(5,e,e.return));break;case 1:$t(t,e),Gt(e),n&512&&(at||a===null||fa(a,a.return)),n&64&&Aa&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=sa;if($t(t,e),Gt(e),n&512&&(at||a===null||fa(a,a.return)),n&4){var d=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":d=i.getElementsByTagName("title")[0],(!d||d[Ps]||d[Ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=i.createElement(n),i.head.insertBefore(d,i.querySelector("head > title"))),_t(d,n,a),d[Ve]=e,mt(d),n=d;break e;case"link":var p=Fh("link","href",i).get(n+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(d=p[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break t}}d=i.createElement(n),_t(d,n,a),i.head.appendChild(d);break;case"meta":if(p=Fh("meta","content",i).get(n+(a.content||""))){for(b=0;b<p.length;b++)if(d=p[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break t}}d=i.createElement(n),_t(d,n,a),i.head.appendChild(d);break;default:throw Error(r(468,n))}d[Ve]=e,mt(d),n=d}e.stateNode=n}else Ih(i,e.type,e.stateNode);else e.stateNode=Wh(i,n,e.memoizedProps);else d!==n?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,n===null?Ih(i,e.type,e.stateNode):Wh(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Po(e,e.memoizedProps,a.memoizedProps)}break;case 27:$t(t,e),Gt(e),n&512&&(at||a===null||fa(a,a.return)),a!==null&&n&4&&Po(e,e.memoizedProps,a.memoizedProps);break;case 5:if($t(t,e),Gt(e),n&512&&(at||a===null||fa(a,a.return)),e.flags&32){i=e.stateNode;try{Fn(i,"")}catch(C){Le(e,e.return,C)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,Po(e,i,a!==null?a.memoizedProps:i)),n&1024&&(Wo=!0);break;case 6:if($t(t,e),Gt(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(C){Le(e,e.return,C)}}break;case 3:if(ai=null,i=sa,sa=ei(t.containerInfo),$t(t,e),sa=i,Gt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{$l(t.containerInfo)}catch(C){Le(e,e.return,C)}Wo&&(Wo=!1,lh(e));break;case 4:n=sa,sa=ei(e.stateNode.containerInfo),$t(t,e),Gt(e),sa=n;break;case 12:$t(t,e),Gt(e);break;case 13:$t(t,e),Gt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(su=De()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Fo(e,n)));break;case 22:i=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,O=Aa,z=at;if(Aa=O||i,at=z||_,$t(t,e),at=z,Aa=O,Gt(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||_||Aa||at||Dn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(d=_.stateNode,i)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=_.stateNode;var H=_.memoizedProps.style,k=H!=null&&H.hasOwnProperty("display")?H.display:null;b.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(C){Le(_,_.return,C)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(C){Le(_,_.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Fo(e,a))));break;case 19:$t(t,e),Gt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Fo(e,n)));break;case 30:break;case 21:break;default:$t(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Wf(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var i=a.stateNode,d=Zo(e);$r(e,d,i);break;case 5:var p=a.stateNode;a.flags&32&&(Fn(p,""),a.flags&=-33);var b=Zo(e);$r(e,b,p);break;case 3:case 4:var _=a.stateNode.containerInfo,O=Zo(e);Jo(e,O,_);break;default:throw Error(r(161))}}catch(z){Le(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;lh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Wa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)eh(e,t.alternate,t),t=t.sibling}function Dn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ja(4,t,t.return),Dn(t);break;case 1:fa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Zf(t,t.return,a),Dn(t);break;case 27:Dl(t.stateNode);case 26:case 5:fa(t,t.return),Dn(t);break;case 22:t.memoizedState===null&&Dn(t);break;case 30:Dn(t);break;default:Dn(t)}e=e.sibling}}function Fa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,d=t,p=d.flags;switch(d.tag){case 0:case 11:case 15:Fa(i,d,a),jl(4,d);break;case 1:if(Fa(i,d,a),n=d,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(O){Le(n,n.return,O)}if(n=d,i=n.updateQueue,i!==null){var b=n.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)Dd(_[i],b)}catch(O){Le(n,n.return,O)}}a&&p&64&&Pf(d),Sl(d,d.return);break;case 27:Ff(d);case 26:case 5:Fa(i,d,a),a&&n===null&&p&4&&Jf(d),Sl(d,d.return);break;case 12:Fa(i,d,a);break;case 13:Fa(i,d,a),a&&p&4&&nh(i,d);break;case 22:d.memoizedState===null&&Fa(i,d,a),Sl(d,d.return);break;case 30:break;default:Fa(i,d,a)}t=t.sibling}}function Io(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ul(a))}function eu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e))}function ha(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rh(e,t,a,n),t=t.sibling}function rh(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ha(e,t,a,n),i&2048&&jl(9,t);break;case 1:ha(e,t,a,n);break;case 3:ha(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e)));break;case 12:if(i&2048){ha(e,t,a,n),e=t.stateNode;try{var d=t.memoizedProps,p=d.id,b=d.onPostCommit;typeof b=="function"&&b(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Le(t,t.return,_)}}else ha(e,t,a,n);break;case 13:ha(e,t,a,n);break;case 23:break;case 22:d=t.stateNode,p=t.alternate,t.memoizedState!==null?d._visibility&2?ha(e,t,a,n):El(e,t):d._visibility&2?ha(e,t,a,n):(d._visibility|=2,vs(e,t,a,n,(t.subtreeFlags&10256)!==0)),i&2048&&Io(p,t);break;case 24:ha(e,t,a,n),i&2048&&eu(t.alternate,t);break;default:ha(e,t,a,n)}}function vs(e,t,a,n,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,p=t,b=a,_=n,O=p.flags;switch(p.tag){case 0:case 11:case 15:vs(d,p,b,_,i),jl(8,p);break;case 23:break;case 22:var z=p.stateNode;p.memoizedState!==null?z._visibility&2?vs(d,p,b,_,i):El(d,p):(z._visibility|=2,vs(d,p,b,_,i)),i&&O&2048&&Io(p.alternate,p);break;case 24:vs(d,p,b,_,i),i&&O&2048&&eu(p.alternate,p);break;default:vs(d,p,b,_,i)}t=t.sibling}}function El(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:El(a,n),i&2048&&Io(n.alternate,n);break;case 24:El(a,n),i&2048&&eu(n.alternate,n);break;default:El(a,n)}t=t.sibling}}var Nl=8192;function ys(e){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)ih(e),e=e.sibling}function ih(e){switch(e.tag){case 26:ys(e),e.flags&Nl&&e.memoizedState!==null&&Mp(sa,e.memoizedState,e.memoizedProps);break;case 5:ys(e);break;case 3:case 4:var t=sa;sa=ei(e.stateNode.containerInfo),ys(e),sa=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Nl,Nl=16777216,ys(e),Nl=t):ys(e));break;default:ys(e)}}function oh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Tl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];pt=n,ch(n,e)}oh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uh(e),e=e.sibling}function uh(e){switch(e.tag){case 0:case 11:case 15:Tl(e),e.flags&2048&&Ja(9,e,e.return);break;case 3:Tl(e);break;case 12:Tl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Gr(e)):Tl(e);break;default:Tl(e)}}function Gr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];pt=n,ch(n,e)}oh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ja(8,t,t.return),Gr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Gr(t));break;default:Gr(t)}e=e.sibling}}function ch(e,t){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:Ja(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ul(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,pt=n;else e:for(a=e;pt!==null;){n=pt;var i=n.sibling,d=n.return;if(th(n),n===a){pt=null;break e}if(i!==null){i.return=d,pt=i;break e}pt=d}}}var Wg={getCacheForType:function(e){var t=Et(ut),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Fg=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Be=null,be=null,Ee=0,ke=0,Yt=null,Ia=!1,bs=!1,tu=!1,ka=0,Fe=0,en=0,Un=0,au=0,It=0,xs=0,Rl=null,qt=null,nu=!1,su=0,Yr=1/0,Vr=null,tn=null,wt=0,an=null,ws=null,_s=0,lu=0,ru=null,dh=null,Al=0,iu=null;function Vt(){if((Oe&2)!==0&&Ee!==0)return Ee&-Ee;if(L.T!==null){var e=us;return e!==0?e:mu()}return Vn()}function fh(){It===0&&(It=(Ee&536870912)===0||Ae?Ze():536870912);var e=Ft.current;return e!==null&&(e.flags|=32),It}function Xt(e,t,a){(e===Be&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(js(e,0),nn(e,Ee,It,!1)),Ye(e,a),((Oe&2)===0||e!==Be)&&(e===Be&&((Oe&2)===0&&(Un|=a),Fe===4&&nn(e,Ee,It,!1)),ma(e))}function hh(e,t,a){if((Oe&6)!==0)throw Error(r(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||ce(e,t),i=n?tp(e,t):cu(e,t,!0),d=n;do{if(i===0){bs&&!n&&nn(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!Ig(a)){i=cu(e,t,!1),d=!1;continue}if(i===2){if(d=t,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var b=e;i=Rl;var _=b.current.memoizedState.isDehydrated;if(_&&(js(b,p).flags|=256),p=cu(b,p,!1),p!==2){if(tu&&!_){b.errorRecoveryDisabledLanes|=d,Un|=d,i=4;break e}d=qt,qt=i,d!==null&&(qt===null?qt=d:qt.push.apply(qt,d))}i=p}if(d=!1,i!==2)continue}}if(i===1){js(e,0),nn(e,t,0,!0);break}e:{switch(n=e,d=i,d){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:nn(n,t,It,!Ia);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=su+300-De(),10<i)){if(nn(n,t,It,!Ia),F(n,0,!0)!==0)break e;n.timeoutHandle=Gh(mh.bind(null,n,a,qt,Vr,nu,t,It,Un,xs,Ia,d,2,-0,0),i);break e}mh(n,a,qt,Vr,nu,t,It,Un,xs,Ia,d,0,-0,0)}}break}while(!0);ma(e)}function mh(e,t,a,n,i,d,p,b,_,O,z,H,k,C){if(e.timeoutHandle=-1,H=t.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:Up},ih(t),H=qp(),H!==null)){e.cancelPendingCommit=H(wh.bind(null,e,t,d,a,n,i,p,b,_,z,1,k,C)),nn(e,d,p,!O);return}wh(e,t,d,a,n,i,p,b,_)}function Ig(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],d=i.getSnapshot;i=i.value;try{if(!Bt(d(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t,a,n){t&=~au,t&=~Un,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var d=31-it(i),p=1<<d;n[d]=-1,i&=~p}a!==0&&bt(e,a,t)}function Xr(){return(Oe&6)===0?(Ol(0),!1):!0}function ou(){if(be!==null){if(ke===0)var e=be.return;else e=be,ja=Rn=null,Eo(e),gs=null,xl=0,e=be;for(;e!==null;)Qf(e.alternate,e),e=e.return;be=null}}function js(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,vp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ou(),Be=e,be=a=xa(e.current,null),Ee=t,ke=0,Yt=null,Ia=!1,bs=ce(e,t),tu=!1,xs=It=au=Un=en=Fe=0,qt=Rl=null,nu=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-it(n),d=1<<i;t|=e[i],n&=~d}return ka=t,hr(),a}function gh(e,t){pe=null,L.H=Cr,t===dl||t===_r?(t=kd(),ke=3):t===Rd?(t=kd(),ke=4):ke=t===Df?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,be===null&&(Fe=1,Lr(e,Pt(t,e.current)))}function ph(){var e=L.H;return L.H=Cr,e===null?Cr:e}function vh(){var e=L.A;return L.A=Wg,e}function uu(){Fe=4,Ia||(Ee&4194048)!==Ee&&Ft.current!==null||(bs=!0),(en&134217727)===0&&(Un&134217727)===0||Be===null||nn(Be,Ee,It,!1)}function cu(e,t,a){var n=Oe;Oe|=2;var i=ph(),d=vh();(Be!==e||Ee!==t)&&(Vr=null,js(e,t)),t=!1;var p=Fe;e:do try{if(ke!==0&&be!==null){var b=be,_=Yt;switch(ke){case 8:ou(),p=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(t=!0);var O=ke;if(ke=0,Yt=null,Ss(e,b,_,O),a&&bs){p=0;break e}break;default:O=ke,ke=0,Yt=null,Ss(e,b,_,O)}}ep(),p=Fe;break}catch(z){gh(e,z)}while(!0);return t&&e.shellSuspendCounter++,ja=Rn=null,Oe=n,L.H=i,L.A=d,be===null&&(Be=null,Ee=0,hr()),p}function ep(){for(;be!==null;)yh(be)}function tp(e,t){var a=Oe;Oe|=2;var n=ph(),i=vh();Be!==e||Ee!==t?(Vr=null,Yr=De()+500,js(e,t)):bs=ce(e,t);e:do try{if(ke!==0&&be!==null){t=be;var d=Yt;t:switch(ke){case 1:ke=0,Yt=null,Ss(e,t,d,1);break;case 2:case 9:if(Ad(d)){ke=0,Yt=null,bh(t);break}t=function(){ke!==2&&ke!==9||Be!==e||(ke=7),ma(e)},d.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Ad(d)?(ke=0,Yt=null,bh(t)):(ke=0,Yt=null,Ss(e,t,d,7));break;case 5:var p=null;switch(be.tag){case 26:p=be.memoizedState;case 5:case 27:var b=be;if(!p||em(p)){ke=0,Yt=null;var _=b.sibling;if(_!==null)be=_;else{var O=b.return;O!==null?(be=O,Kr(O)):be=null}break t}}ke=0,Yt=null,Ss(e,t,d,5);break;case 6:ke=0,Yt=null,Ss(e,t,d,6);break;case 8:ou(),Fe=6;break e;default:throw Error(r(462))}}ap();break}catch(z){gh(e,z)}while(!0);return ja=Rn=null,L.H=n,L.A=i,Oe=a,be!==null?0:(Be=null,Ee=0,hr(),Fe)}function ap(){for(;be!==null&&!le();)yh(be)}function yh(e){var t=Xf(e.alternate,e,ka);e.memoizedProps=e.pendingProps,t===null?Kr(e):be=t}function bh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Bf(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Bf(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Eo(t);default:Qf(a,t),t=be=bd(t,ka),t=Xf(a,t,ka)}e.memoizedProps=e.pendingProps,t===null?Kr(e):be=t}function Ss(e,t,a,n){ja=Rn=null,Eo(t),gs=null,xl=0;var i=t.return;try{if(Xg(e,i,t,a,Ee)){Fe=1,Lr(e,Pt(a,e.current)),be=null;return}}catch(d){if(i!==null)throw be=i,d;Fe=1,Lr(e,Pt(a,e.current)),be=null;return}t.flags&32768?(Ae||n===1?e=!0:bs||(Ee&536870912)!==0?e=!1:(Ia=e=!0,(n===2||n===9||n===3||n===6)&&(n=Ft.current,n!==null&&n.tag===13&&(n.flags|=16384))),xh(t,e)):Kr(t)}function Kr(e){var t=e;do{if((t.flags&32768)!==0){xh(t,Ia);return}e=t.return;var a=Qg(t.alternate,t,ka);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Fe===0&&(Fe=5)}function xh(e,t){do{var a=Pg(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Fe=6,be=null}function wh(e,t,a,n,i,d,p,b,_){e.cancelPendingCommit=null;do Qr();while(wt!==0);if((Oe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(d=t.lanes|t.childLanes,d|=Ii,St(e,a,d,p,b,_),e===Be&&(be=Be=null,Ee=0),ws=t,an=e,_s=a,lu=d,ru=i,dh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rp(ta,function(){return Nh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null,i=W.p,W.p=2,p=Oe,Oe|=4;try{Zg(e,t,a)}finally{Oe=p,W.p=i,L.T=n}}wt=1,_h(),jh(),Sh()}}function _h(){if(wt===1){wt=0;var e=an,t=ws,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var n=W.p;W.p=2;var i=Oe;Oe|=4;try{sh(t,e);var d=_u,p=ud(e.containerInfo),b=d.focusedElem,_=d.selectionRange;if(p!==b&&b&&b.ownerDocument&&od(b.ownerDocument.documentElement,b)){if(_!==null&&Pi(b)){var O=_.start,z=_.end;if(z===void 0&&(z=O),"selectionStart"in b)b.selectionStart=O,b.selectionEnd=Math.min(z,b.value.length);else{var H=b.ownerDocument||document,k=H&&H.defaultView||window;if(k.getSelection){var C=k.getSelection(),ue=b.textContent.length,re=Math.min(_.start,ue),qe=_.end===void 0?re:Math.min(_.end,ue);!C.extend&&re>qe&&(p=qe,qe=re,re=p);var N=id(b,re),E=id(b,qe);if(N&&E&&(C.rangeCount!==1||C.anchorNode!==N.node||C.anchorOffset!==N.offset||C.focusNode!==E.node||C.focusOffset!==E.offset)){var R=H.createRange();R.setStart(N.node,N.offset),C.removeAllRanges(),re>qe?(C.addRange(R),C.extend(E.node,E.offset)):(R.setEnd(E.node,E.offset),C.addRange(R))}}}}for(H=[],C=b;C=C.parentNode;)C.nodeType===1&&H.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<H.length;b++){var B=H[b];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}li=!!wu,_u=wu=null}finally{Oe=i,W.p=n,L.T=a}}e.current=t,wt=2}}function jh(){if(wt===2){wt=0;var e=an,t=ws,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var n=W.p;W.p=2;var i=Oe;Oe|=4;try{eh(e,t.alternate,t)}finally{Oe=i,W.p=n,L.T=a}}wt=3}}function Sh(){if(wt===4||wt===3){wt=0,fe();var e=an,t=ws,a=_s,n=dh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?wt=5:(wt=0,ws=an=null,Eh(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(tn=null),zt(a),t=t.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(kt,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=L.T,i=W.p,W.p=2,L.T=null;try{for(var d=e.onRecoverableError,p=0;p<n.length;p++){var b=n[p];d(b.value,{componentStack:b.stack})}}finally{L.T=t,W.p=i}}(_s&3)!==0&&Qr(),ma(e),i=e.pendingLanes,(a&4194090)!==0&&(i&42)!==0?e===iu?Al++:(Al=0,iu=e):Al=0,Ol(0)}}function Eh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ul(t)))}function Qr(e){return _h(),jh(),Sh(),Nh()}function Nh(){if(wt!==5)return!1;var e=an,t=lu;lu=0;var a=zt(_s),n=L.T,i=W.p;try{W.p=32>a?32:a,L.T=null,a=ru,ru=null;var d=an,p=_s;if(wt=0,ws=an=null,_s=0,(Oe&6)!==0)throw Error(r(331));var b=Oe;if(Oe|=4,uh(d.current),rh(d,d.current,p,a),Oe=b,Ol(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(kt,d)}catch{}return!0}finally{W.p=i,L.T=n,Eh(e,t)}}function Th(e,t,a){t=Pt(a,t),t=Bo(e.stateNode,t,2),e=Ka(e,t,2),e!==null&&(Ye(e,2),ma(e))}function Le(e,t,a){if(e.tag===3)Th(e,e,a);else for(;t!==null;){if(t.tag===3){Th(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tn===null||!tn.has(n))){e=Pt(a,e),a=kf(2),n=Ka(t,a,2),n!==null&&(Cf(a,n,t,e),Ye(n,2),ma(n));break}}t=t.return}}function du(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Fg;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(tu=!0,i.add(a),e=np.bind(null,e,t,a),t.then(e,e))}function np(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(Ee&a)===a&&(Fe===4||Fe===3&&(Ee&62914560)===Ee&&300>De()-su?(Oe&2)===0&&js(e,0):au|=a,xs===Ee&&(xs=0)),ma(e)}function Rh(e,t){t===0&&(t=ot()),e=ls(e,t),e!==null&&(Ye(e,t),ma(e))}function sp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Rh(e,a)}function lp(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),Rh(e,a)}function rp(e,t){return Ba(e,t)}var Pr=null,Es=null,fu=!1,Zr=!1,hu=!1,Mn=0;function ma(e){e!==Es&&e.next===null&&(Es===null?Pr=Es=e:Es=Es.next=e),Zr=!0,fu||(fu=!0,op())}function Ol(e,t){if(!hu&&Zr){hu=!0;do for(var a=!1,n=Pr;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var d=0;else{var p=n.suspendedLanes,b=n.pingedLanes;d=(1<<31-it(42|e)+1)-1,d&=i&~(p&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ch(n,d))}else d=Ee,d=F(n,n===Be?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(d&3)===0||ce(n,d)||(a=!0,Ch(n,d));n=n.next}while(a);hu=!1}}function ip(){Ah()}function Ah(){Zr=fu=!1;var e=0;Mn!==0&&(pp()&&(e=Mn),Mn=0);for(var t=De(),a=null,n=Pr;n!==null;){var i=n.next,d=Oh(n,t);d===0?(n.next=null,a===null?Pr=i:a.next=i,i===null&&(Es=a)):(a=n,(e!==0||(d&3)!==0)&&(Zr=!0)),n=i}Ol(e)}function Oh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-it(d),b=1<<p,_=i[p];_===-1?((b&a)===0||(b&n)!==0)&&(i[p]=je(b,t)):_<=t&&(e.expiredLanes|=b),d&=~b}if(t=Be,a=Ee,a=F(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&pn(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ce(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&pn(n),zt(a)){case 2:case 8:a=Ha;break;case 32:a=ta;break;case 268435456:a=$a;break;default:a=ta}return n=kh.bind(null,e),a=Ba(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&pn(n),e.callbackPriority=2,e.callbackNode=null,2}function kh(e,t){if(wt!==0&&wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Qr()&&e.callbackNode!==a)return null;var n=Ee;return n=F(e,e===Be?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(hh(e,n,t),Oh(e,De()),e.callbackNode!=null&&e.callbackNode===a?kh.bind(null,e):null)}function Ch(e,t){if(Qr())return null;hh(e,t,!0)}function op(){yp(function(){(Oe&6)!==0?Ba(va,ip):Ah()})}function mu(){return Mn===0&&(Mn=Ze()),Mn}function Dh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rr(""+e)}function Uh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function up(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var d=Dh((i[Ct]||null).action),p=n.submitter;p&&(t=(t=p[Ct]||null)?Dh(t.formAction):p.getAttribute("formAction"),t!==null&&(d=t,p=null));var b=new cr("action","action",null,n,i);e.push({event:b,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Mn!==0){var _=p?Uh(i,p):new FormData(i);Uo(a,{pending:!0,data:_,method:i.method,action:d},null,_)}}else typeof d=="function"&&(b.preventDefault(),_=p?Uh(i,p):new FormData(i),Uo(a,{pending:!0,data:_,method:i.method,action:d},d,_))},currentTarget:i}]})}}for(var gu=0;gu<Fi.length;gu++){var pu=Fi[gu],cp=pu.toLowerCase(),dp=pu[0].toUpperCase()+pu.slice(1);na(cp,"on"+dp)}na(fd,"onAnimationEnd"),na(hd,"onAnimationIteration"),na(md,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(Rg,"onTransitionRun"),na(Ag,"onTransitionStart"),na(Og,"onTransitionCancel"),na(gd,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Mh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var d=void 0;if(t)for(var p=n.length-1;0<=p;p--){var b=n[p],_=b.instance,O=b.currentTarget;if(b=b.listener,_!==d&&i.isPropagationStopped())break e;d=b,i.currentTarget=O;try{d(i)}catch(z){qr(z)}i.currentTarget=null,d=_}else for(p=0;p<n.length;p++){if(b=n[p],_=b.instance,O=b.currentTarget,b=b.listener,_!==d&&i.isPropagationStopped())break e;d=b,i.currentTarget=O;try{d(i)}catch(z){qr(z)}i.currentTarget=null,d=_}}}}function xe(e,t){var a=t[Ri];a===void 0&&(a=t[Ri]=new Set);var n=e+"__bubble";a.has(n)||(qh(t,e,2,!1),a.add(n))}function vu(e,t,a){var n=0;t&&(n|=4),qh(a,e,n,t)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function yu(e){if(!e[Jr]){e[Jr]=!0,Rc.forEach(function(a){a!=="selectionchange"&&(fp.has(a)||vu(a,!1,e),vu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jr]||(t[Jr]=!0,vu("selectionchange",!1,t))}}function qh(e,t,a,n){switch(rm(t)){case 2:var i=Bp;break;case 8:i=Hp;break;default:i=Cu}a=i.bind(null,t,a,e),i=void 0,!Bi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function bu(e,t,a,n,i){var d=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var p=n.tag;if(p===3||p===4){var b=n.stateNode.containerInfo;if(b===i)break;if(p===4)for(p=n.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;b!==null;){if(p=Kn(b),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){n=d=p;continue e}b=b.parentNode}}n=n.return}Gc(function(){var O=d,z=Li(a),H=[];e:{var k=pd.get(e);if(k!==void 0){var C=cr,ue=e;switch(e){case"keypress":if(or(a)===0)break e;case"keydown":case"keyup":C=rg;break;case"focusin":ue="focus",C=Yi;break;case"focusout":ue="blur",C=Yi;break;case"beforeblur":case"afterblur":C=Yi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=ug;break;case fd:case hd:case md:C=W0;break;case gd:C=dg;break;case"scroll":case"scrollend":C=K0;break;case"wheel":C=hg;break;case"copy":case"cut":case"paste":C=I0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Qc;break;case"toggle":case"beforetoggle":C=gg}var re=(t&4)!==0,qe=!re&&(e==="scroll"||e==="scrollend"),N=re?k!==null?k+"Capture":null:k;re=[];for(var E=O,R;E!==null;){var B=E;if(R=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||R===null||N===null||(B=Js(E,N),B!=null&&re.push(Cl(E,B,R))),qe)break;E=E.return}0<re.length&&(k=new C(k,ue,null,a,z),H.push({event:k,listeners:re}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",k&&a!==qi&&(ue=a.relatedTarget||a.fromElement)&&(Kn(ue)||ue[Xn]))break e;if((C||k)&&(k=z.window===z?z:(k=z.ownerDocument)?k.defaultView||k.parentWindow:window,C?(ue=a.relatedTarget||a.toElement,C=O,ue=ue?Kn(ue):null,ue!==null&&(qe=f(ue),re=ue.tag,ue!==qe||re!==5&&re!==27&&re!==6)&&(ue=null)):(C=null,ue=O),C!==ue)){if(re=Xc,B="onMouseLeave",N="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(re=Qc,B="onPointerLeave",N="onPointerEnter",E="pointer"),qe=C==null?k:Zs(C),R=ue==null?k:Zs(ue),k=new re(B,E+"leave",C,a,z),k.target=qe,k.relatedTarget=R,B=null,Kn(z)===O&&(re=new re(N,E+"enter",ue,a,z),re.target=R,re.relatedTarget=qe,B=re),qe=B,C&&ue)t:{for(re=C,N=ue,E=0,R=re;R;R=Ns(R))E++;for(R=0,B=N;B;B=Ns(B))R++;for(;0<E-R;)re=Ns(re),E--;for(;0<R-E;)N=Ns(N),R--;for(;E--;){if(re===N||N!==null&&re===N.alternate)break t;re=Ns(re),N=Ns(N)}re=null}else re=null;C!==null&&Lh(H,k,C,re,!1),ue!==null&&qe!==null&&Lh(H,qe,ue,re,!0)}}e:{if(k=O?Zs(O):window,C=k.nodeName&&k.nodeName.toLowerCase(),C==="select"||C==="input"&&k.type==="file")var ne=td;else if(Ic(k))if(ad)ne=Eg;else{ne=jg;var ye=_g}else C=k.nodeName,!C||C.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?O&&Mi(O.elementType)&&(ne=td):ne=Sg;if(ne&&(ne=ne(e,O))){ed(H,ne,a,z);break e}ye&&ye(e,k,O),e==="focusout"&&O&&k.type==="number"&&O.memoizedProps.value!=null&&Ui(k,"number",k.value)}switch(ye=O?Zs(O):window,e){case"focusin":(Ic(ye)||ye.contentEditable==="true")&&(as=ye,Zi=O,sl=null);break;case"focusout":sl=Zi=as=null;break;case"mousedown":Ji=!0;break;case"contextmenu":case"mouseup":case"dragend":Ji=!1,cd(H,a,z);break;case"selectionchange":if(Tg)break;case"keydown":case"keyup":cd(H,a,z)}var se;if(Xi)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else ts?Wc(e,a)&&(ie="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ie="onCompositionStart");ie&&(Pc&&a.locale!=="ko"&&(ts||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&ts&&(se=Yc()):(Ga=z,Hi="value"in Ga?Ga.value:Ga.textContent,ts=!0)),ye=Wr(O,ie),0<ye.length&&(ie=new Kc(ie,e,null,a,z),H.push({event:ie,listeners:ye}),se?ie.data=se:(se=Fc(a),se!==null&&(ie.data=se)))),(se=vg?yg(e,a):bg(e,a))&&(ie=Wr(O,"onBeforeInput"),0<ie.length&&(ye=new Kc("onBeforeInput","beforeinput",null,a,z),H.push({event:ye,listeners:ie}),ye.data=se)),up(H,e,O,a,z)}Mh(H,t)})}function Cl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Wr(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,d=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||d===null||(i=Js(e,a),i!=null&&n.unshift(Cl(e,i,d)),i=Js(e,t),i!=null&&n.push(Cl(e,i,d))),e.tag===3)return n;e=e.return}return[]}function Ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lh(e,t,a,n,i){for(var d=t._reactName,p=[];a!==null&&a!==n;){var b=a,_=b.alternate,O=b.stateNode;if(b=b.tag,_!==null&&_===n)break;b!==5&&b!==26&&b!==27||O===null||(_=O,i?(O=Js(a,d),O!=null&&p.unshift(Cl(a,O,_))):i||(O=Js(a,d),O!=null&&p.push(Cl(a,O,_)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var hp=/\r\n?/g,mp=/\u0000|\uFFFD/g;function zh(e){return(typeof e=="string"?e:""+e).replace(hp,`
`).replace(mp,"")}function Bh(e,t){return t=zh(t),zh(e)===t}function Fr(){}function Me(e,t,a,n,i,d){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Fn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Fn(e,""+n);break;case"className":nr(e,"class",n);break;case"tabIndex":nr(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(e,a,n);break;case"style":Hc(e,n,d);break;case"data":if(t!=="object"){nr(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=rr(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Me(e,t,"name",i.name,i,null),Me(e,t,"formEncType",i.formEncType,i,null),Me(e,t,"formMethod",i.formMethod,i,null),Me(e,t,"formTarget",i.formTarget,i,null)):(Me(e,t,"encType",i.encType,i,null),Me(e,t,"method",i.method,i,null),Me(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=rr(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Fr);break;case"onScroll":n!=null&&xe("scroll",e);break;case"onScrollEnd":n!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=rr(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":xe("beforetoggle",e),xe("toggle",e),ar(e,"popover",n);break;case"xlinkActuate":ya(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ya(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ya(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ya(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ya(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ya(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ya(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ya(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ya(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ar(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=V0.get(a)||a,ar(e,a,n))}}function xu(e,t,a,n,i,d){switch(a){case"style":Hc(e,n,d);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Fn(e,n):(typeof n=="number"||typeof n=="bigint")&&Fn(e,""+n);break;case"onScroll":n!=null&&xe("scroll",e);break;case"onScrollEnd":n!=null&&xe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ac.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),d=e[Ct]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,i),typeof n=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):ar(e,a,n)}}}function _t(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var n=!1,i=!1,d;for(d in a)if(a.hasOwnProperty(d)){var p=a[d];if(p!=null)switch(d){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Me(e,t,d,p,a,null)}}i&&Me(e,t,"srcSet",a.srcSet,a,null),n&&Me(e,t,"src",a.src,a,null);return;case"input":xe("invalid",e);var b=d=p=i=null,_=null,O=null;for(n in a)if(a.hasOwnProperty(n)){var z=a[n];if(z!=null)switch(n){case"name":i=z;break;case"type":p=z;break;case"checked":_=z;break;case"defaultChecked":O=z;break;case"value":d=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:Me(e,t,n,z,a,null)}}qc(e,d,b,_,O,p,i,!1),sr(e);return;case"select":xe("invalid",e),n=p=d=null;for(i in a)if(a.hasOwnProperty(i)&&(b=a[i],b!=null))switch(i){case"value":d=b;break;case"defaultValue":p=b;break;case"multiple":n=b;default:Me(e,t,i,b,a,null)}t=d,a=p,e.multiple=!!n,t!=null?Wn(e,!!n,t,!1):a!=null&&Wn(e,!!n,a,!0);return;case"textarea":xe("invalid",e),d=i=n=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":n=b;break;case"defaultValue":i=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Me(e,t,p,b,a,null)}zc(e,n,i,d),sr(e);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(n=a[_],n!=null))switch(_){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Me(e,t,_,n,a,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(n=0;n<kl.length;n++)xe(kl[n],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(n=a[O],n!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Me(e,t,O,n,a,null)}return;default:if(Mi(t)){for(z in a)a.hasOwnProperty(z)&&(n=a[z],n!==void 0&&xu(e,t,z,n,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(n=a[b],n!=null&&Me(e,t,b,n,a,null))}function gp(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,d=null,p=null,b=null,_=null,O=null,z=null;for(C in a){var H=a[C];if(a.hasOwnProperty(C)&&H!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":_=H;default:n.hasOwnProperty(C)||Me(e,t,C,null,n,H)}}for(var k in n){var C=n[k];if(H=a[k],n.hasOwnProperty(k)&&(C!=null||H!=null))switch(k){case"type":d=C;break;case"name":i=C;break;case"checked":O=C;break;case"defaultChecked":z=C;break;case"value":p=C;break;case"defaultValue":b=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:C!==H&&Me(e,t,k,C,n,H)}}Di(e,p,b,_,O,z,d,i);return;case"select":C=p=b=k=null;for(d in a)if(_=a[d],a.hasOwnProperty(d)&&_!=null)switch(d){case"value":break;case"multiple":C=_;default:n.hasOwnProperty(d)||Me(e,t,d,null,n,_)}for(i in n)if(d=n[i],_=a[i],n.hasOwnProperty(i)&&(d!=null||_!=null))switch(i){case"value":k=d;break;case"defaultValue":b=d;break;case"multiple":p=d;default:d!==_&&Me(e,t,i,d,n,_)}t=b,a=p,n=C,k!=null?Wn(e,!!a,k,!1):!!n!=!!a&&(t!=null?Wn(e,!!a,t,!0):Wn(e,!!a,a?[]:"",!1));return;case"textarea":C=k=null;for(b in a)if(i=a[b],a.hasOwnProperty(b)&&i!=null&&!n.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Me(e,t,b,null,n,i)}for(p in n)if(i=n[p],d=a[p],n.hasOwnProperty(p)&&(i!=null||d!=null))switch(p){case"value":k=i;break;case"defaultValue":C=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==d&&Me(e,t,p,i,n,d)}Lc(e,k,C);return;case"option":for(var ue in a)if(k=a[ue],a.hasOwnProperty(ue)&&k!=null&&!n.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:Me(e,t,ue,null,n,k)}for(_ in n)if(k=n[_],C=a[_],n.hasOwnProperty(_)&&k!==C&&(k!=null||C!=null))switch(_){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Me(e,t,_,k,n,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)k=a[re],a.hasOwnProperty(re)&&k!=null&&!n.hasOwnProperty(re)&&Me(e,t,re,null,n,k);for(O in n)if(k=n[O],C=a[O],n.hasOwnProperty(O)&&k!==C&&(k!=null||C!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,t));break;default:Me(e,t,O,k,n,C)}return;default:if(Mi(t)){for(var qe in a)k=a[qe],a.hasOwnProperty(qe)&&k!==void 0&&!n.hasOwnProperty(qe)&&xu(e,t,qe,void 0,n,k);for(z in n)k=n[z],C=a[z],!n.hasOwnProperty(z)||k===C||k===void 0&&C===void 0||xu(e,t,z,k,n,C);return}}for(var N in a)k=a[N],a.hasOwnProperty(N)&&k!=null&&!n.hasOwnProperty(N)&&Me(e,t,N,null,n,k);for(H in n)k=n[H],C=a[H],!n.hasOwnProperty(H)||k===C||k==null&&C==null||Me(e,t,H,k,n,C)}var wu=null,_u=null;function Ir(e){return e.nodeType===9?e:e.ownerDocument}function Hh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $h(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Su=null;function pp(){var e=window.event;return e&&e.type==="popstate"?e===Su?!1:(Su=e,!0):(Su=null,!1)}var Gh=typeof setTimeout=="function"?setTimeout:void 0,vp=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,yp=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(bp)}:Gh;function bp(e){setTimeout(function(){throw e})}function sn(e){return e==="head"}function Vh(e,t){var a=t,n=0,i=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<n&&8>n){a=n;var p=e.ownerDocument;if(a&1&&Dl(p.documentElement),a&2&&Dl(p.body),a&4)for(a=p.head,Dl(a),p=a.firstChild;p;){var b=p.nextSibling,_=p.nodeName;p[Ps]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=b}}if(i===0){e.removeChild(d),$l(t);return}i--}else a==="$"||a==="$?"||a==="$!"?i++:n=a.charCodeAt(0)-48;else n=0;a=d}while(a);$l(t)}function Eu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Eu(a),Ai(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xp(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ps])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=la(e.nextSibling),e===null)break}return null}function wp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=la(e.nextSibling),e===null))return null;return e}function Nu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function _p(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function la(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Tu=null;function Xh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Kh(e,t,a){switch(t=Ir(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Dl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ai(e)}var ea=new Map,Qh=new Set;function ei(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ca=W.d;W.d={f:jp,r:Sp,D:Ep,C:Np,L:Tp,m:Rp,X:Op,S:Ap,M:kp};function jp(){var e=Ca.f(),t=Xr();return e||t}function Sp(e){var t=Qn(e);t!==null&&t.tag===5&&t.type==="form"?hf(t):Ca.r(e)}var Ts=typeof document>"u"?null:document;function Ph(e,t,a){var n=Ts;if(n&&typeof t=="string"&&t){var i=Qt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),Qh.has(i)||(Qh.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),_t(t,"link",e),mt(t),n.head.appendChild(t)))}}function Ep(e){Ca.D(e),Ph("dns-prefetch",e,null)}function Np(e,t){Ca.C(e,t),Ph("preconnect",e,t)}function Tp(e,t,a){Ca.L(e,t,a);var n=Ts;if(n&&e&&t){var i='link[rel="preload"][as="'+Qt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+Qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+Qt(a.imageSizes)+'"]')):i+='[href="'+Qt(e)+'"]';var d=i;switch(t){case"style":d=Rs(e);break;case"script":d=As(e)}ea.has(d)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ea.set(d,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(Ul(d))||t==="script"&&n.querySelector(Ml(d))||(t=n.createElement("link"),_t(t,"link",e),mt(t),n.head.appendChild(t)))}}function Rp(e,t){Ca.m(e,t);var a=Ts;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Qt(n)+'"][href="'+Qt(e)+'"]',d=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=As(e)}if(!ea.has(d)&&(e=y({rel:"modulepreload",href:e},t),ea.set(d,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}n=a.createElement("link"),_t(n,"link",e),mt(n),a.head.appendChild(n)}}}function Ap(e,t,a){Ca.S(e,t,a);var n=Ts;if(n&&e){var i=Pn(n).hoistableStyles,d=Rs(e);t=t||"default";var p=i.get(d);if(!p){var b={loading:0,preload:null};if(p=n.querySelector(Ul(d)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ea.get(d))&&Ru(e,a);var _=p=n.createElement("link");mt(_),_t(_,"link",e),_._p=new Promise(function(O,z){_.onload=O,_.onerror=z}),_.addEventListener("load",function(){b.loading|=1}),_.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ti(p,t,n)}p={type:"stylesheet",instance:p,count:1,state:b},i.set(d,p)}}}function Op(e,t){Ca.X(e,t);var a=Ts;if(a&&e){var n=Pn(a).hoistableScripts,i=As(e),d=n.get(i);d||(d=a.querySelector(Ml(i)),d||(e=y({src:e,async:!0},t),(t=ea.get(i))&&Au(e,t),d=a.createElement("script"),mt(d),_t(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(i,d))}}function kp(e,t){Ca.M(e,t);var a=Ts;if(a&&e){var n=Pn(a).hoistableScripts,i=As(e),d=n.get(i);d||(d=a.querySelector(Ml(i)),d||(e=y({src:e,async:!0,type:"module"},t),(t=ea.get(i))&&Au(e,t),d=a.createElement("script"),mt(d),_t(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(i,d))}}function Zh(e,t,a,n){var i=(i=I.current)?ei(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Rs(a.href),a=Pn(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Rs(a.href);var d=Pn(i).hoistableStyles,p=d.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=i.querySelector(Ul(e)))&&!d._p&&(p.instance=d,p.state.loading=5),ea.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ea.set(e,a),d||Cp(i,e,a,p.state))),t&&n===null)throw Error(r(528,""));return p}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=As(a),a=Pn(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Rs(e){return'href="'+Qt(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function Jh(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Cp(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),_t(t,"link",a),mt(t),e.head.appendChild(t))}function As(e){return'[src="'+Qt(e)+'"]'}function Ml(e){return"script[async]"+e}function Wh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Qt(a.href)+'"]');if(n)return t.instance=n,mt(n),n;var i=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),mt(n),_t(n,"style",i),ti(n,a.precedence,e),t.instance=n;case"stylesheet":i=Rs(a.href);var d=e.querySelector(Ul(i));if(d)return t.state.loading|=4,t.instance=d,mt(d),d;n=Jh(a),(i=ea.get(i))&&Ru(n,i),d=(e.ownerDocument||e).createElement("link"),mt(d);var p=d;return p._p=new Promise(function(b,_){p.onload=b,p.onerror=_}),_t(d,"link",n),t.state.loading|=4,ti(d,a.precedence,e),t.instance=d;case"script":return d=As(a.src),(i=e.querySelector(Ml(d)))?(t.instance=i,mt(i),i):(n=a,(i=ea.get(d))&&(n=y({},a),Au(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),mt(i),_t(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,ti(n,a.precedence,e));return t.instance}function ti(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,d=i,p=0;p<n.length;p++){var b=n[p];if(b.dataset.precedence===t)d=b;else if(d!==i)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ai=null;function Fh(e,t,a){if(ai===null){var n=new Map,i=ai=new Map;i.set(a,n)}else i=ai,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var d=a[i];if(!(d[Ps]||d[Ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(t)||"";p=e+p;var b=n.get(p);b?b.push(d):n.set(p,[d])}}return n}function Ih(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Dp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function em(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ql=null;function Up(){}function Mp(e,t,a){if(ql===null)throw Error(r(475));var n=ql;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=Rs(a.href),d=e.querySelector(Ul(i));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=ni.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=d,mt(d);return}d=e.ownerDocument||e,a=Jh(a),(i=ea.get(i))&&Ru(a,i),d=d.createElement("link"),mt(d);var p=d;p._p=new Promise(function(b,_){p.onload=b,p.onerror=_}),_t(d,"link",a),t.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=ni.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function qp(){if(ql===null)throw Error(r(475));var e=ql;return e.stylesheets&&e.count===0&&Ou(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Ou(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ni(){if(this.count--,this.count===0){if(this.stylesheets)Ou(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var si=null;function Ou(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,si=new Map,t.forEach(Lp,e),si=null,ni.call(e))}function Lp(e,t){if(!(t.state.loading&4)){var a=si.get(e);if(a)var n=a.get(null);else{a=new Map,si.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<i.length;d++){var p=i[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),n=p)}n&&a.set(null,n)}i=t.instance,p=i.getAttribute("data-precedence"),d=a.get(p)||n,d===n&&a.set(null,i),a.set(p,i),this.count++,n=ni.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),d?d.parentNode.insertBefore(i,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ll={$$typeof:D,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function zp(e,t,a,n,i,d,p,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ge(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ge(0),this.hiddenUpdates=Ge(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function tm(e,t,a,n,i,d,p,b,_,O,z,H){return e=new zp(e,t,a,p,b,_,O,H),t=1,d===!0&&(t|=24),d=Ht(3,null,null,t),e.current=d,d.stateNode=e,t=co(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:n,isDehydrated:a,cache:t},go(d),e}function am(e){return e?(e=rs,e):rs}function nm(e,t,a,n,i,d){i=am(i),n.context===null?n.context=i:n.pendingContext=i,n=Xa(t),n.payload={element:a},d=d===void 0?null:d,d!==null&&(n.callback=d),a=Ka(e,n,t),a!==null&&(Xt(a,e,t),hl(a,e,t))}function sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ku(e,t){sm(e,t),(e=e.alternate)&&sm(e,t)}function lm(e){if(e.tag===13){var t=ls(e,67108864);t!==null&&Xt(t,e,67108864),ku(e,67108864)}}var li=!0;function Bp(e,t,a,n){var i=L.T;L.T=null;var d=W.p;try{W.p=2,Cu(e,t,a,n)}finally{W.p=d,L.T=i}}function Hp(e,t,a,n){var i=L.T;L.T=null;var d=W.p;try{W.p=8,Cu(e,t,a,n)}finally{W.p=d,L.T=i}}function Cu(e,t,a,n){if(li){var i=Du(n);if(i===null)bu(e,t,n,ri,a),im(e,n);else if(Gp(i,e,t,a,n))n.stopPropagation();else if(im(e,n),t&4&&-1<$p.indexOf(e)){for(;i!==null;){var d=Qn(i);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=Z(d.pendingLanes);if(p!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var _=1<<31-it(p);b.entanglements[1]|=_,p&=~_}ma(d),(Oe&6)===0&&(Yr=De()+500,Ol(0))}}break;case 13:b=ls(d,2),b!==null&&Xt(b,d,2),Xr(),ku(d,2)}if(d=Du(n),d===null&&bu(e,t,n,ri,a),d===i)break;i=d}i!==null&&n.stopPropagation()}else bu(e,t,n,null,a)}}function Du(e){return e=Li(e),Uu(e)}var ri=null;function Uu(e){if(ri=null,e=Kn(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ri=e,null}function rm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case va:return 2;case Ha:return 8;case ta:case rt:return 32;case $a:return 268435456;default:return 32}default:return 32}}var Mu=!1,ln=null,rn=null,on=null,zl=new Map,Bl=new Map,un=[],$p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function im(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(t.pointerId)}}function Hl(e,t,a,n,i,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:d,targetContainers:[i]},t!==null&&(t=Qn(t),t!==null&&lm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Gp(e,t,a,n,i){switch(t){case"focusin":return ln=Hl(ln,e,t,a,n,i),!0;case"dragenter":return rn=Hl(rn,e,t,a,n,i),!0;case"mouseover":return on=Hl(on,e,t,a,n,i),!0;case"pointerover":var d=i.pointerId;return zl.set(d,Hl(zl.get(d)||null,e,t,a,n,i)),!0;case"gotpointercapture":return d=i.pointerId,Bl.set(d,Hl(Bl.get(d)||null,e,t,a,n,i)),!0}return!1}function om(e){var t=Kn(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Qs(e.priority,function(){if(a.tag===13){var n=Vt();n=ht(n);var i=ls(a,n);i!==null&&Xt(i,a,n),ku(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Du(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);qi=n,a.target.dispatchEvent(n),qi=null}else return t=Qn(a),t!==null&&lm(t),e.blockedOn=a,!1;t.shift()}return!0}function um(e,t,a){ii(e)&&a.delete(t)}function Yp(){Mu=!1,ln!==null&&ii(ln)&&(ln=null),rn!==null&&ii(rn)&&(rn=null),on!==null&&ii(on)&&(on=null),zl.forEach(um),Bl.forEach(um)}function oi(e,t){e.blockedOn===t&&(e.blockedOn=null,Mu||(Mu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Yp)))}var ui=null;function cm(e){ui!==e&&(ui=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){ui===e&&(ui=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(Uu(n||a)===null)continue;break}var d=Qn(a);d!==null&&(e.splice(t,3),t-=3,Uo(d,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function $l(e){function t(_){return oi(_,e)}ln!==null&&oi(ln,e),rn!==null&&oi(rn,e),on!==null&&oi(on,e),zl.forEach(t),Bl.forEach(t);for(var a=0;a<un.length;a++){var n=un[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<un.length&&(a=un[0],a.blockedOn===null);)om(a),a.blockedOn===null&&un.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],d=a[n+1],p=i[Ct]||null;if(typeof d=="function")p||cm(a);else if(p){var b=null;if(d&&d.hasAttribute("formAction")){if(i=d,p=d[Ct]||null)b=p.formAction;else if(Uu(i)!==null)continue}else b=p.action;typeof b=="function"?a[n+1]=b:(a.splice(n,3),n-=3),cm(a)}}}function qu(e){this._internalRoot=e}ci.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,n=Vt();nm(a,n,e,t,null,null)},ci.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nm(e.current,2,null,e,null,null),Xr(),t[Xn]=null}};function ci(e){this._internalRoot=e}ci.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vn();e={blockedOn:null,target:e,priority:t};for(var a=0;a<un.length&&t!==0&&t<un[a].priority;a++);un.splice(a,0,e),a===0&&om(e)}};var dm=s.version;if(dm!=="19.1.1")throw Error(r(527,dm,"19.1.1"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Vp={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!di.isDisabled&&di.supportsFiber)try{kt=di.inject(Vp),Ne=di}catch{}}return Yl.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,n="",i=Tf,d=Rf,p=Af,b=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=tm(e,1,!1,null,null,a,n,i,d,p,b,null),e[Xn]=t.current,yu(e),new qu(t)},Yl.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var n=!1,i="",d=Tf,p=Rf,b=Af,_=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),t=tm(e,1,!0,t,a??null,n,i,d,p,b,_,O),t.context=am(null),a=t.current,n=Vt(),n=ht(n),i=Xa(n),i.callback=null,Ka(a,i,n),a=n,t.current.lanes=a,Ye(t,a),ma(t),e[Xn]=t.current,yu(e),new ci(t)},Yl.version="19.1.1",Yl}var wm;function av(){if(wm)return Bu.exports;wm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),Bu.exports=tv(),Bu.exports}var nv=av();const sv=hc(nv);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _m="popstate";function lv(o={}){function s(r,c){let{pathname:f,search:h,hash:v}=r.location;return ec("",{pathname:f,search:h,hash:v},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(r,c){return typeof c=="string"?c:Zl(c)}return iv(s,l,null,o)}function Ke(o,s){if(o===!1||o===null||typeof o>"u")throw new Error(s)}function oa(o,s){if(!o){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function rv(){return Math.random().toString(36).substring(2,10)}function jm(o,s){return{usr:o.state,key:o.key,idx:s}}function ec(o,s,l=null,r){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof s=="string"?Ys(s):s,state:l,key:s&&s.key||r||rv()}}function Zl({pathname:o="/",search:s="",hash:l=""}){return s&&s!=="?"&&(o+=s.charAt(0)==="?"?s:"?"+s),l&&l!=="#"&&(o+=l.charAt(0)==="#"?l:"#"+l),o}function Ys(o){let s={};if(o){let l=o.indexOf("#");l>=0&&(s.hash=o.substring(l),o=o.substring(0,l));let r=o.indexOf("?");r>=0&&(s.search=o.substring(r),o=o.substring(0,r)),o&&(s.pathname=o)}return s}function iv(o,s,l,r={}){let{window:c=document.defaultView,v5Compat:f=!1}=r,h=c.history,v="POP",g=null,m=y();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function y(){return(h.state||{idx:null}).idx}function w(){v="POP";let U=y(),V=U==null?null:U-m;m=U,g&&g({action:v,location:q.location,delta:V})}function S(U,V){v="PUSH";let G=ec(q.location,U,V);m=y()+1;let D=jm(G,m),X=q.createHref(G);try{h.pushState(D,"",X)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;c.location.assign(X)}f&&g&&g({action:v,location:q.location,delta:1})}function A(U,V){v="REPLACE";let G=ec(q.location,U,V);m=y();let D=jm(G,m),X=q.createHref(G);h.replaceState(D,"",X),f&&g&&g({action:v,location:q.location,delta:0})}function T(U){return ov(U)}let q={get action(){return v},get location(){return o(c,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(_m,w),g=U,()=>{c.removeEventListener(_m,w),g=null}},createHref(U){return s(c,U)},createURL:T,encodeLocation(U){let V=T(U);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:S,replace:A,go(U){return h.go(U)}};return q}function ov(o,s=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(l,"No window.location.(origin|href) available to create URL");let r=typeof o=="string"?o:Zl(o);return r=r.replace(/ $/,"%20"),!s&&r.startsWith("//")&&(r=l+r),new URL(r,l)}function t0(o,s,l="/"){return uv(o,s,l,!1)}function uv(o,s,l,r){let c=typeof s=="string"?Ys(s):s,f=qa(c.pathname||"/",l);if(f==null)return null;let h=a0(o);cv(h);let v=null;for(let g=0;v==null&&g<h.length;++g){let m=wv(f);v=bv(h[g],m,r)}return v}function a0(o,s=[],l=[],r="",c=!1){let f=(h,v,g=c,m)=>{let y={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:v,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&g)return;Ke(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let w=Ma([r,y.relativePath]),S=l.concat(y);h.children&&h.children.length>0&&(Ke(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),a0(h.children,s,S,w,g)),!(h.path==null&&!h.index)&&s.push({path:w,score:vv(w,h.index),routesMeta:S})};return o.forEach((h,v)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))f(h,v);else for(let m of n0(h.path))f(h,v,!0,m)}),s}function n0(o){let s=o.split("/");if(s.length===0)return[];let[l,...r]=s,c=l.endsWith("?"),f=l.replace(/\?$/,"");if(r.length===0)return c?[f,""]:[f];let h=n0(r.join("/")),v=[];return v.push(...h.map(g=>g===""?f:[f,g].join("/"))),c&&v.push(...h),v.map(g=>o.startsWith("/")&&g===""?"/":g)}function cv(o){o.sort((s,l)=>s.score!==l.score?l.score-s.score:yv(s.routesMeta.map(r=>r.childrenIndex),l.routesMeta.map(r=>r.childrenIndex)))}var dv=/^:[\w-]+$/,fv=3,hv=2,mv=1,gv=10,pv=-2,Sm=o=>o==="*";function vv(o,s){let l=o.split("/"),r=l.length;return l.some(Sm)&&(r+=pv),s&&(r+=hv),l.filter(c=>!Sm(c)).reduce((c,f)=>c+(dv.test(f)?fv:f===""?mv:gv),r)}function yv(o,s){return o.length===s.length&&o.slice(0,-1).every((r,c)=>r===s[c])?o[o.length-1]-s[s.length-1]:0}function bv(o,s,l=!1){let{routesMeta:r}=o,c={},f="/",h=[];for(let v=0;v<r.length;++v){let g=r[v],m=v===r.length-1,y=f==="/"?s:s.slice(f.length)||"/",w=wi({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},y),S=g.route;if(!w&&m&&l&&!r[r.length-1].route.index&&(w=wi({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!w)return null;Object.assign(c,w.params),h.push({params:c,pathname:Ma([f,w.pathname]),pathnameBase:Ev(Ma([f,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(f=Ma([f,w.pathnameBase]))}return h}function wi(o,s){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[l,r]=xv(o.path,o.caseSensitive,o.end),c=s.match(l);if(!c)return null;let f=c[0],h=f.replace(/(.)\/+$/,"$1"),v=c.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:w},S)=>{if(y==="*"){let T=v[S]||"";h=f.slice(0,f.length-T.length).replace(/(.)\/+$/,"$1")}const A=v[S];return w&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:f,pathnameBase:h,pattern:o}}function xv(o,s=!1,l=!0){oa(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let r=[],c="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,v,g)=>(r.push({paramName:v,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return o.endsWith("*")?(r.push({paramName:"*"}),c+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":o!==""&&o!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,s?void 0:"i"),r]}function wv(o){try{return o.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return oa(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),o}}function qa(o,s){if(s==="/")return o;if(!o.toLowerCase().startsWith(s.toLowerCase()))return null;let l=s.endsWith("/")?s.length-1:s.length,r=o.charAt(l);return r&&r!=="/"?null:o.slice(l)||"/"}function _v(o,s="/"){let{pathname:l,search:r="",hash:c=""}=typeof o=="string"?Ys(o):o;return{pathname:l?l.startsWith("/")?l:jv(l,s):s,search:Nv(r),hash:Tv(c)}}function jv(o,s){let l=s.replace(/\/+$/,"").split("/");return o.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function Yu(o,s,l,r){return`Cannot include a '${o}' character in a manually specified \`to.${s}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sv(o){return o.filter((s,l)=>l===0||s.route.path&&s.route.path.length>0)}function gc(o){let s=Sv(o);return s.map((l,r)=>r===s.length-1?l.pathname:l.pathnameBase)}function pc(o,s,l,r=!1){let c;typeof o=="string"?c=Ys(o):(c={...o},Ke(!c.pathname||!c.pathname.includes("?"),Yu("?","pathname","search",c)),Ke(!c.pathname||!c.pathname.includes("#"),Yu("#","pathname","hash",c)),Ke(!c.search||!c.search.includes("#"),Yu("#","search","hash",c)));let f=o===""||c.pathname==="",h=f?"/":c.pathname,v;if(h==null)v=l;else{let w=s.length-1;if(!r&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),w-=1;c.pathname=S.join("/")}v=w>=0?s[w]:"/"}let g=_v(c,v),m=h&&h!=="/"&&h.endsWith("/"),y=(f||h===".")&&l.endsWith("/");return!g.pathname.endsWith("/")&&(m||y)&&(g.pathname+="/"),g}var Ma=o=>o.join("/").replace(/\/\/+/g,"/"),Ev=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Nv=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Tv=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Rv(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var s0=["POST","PUT","PATCH","DELETE"];new Set(s0);var Av=["GET",...s0];new Set(Av);var Vs=j.createContext(null);Vs.displayName="DataRouter";var Ei=j.createContext(null);Ei.displayName="DataRouterState";j.createContext(!1);var l0=j.createContext({isTransitioning:!1});l0.displayName="ViewTransition";var Ov=j.createContext(new Map);Ov.displayName="Fetchers";var kv=j.createContext(null);kv.displayName="Await";var ua=j.createContext(null);ua.displayName="Navigation";var Wl=j.createContext(null);Wl.displayName="Location";var pa=j.createContext({outlet:null,matches:[],isDataRoute:!1});pa.displayName="Route";var vc=j.createContext(null);vc.displayName="RouteError";function Cv(o,{relative:s}={}){Ke(Xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:r}=j.useContext(ua),{hash:c,pathname:f,search:h}=Fl(o,{relative:s}),v=f;return l!=="/"&&(v=f==="/"?l:Ma([l,f])),r.createHref({pathname:v,search:h,hash:c})}function Xs(){return j.useContext(Wl)!=null}function La(){return Ke(Xs(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Wl).location}var r0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i0(o){j.useContext(ua).static||j.useLayoutEffect(o)}function Hn(){let{isDataRoute:o}=j.useContext(pa);return o?Xv():Dv()}function Dv(){Ke(Xs(),"useNavigate() may be used only in the context of a <Router> component.");let o=j.useContext(Vs),{basename:s,navigator:l}=j.useContext(ua),{matches:r}=j.useContext(pa),{pathname:c}=La(),f=JSON.stringify(gc(r)),h=j.useRef(!1);return i0(()=>{h.current=!0}),j.useCallback((g,m={})=>{if(oa(h.current,r0),!h.current)return;if(typeof g=="number"){l.go(g);return}let y=pc(g,JSON.parse(f),c,m.relative==="path");o==null&&s!=="/"&&(y.pathname=y.pathname==="/"?s:Ma([s,y.pathname])),(m.replace?l.replace:l.push)(y,m.state,m)},[s,l,f,c,o])}j.createContext(null);function Fl(o,{relative:s}={}){let{matches:l}=j.useContext(pa),{pathname:r}=La(),c=JSON.stringify(gc(l));return j.useMemo(()=>pc(o,JSON.parse(c),r,s==="path"),[o,c,r,s])}function Uv(o,s){return o0(o,s)}function o0(o,s,l,r,c){var G;Ke(Xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=j.useContext(ua),{matches:h}=j.useContext(pa),v=h[h.length-1],g=v?v.params:{},m=v?v.pathname:"/",y=v?v.pathnameBase:"/",w=v&&v.route;{let D=w&&w.path||"";u0(m,!w||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let S=La(),A;if(s){let D=typeof s=="string"?Ys(s):s;Ke(y==="/"||((G=D.pathname)==null?void 0:G.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${D.pathname}" was given in the \`location\` prop.`),A=D}else A=S;let T=A.pathname||"/",q=T;if(y!=="/"){let D=y.replace(/^\//,"").split("/");q="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let U=t0(o,{pathname:q});oa(w||U!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),oa(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=Bv(U&&U.map(D=>Object.assign({},D,{params:Object.assign({},g,D.params),pathname:Ma([y,f.encodeLocation?f.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:Ma([y,f.encodeLocation?f.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),h,l,r,c);return s&&V?j.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},V):V}function Mv(){let o=Vv(),s=Rv(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),l=o instanceof Error?o.stack:null,r="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:r},f={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",o),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:f},"ErrorBoundary")," or"," ",j.createElement("code",{style:f},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},s),l?j.createElement("pre",{style:c},l):null,h)}var qv=j.createElement(Mv,null),Lv=class extends j.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,s){return s.location!==o.location||s.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:s.error,location:s.location,revalidation:o.revalidation||s.revalidation}}componentDidCatch(o,s){this.props.unstable_onError?this.props.unstable_onError(o,s):console.error("React Router caught the following error during render",o)}render(){return this.state.error!==void 0?j.createElement(pa.Provider,{value:this.props.routeContext},j.createElement(vc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zv({routeContext:o,match:s,children:l}){let r=j.useContext(Vs);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(pa.Provider,{value:o},l)}function Bv(o,s=[],l=null,r=null,c=null){if(o==null){if(!l)return null;if(l.errors)o=l.matches;else if(s.length===0&&!l.initialized&&l.matches.length>0)o=l.matches;else return null}let f=o,h=l==null?void 0:l.errors;if(h!=null){let m=f.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);Ke(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,m+1))}let v=!1,g=-1;if(l)for(let m=0;m<f.length;m++){let y=f[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=m),y.route.id){let{loaderData:w,errors:S}=l,A=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||A){v=!0,g>=0?f=f.slice(0,g+1):f=[f[0]];break}}}return f.reduceRight((m,y,w)=>{let S,A=!1,T=null,q=null;l&&(S=h&&y.route.id?h[y.route.id]:void 0,T=y.route.errorElement||qv,v&&(g<0&&w===0?(u0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,q=null):g===w&&(A=!0,q=y.route.hydrateFallbackElement||null)));let U=s.concat(f.slice(0,w+1)),V=()=>{let G;return S?G=T:A?G=q:y.route.Component?G=j.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=m,j.createElement(zv,{match:y,routeContext:{outlet:m,matches:U,isDataRoute:l!=null},children:G})};return l&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?j.createElement(Lv,{location:l.location,revalidation:l.revalidation,component:T,error:S,children:V(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:r}):V()},null)}function yc(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hv(o){let s=j.useContext(Vs);return Ke(s,yc(o)),s}function $v(o){let s=j.useContext(Ei);return Ke(s,yc(o)),s}function Gv(o){let s=j.useContext(pa);return Ke(s,yc(o)),s}function bc(o){let s=Gv(o),l=s.matches[s.matches.length-1];return Ke(l.route.id,`${o} can only be used on routes that contain a unique "id"`),l.route.id}function Yv(){return bc("useRouteId")}function Vv(){var r;let o=j.useContext(vc),s=$v("useRouteError"),l=bc("useRouteError");return o!==void 0?o:(r=s.errors)==null?void 0:r[l]}function Xv(){let{router:o}=Hv("useNavigate"),s=bc("useNavigate"),l=j.useRef(!1);return i0(()=>{l.current=!0}),j.useCallback(async(c,f={})=>{oa(l.current,r0),l.current&&(typeof c=="number"?o.navigate(c):await o.navigate(c,{fromRouteId:s,...f}))},[o,s])}var Em={};function u0(o,s,l){!s&&!Em[o]&&(Em[o]=!0,oa(!1,l))}j.memo(Kv);function Kv({routes:o,future:s,state:l,unstable_onError:r}){return o0(o,void 0,l,r,s)}function c0({to:o,replace:s,state:l,relative:r}){Ke(Xs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=j.useContext(ua);oa(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=j.useContext(pa),{pathname:h}=La(),v=Hn(),g=pc(o,gc(f),h,r==="path"),m=JSON.stringify(g);return j.useEffect(()=>{v(JSON.parse(m),{replace:s,state:l,relative:r})},[v,m,r,s,l]),null}function fn(o){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qv({basename:o="/",children:s=null,location:l,navigationType:r="POP",navigator:c,static:f=!1}){Ke(!Xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=o.replace(/^\/*/,"/"),v=j.useMemo(()=>({basename:h,navigator:c,static:f,future:{}}),[h,c,f]);typeof l=="string"&&(l=Ys(l));let{pathname:g="/",search:m="",hash:y="",state:w=null,key:S="default"}=l,A=j.useMemo(()=>{let T=qa(g,h);return T==null?null:{location:{pathname:T,search:m,hash:y,state:w,key:S},navigationType:r}},[h,g,m,y,w,S,r]);return oa(A!=null,`<Router basename="${h}"> is not able to match the URL "${g}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:j.createElement(ua.Provider,{value:v},j.createElement(Wl.Provider,{children:s,value:A}))}function Pv({children:o,location:s}){return Uv(tc(o),s)}function tc(o,s=[]){let l=[];return j.Children.forEach(o,(r,c)=>{if(!j.isValidElement(r))return;let f=[...s,c];if(r.type===j.Fragment){l.push.apply(l,tc(r.props.children,f));return}Ke(r.type===fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=tc(r.props.children,f)),l.push(h)}),l}var bi="get",xi="application/x-www-form-urlencoded";function Ni(o){return o!=null&&typeof o.tagName=="string"}function Zv(o){return Ni(o)&&o.tagName.toLowerCase()==="button"}function Jv(o){return Ni(o)&&o.tagName.toLowerCase()==="form"}function Wv(o){return Ni(o)&&o.tagName.toLowerCase()==="input"}function Fv(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function Iv(o,s){return o.button===0&&(!s||s==="_self")&&!Fv(o)}var fi=null;function ey(){if(fi===null)try{new FormData(document.createElement("form"),0),fi=!1}catch{fi=!0}return fi}var ty=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vu(o){return o!=null&&!ty.has(o)?(oa(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xi}"`),null):o}function ay(o,s){let l,r,c,f,h;if(Jv(o)){let v=o.getAttribute("action");r=v?qa(v,s):null,l=o.getAttribute("method")||bi,c=Vu(o.getAttribute("enctype"))||xi,f=new FormData(o)}else if(Zv(o)||Wv(o)&&(o.type==="submit"||o.type==="image")){let v=o.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=o.getAttribute("formaction")||v.getAttribute("action");if(r=g?qa(g,s):null,l=o.getAttribute("formmethod")||v.getAttribute("method")||bi,c=Vu(o.getAttribute("formenctype"))||Vu(v.getAttribute("enctype"))||xi,f=new FormData(v,o),!ey()){let{name:m,type:y,value:w}=o;if(y==="image"){let S=m?`${m}.`:"";f.append(`${S}x`,"0"),f.append(`${S}y`,"0")}else m&&f.append(m,w)}}else{if(Ni(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=bi,r=null,c=xi,h=o}return f&&c==="text/plain"&&(h=f,f=void 0),{action:r,method:l.toLowerCase(),encType:c,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xc(o,s){if(o===!1||o===null||typeof o>"u")throw new Error(s)}function ny(o,s,l){let r=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return r.pathname==="/"?r.pathname=`_root.${l}`:s&&qa(r.pathname,s)==="/"?r.pathname=`${s.replace(/\/$/,"")}/_root.${l}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${l}`,r}async function sy(o,s){if(o.id in s)return s[o.id];try{let l=await import(o.module);return s[o.id]=l,l}catch(l){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ly(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function ry(o,s,l){let r=await Promise.all(o.map(async c=>{let f=s.routes[c.route.id];if(f){let h=await sy(f,l);return h.links?h.links():[]}return[]}));return cy(r.flat(1).filter(ly).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Nm(o,s,l,r,c,f){let h=(g,m)=>l[m]?g.route.id!==l[m].route.id:!0,v=(g,m)=>{var y;return l[m].pathname!==g.pathname||((y=l[m].route.path)==null?void 0:y.endsWith("*"))&&l[m].params["*"]!==g.params["*"]};return f==="assets"?s.filter((g,m)=>h(g,m)||v(g,m)):f==="data"?s.filter((g,m)=>{var w;let y=r.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(h(g,m)||v(g,m))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((w=l[0])==null?void 0:w.params)||{},nextUrl:new URL(o,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function iy(o,s,{includeHydrateFallback:l}={}){return oy(o.map(r=>{let c=s.routes[r.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),l&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function oy(o){return[...new Set(o)]}function uy(o){let s={},l=Object.keys(o).sort();for(let r of l)s[r]=o[r];return s}function cy(o,s){let l=new Set;return new Set(s),o.reduce((r,c)=>{let f=JSON.stringify(uy(c));return l.has(f)||(l.add(f),r.push({key:f,link:c})),r},[])}function d0(){let o=j.useContext(Vs);return xc(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function dy(){let o=j.useContext(Ei);return xc(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var wc=j.createContext(void 0);wc.displayName="FrameworkContext";function f0(){let o=j.useContext(wc);return xc(o,"You must render this element inside a <HydratedRouter> element"),o}function fy(o,s){let l=j.useContext(wc),[r,c]=j.useState(!1),[f,h]=j.useState(!1),{onFocus:v,onBlur:g,onMouseEnter:m,onMouseLeave:y,onTouchStart:w}=s,S=j.useRef(null);j.useEffect(()=>{if(o==="render"&&h(!0),o==="viewport"){let q=V=>{V.forEach(G=>{h(G.isIntersecting)})},U=new IntersectionObserver(q,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[o]),j.useEffect(()=>{if(r){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[r]);let A=()=>{c(!0)},T=()=>{c(!1),h(!1)};return l?o!=="intent"?[f,S,{}]:[f,S,{onFocus:Vl(v,A),onBlur:Vl(g,T),onMouseEnter:Vl(m,A),onMouseLeave:Vl(y,T),onTouchStart:Vl(w,A)}]:[!1,S,{}]}function Vl(o,s){return l=>{o&&o(l),l.defaultPrevented||s(l)}}function hy({page:o,...s}){let{router:l}=d0(),r=j.useMemo(()=>t0(l.routes,o,l.basename),[l.routes,o,l.basename]);return r?j.createElement(gy,{page:o,matches:r,...s}):null}function my(o){let{manifest:s,routeModules:l}=f0(),[r,c]=j.useState([]);return j.useEffect(()=>{let f=!1;return ry(o,s,l).then(h=>{f||c(h)}),()=>{f=!0}},[o,s,l]),r}function gy({page:o,matches:s,...l}){let r=La(),{manifest:c,routeModules:f}=f0(),{basename:h}=d0(),{loaderData:v,matches:g}=dy(),m=j.useMemo(()=>Nm(o,s,g,c,r,"data"),[o,s,g,c,r]),y=j.useMemo(()=>Nm(o,s,g,c,r,"assets"),[o,s,g,c,r]),w=j.useMemo(()=>{if(o===r.pathname+r.search+r.hash)return[];let T=new Set,q=!1;if(s.forEach(V=>{var D;let G=c.routes[V.route.id];!G||!G.hasLoader||(!m.some(X=>X.route.id===V.route.id)&&V.route.id in v&&((D=f[V.route.id])!=null&&D.shouldRevalidate)||G.hasClientLoader?q=!0:T.add(V.route.id))}),T.size===0)return[];let U=ny(o,h,"data");return q&&T.size>0&&U.searchParams.set("_routes",s.filter(V=>T.has(V.route.id)).map(V=>V.route.id).join(",")),[U.pathname+U.search]},[h,v,r,c,m,s,o,f]),S=j.useMemo(()=>iy(y,c),[y,c]),A=my(y);return j.createElement(j.Fragment,null,w.map(T=>j.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...l})),S.map(T=>j.createElement("link",{key:T,rel:"modulepreload",href:T,...l})),A.map(({key:T,link:q})=>j.createElement("link",{key:T,nonce:l.nonce,...q})))}function py(...o){return s=>{o.forEach(l=>{typeof l=="function"?l(s):l!=null&&(l.current=s)})}}var h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h0&&(window.__reactRouterVersion="7.9.1")}catch{}function vy({basename:o,children:s,window:l}){let r=j.useRef();r.current==null&&(r.current=lv({window:l,v5Compat:!0}));let c=r.current,[f,h]=j.useState({action:c.action,location:c.location}),v=j.useCallback(g=>{j.startTransition(()=>h(g))},[h]);return j.useLayoutEffect(()=>c.listen(v),[c,v]),j.createElement(Qv,{basename:o,children:s,location:f.location,navigationType:f.action,navigator:c})}var m0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_i=j.forwardRef(function({onClick:s,discover:l="render",prefetch:r="none",relative:c,reloadDocument:f,replace:h,state:v,target:g,to:m,preventScrollReset:y,viewTransition:w,...S},A){let{basename:T}=j.useContext(ua),q=typeof m=="string"&&m0.test(m),U,V=!1;if(typeof m=="string"&&q&&(U=m,h0))try{let Te=new URL(window.location.href),Qe=m.startsWith("//")?new URL(Te.protocol+m):new URL(m),Pe=qa(Qe.pathname,T);Qe.origin===Te.origin&&Pe!=null?m=Pe+Qe.search+Qe.hash:V=!0}catch{oa(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Cv(m,{relative:c}),[D,X,K]=fy(r,S),J=wy(m,{replace:h,state:v,target:g,preventScrollReset:y,relative:c,viewTransition:w});function oe(Te){s&&s(Te),Te.defaultPrevented||J(Te)}let me=j.createElement("a",{...S,...K,href:U||G,onClick:V||f?s:oe,ref:py(A,X),target:g,"data-discover":!q&&l==="render"?"true":void 0});return D&&!q?j.createElement(j.Fragment,null,me,j.createElement(hy,{page:G})):me});_i.displayName="Link";var yy=j.forwardRef(function({"aria-current":s="page",caseSensitive:l=!1,className:r="",end:c=!1,style:f,to:h,viewTransition:v,children:g,...m},y){let w=Fl(h,{relative:m.relative}),S=La(),A=j.useContext(Ei),{navigator:T,basename:q}=j.useContext(ua),U=A!=null&&Ny(w)&&v===!0,V=T.encodeLocation?T.encodeLocation(w).pathname:w.pathname,G=S.pathname,D=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;l||(G=G.toLowerCase(),D=D?D.toLowerCase():null,V=V.toLowerCase()),D&&q&&(D=qa(D,q)||D);const X=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let K=G===V||!c&&G.startsWith(V)&&G.charAt(X)==="/",J=D!=null&&(D===V||!c&&D.startsWith(V)&&D.charAt(V.length)==="/"),oe={isActive:K,isPending:J,isTransitioning:U},me=K?s:void 0,Te;typeof r=="function"?Te=r(oe):Te=[r,K?"active":null,J?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let Qe=typeof f=="function"?f(oe):f;return j.createElement(_i,{...m,"aria-current":me,className:Te,ref:y,style:Qe,to:h,viewTransition:v},typeof g=="function"?g(oe):g)});yy.displayName="NavLink";var by=j.forwardRef(({discover:o="render",fetcherKey:s,navigate:l,reloadDocument:r,replace:c,state:f,method:h=bi,action:v,onSubmit:g,relative:m,preventScrollReset:y,viewTransition:w,...S},A)=>{let T=Sy(),q=Ey(v,{relative:m}),U=h.toLowerCase()==="get"?"get":"post",V=typeof v=="string"&&m0.test(v),G=D=>{if(g&&g(D),D.defaultPrevented)return;D.preventDefault();let X=D.nativeEvent.submitter,K=(X==null?void 0:X.getAttribute("formmethod"))||h;T(X||D.currentTarget,{fetcherKey:s,method:K,navigate:l,replace:c,state:f,relative:m,preventScrollReset:y,viewTransition:w})};return j.createElement("form",{ref:A,method:U,action:q,onSubmit:r?g:G,...S,"data-discover":!V&&o==="render"?"true":void 0})});by.displayName="Form";function xy(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g0(o){let s=j.useContext(Vs);return Ke(s,xy(o)),s}function wy(o,{target:s,replace:l,state:r,preventScrollReset:c,relative:f,viewTransition:h}={}){let v=Hn(),g=La(),m=Fl(o,{relative:f});return j.useCallback(y=>{if(Iv(y,s)){y.preventDefault();let w=l!==void 0?l:Zl(g)===Zl(m);v(o,{replace:w,state:r,preventScrollReset:c,relative:f,viewTransition:h})}},[g,v,m,l,r,s,o,c,f,h])}var _y=0,jy=()=>`__${String(++_y)}__`;function Sy(){let{router:o}=g0("useSubmit"),{basename:s}=j.useContext(ua),l=Yv();return j.useCallback(async(r,c={})=>{let{action:f,method:h,encType:v,formData:g,body:m}=ay(r,s);if(c.navigate===!1){let y=c.fetcherKey||jy();await o.fetch(y,l,c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:m,formMethod:c.method||h,formEncType:c.encType||v,flushSync:c.flushSync})}else await o.navigate(c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:m,formMethod:c.method||h,formEncType:c.encType||v,replace:c.replace,state:c.state,fromRouteId:l,flushSync:c.flushSync,viewTransition:c.viewTransition})},[o,s,l])}function Ey(o,{relative:s}={}){let{basename:l}=j.useContext(ua),r=j.useContext(pa);Ke(r,"useFormAction must be used inside a RouteContext");let[c]=r.matches.slice(-1),f={...Fl(o||".",{relative:s})},h=La();if(o==null){f.search=h.search;let v=new URLSearchParams(f.search),g=v.getAll("index");if(g.some(y=>y==="")){v.delete("index"),g.filter(w=>w).forEach(w=>v.append("index",w));let y=v.toString();f.search=y?`?${y}`:""}}return(!o||o===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(f.pathname=f.pathname==="/"?l:Ma([l,f.pathname])),Zl(f)}function Ny(o,{relative:s}={}){let l=j.useContext(l0);Ke(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=g0("useViewTransitionState"),c=Fl(o,{relative:s});if(!l.isTransitioning)return!1;let f=qa(l.currentLocation.pathname,r)||l.currentLocation.pathname,h=qa(l.nextLocation.pathname,r)||l.nextLocation.pathname;return wi(c.pathname,h)!=null||wi(c.pathname,f)!=null}const Ty="modulepreload",Ry=function(o){return"/"+o},Tm={},Il=function(s,l,r){let c=Promise.resolve();if(l&&l.length>0){let h=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),g=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));c=h(l.map(m=>{if(m=Ry(m),m in Tm)return;Tm[m]=!0;const y=m.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":Ty,y||(S.as="script"),S.crossOrigin="",S.href=m,g&&S.setAttribute("nonce",g),document.head.appendChild(S),y)return new Promise((A,T)=>{S.addEventListener("load",A),S.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function f(h){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=h,window.dispatchEvent(v),!v.defaultPrevented)throw h}return c.then(h=>{for(const v of h||[])v.status==="rejected"&&f(v.reason);return s().catch(f)})},Ay=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...l)=>Il(async()=>{const{default:r}=await Promise.resolve().then(()=>Ks);return{default:r}},[]).then(({default:r})=>r(...l)):s=fetch,(...l)=>s(...l)};class _c extends Error{constructor(s,l="FunctionsError",r){super(s),this.name=l,this.context=r}}class Oy extends _c{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class Rm extends _c{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class Am extends _c{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var ac;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(ac||(ac={}));var ky=function(o,s,l,r){function c(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function v(y){try{m(r.next(y))}catch(w){h(w)}}function g(y){try{m(r.throw(y))}catch(w){h(w)}}function m(y){y.done?f(y.value):c(y.value).then(v,g)}m((r=r.apply(o,s||[])).next())})};class Cy{constructor(s,{headers:l={},customFetch:r,region:c=ac.Any}={}){this.url=s,this.headers=l,this.region=c,this.fetch=Ay(r)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,l={}){var r;return ky(this,void 0,void 0,function*(){try{const{headers:c,method:f,body:h}=l;let v={},{region:g}=l;g||(g=this.region);const m=new URL(`${this.url}/${s}`);g&&g!=="any"&&(v["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let y;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(v["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(v["Content-Type"]="application/json",y=JSON.stringify(h)));const w=yield this.fetch(m.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:y}).catch(q=>{throw new Oy(q)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new Rm(w);if(!w.ok)throw new Am(w);let A=((r=w.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),T;return A==="application/json"?T=yield w.json():A==="application/octet-stream"?T=yield w.blob():A==="text/event-stream"?T=w:A==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(c){return{data:null,error:c,response:c instanceof Am||c instanceof Rm?c.context:void 0}}})}}var yt={},Os={},ks={},Cs={},Ds={},Us={},Dy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gs=Dy();const Uy=Gs.fetch,p0=Gs.fetch.bind(Gs),v0=Gs.Headers,My=Gs.Request,qy=Gs.Response,Ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:v0,Request:My,Response:qy,default:p0,fetch:Uy},Symbol.toStringTag,{value:"Module"})),Ly=Kp(Ks);var hi={},Om;function y0(){if(Om)return hi;Om=1,Object.defineProperty(hi,"__esModule",{value:!0});class o extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return hi.default=o,hi}var km;function b0(){if(km)return Us;km=1;var o=Us&&Us.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Us,"__esModule",{value:!0});const s=o(Ly),l=o(y0());class r{constructor(f){var h,v;this.shouldThrowOnError=!1,this.method=f.method,this.url=f.url,this.headers=new Headers(f.headers),this.schema=f.schema,this.body=f.body,this.shouldThrowOnError=(h=f.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=f.signal,this.isMaybeSingle=(v=f.isMaybeSingle)!==null&&v!==void 0?v:!1,f.fetch?this.fetch=f.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(f,h){return this.headers=new Headers(this.headers),this.headers.set(f,h),this}then(f,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const v=this.fetch;let g=v(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,w,S,A;let T=null,q=null,U=null,V=m.status,G=m.statusText;if(m.ok){if(this.method!=="HEAD"){const J=await m.text();J===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?q=J:q=JSON.parse(J))}const X=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),K=(S=m.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");X&&K&&K.length>1&&(U=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(q)&&(q.length>1?(T={code:"PGRST116",details:`Results contain ${q.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},q=null,U=null,V=406,G="Not Acceptable"):q.length===1?q=q[0]:q=null)}else{const X=await m.text();try{T=JSON.parse(X),Array.isArray(T)&&m.status===404&&(q=[],T=null,V=200,G="OK")}catch{m.status===404&&X===""?(V=204,G="No Content"):T={message:X}}if(T&&this.isMaybeSingle&&(!((A=T==null?void 0:T.details)===null||A===void 0)&&A.includes("0 rows"))&&(T=null,V=200,G="OK"),T&&this.shouldThrowOnError)throw new l.default(T)}return{error:T,data:q,count:U,status:V,statusText:G}});return this.shouldThrowOnError||(g=g.catch(m=>{var y,w,S;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(w=m==null?void 0:m.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(S=m==null?void 0:m.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(f,h)}returns(){return this}overrideTypes(){return this}}return Us.default=r,Us}var Cm;function x0(){if(Cm)return Ds;Cm=1;var o=Ds&&Ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ds,"__esModule",{value:!0});const s=o(b0());class l extends s.default{select(c){let f=!1;const h=(c??"*").split("").map(v=>/\s/.test(v)&&!f?"":(v==='"'&&(f=!f),v)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:f=!0,nullsFirst:h,foreignTable:v,referencedTable:g=v}={}){const m=g?`${g}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${c}.${f?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:f,referencedTable:h=f}={}){const v=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(v,`${c}`),this}range(c,f,{foreignTable:h,referencedTable:v=h}={}){const g=typeof v>"u"?"offset":`${v}.offset`,m=typeof v>"u"?"limit":`${v}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(m,`${f-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:f=!1,settings:h=!1,buffers:v=!1,wal:g=!1,format:m="text"}={}){var y;const w=[c?"analyze":null,f?"verbose":null,h?"settings":null,v?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return Ds.default=l,Ds}var Dm;function jc(){if(Dm)return Cs;Dm=1;var o=Cs&&Cs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cs,"__esModule",{value:!0});const s=o(x0());class l extends s.default{eq(c,f){return this.url.searchParams.append(c,`eq.${f}`),this}neq(c,f){return this.url.searchParams.append(c,`neq.${f}`),this}gt(c,f){return this.url.searchParams.append(c,`gt.${f}`),this}gte(c,f){return this.url.searchParams.append(c,`gte.${f}`),this}lt(c,f){return this.url.searchParams.append(c,`lt.${f}`),this}lte(c,f){return this.url.searchParams.append(c,`lte.${f}`),this}like(c,f){return this.url.searchParams.append(c,`like.${f}`),this}likeAllOf(c,f){return this.url.searchParams.append(c,`like(all).{${f.join(",")}}`),this}likeAnyOf(c,f){return this.url.searchParams.append(c,`like(any).{${f.join(",")}}`),this}ilike(c,f){return this.url.searchParams.append(c,`ilike.${f}`),this}ilikeAllOf(c,f){return this.url.searchParams.append(c,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(c,f){return this.url.searchParams.append(c,`ilike(any).{${f.join(",")}}`),this}is(c,f){return this.url.searchParams.append(c,`is.${f}`),this}in(c,f){const h=Array.from(new Set(f)).map(v=>typeof v=="string"&&new RegExp("[,()]").test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cs.{${f.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(f)}`),this}containedBy(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cd.{${f.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(f)}`),this}rangeGt(c,f){return this.url.searchParams.append(c,`sr.${f}`),this}rangeGte(c,f){return this.url.searchParams.append(c,`nxl.${f}`),this}rangeLt(c,f){return this.url.searchParams.append(c,`sl.${f}`),this}rangeLte(c,f){return this.url.searchParams.append(c,`nxr.${f}`),this}rangeAdjacent(c,f){return this.url.searchParams.append(c,`adj.${f}`),this}overlaps(c,f){return typeof f=="string"?this.url.searchParams.append(c,`ov.${f}`):this.url.searchParams.append(c,`ov.{${f.join(",")}}`),this}textSearch(c,f,{config:h,type:v}={}){let g="";v==="plain"?g="pl":v==="phrase"?g="ph":v==="websearch"&&(g="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${g}fts${m}.${f}`),this}match(c){return Object.entries(c).forEach(([f,h])=>{this.url.searchParams.append(f,`eq.${h}`)}),this}not(c,f,h){return this.url.searchParams.append(c,`not.${f}.${h}`),this}or(c,{foreignTable:f,referencedTable:h=f}={}){const v=h?`${h}.or`:"or";return this.url.searchParams.append(v,`(${c})`),this}filter(c,f,h){return this.url.searchParams.append(c,`${f}.${h}`),this}}return Cs.default=l,Cs}var Um;function w0(){if(Um)return ks;Um=1;var o=ks&&ks.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ks,"__esModule",{value:!0});const s=o(jc());class l{constructor(c,{headers:f={},schema:h,fetch:v}){this.url=c,this.headers=new Headers(f),this.schema=h,this.fetch=v}select(c,{head:f=!1,count:h}={}){const v=f?"HEAD":"GET";let g=!1;const m=(c??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",m),h&&this.headers.append("Prefer",`count=${h}`),new s.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:f,defaultToNull:h=!0}={}){var v;const g="POST";if(f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const m=c.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(m.length>0){const y=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}upsert(c,{onConflict:f,ignoreDuplicates:h=!1,count:v,defaultToNull:g=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),f!==void 0&&this.url.searchParams.set("on_conflict",f),v&&this.headers.append("Prefer",`count=${v}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const w=c.reduce((S,A)=>S.concat(Object.keys(A)),[]);if(w.length>0){const S=[...new Set(w)].map(A=>`"${A}"`);this.url.searchParams.set("columns",S.join(","))}}return new s.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(c,{count:f}={}){var h;const v="PATCH";return f&&this.headers.append("Prefer",`count=${f}`),new s.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var f;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new s.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return ks.default=l,ks}var Mm;function zy(){if(Mm)return Os;Mm=1;var o=Os&&Os.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Os,"__esModule",{value:!0});const s=o(w0()),l=o(jc());class r{constructor(f,{headers:h={},schema:v,fetch:g}={}){this.url=f,this.headers=new Headers(h),this.schemaName=v,this.fetch=g}from(f){const h=new URL(`${this.url}/${f}`);return new s.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new r(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,h={},{head:v=!1,get:g=!1,count:m}={}){var y;let w;const S=new URL(`${this.url}/rpc/${f}`);let A;v||g?(w=v?"HEAD":"GET",Object.entries(h).filter(([q,U])=>U!==void 0).map(([q,U])=>[q,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([q,U])=>{S.searchParams.append(q,U)})):(w="POST",A=h);const T=new Headers(this.headers);return m&&T.set("Prefer",`count=${m}`),new l.default({method:w,url:S,headers:T,schema:this.schemaName,body:A,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Os.default=r,Os}var qm;function By(){if(qm)return yt;qm=1;var o=yt&&yt.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const s=o(zy());yt.PostgrestClient=s.default;const l=o(w0());yt.PostgrestQueryBuilder=l.default;const r=o(jc());yt.PostgrestFilterBuilder=r.default;const c=o(x0());yt.PostgrestTransformBuilder=c.default;const f=o(b0());yt.PostgrestBuilder=f.default;const h=o(y0());return yt.PostgrestError=h.default,yt.default={PostgrestClient:s.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:f.default,PostgrestError:h.default},yt}var Hy=By();const $y=hc(Hy),{PostgrestClient:Gy,PostgrestQueryBuilder:$x,PostgrestFilterBuilder:Gx,PostgrestTransformBuilder:Yx,PostgrestBuilder:Vx,PostgrestError:Xx}=$y;class Yy{static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const r=l.node,c=parseInt(r.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let l=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(l+=`

Suggested solution: ${s.workaround}`),new Error(l)}static createWebSocket(s,l){const r=this.getWebSocketConstructor();return new r(s,l)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const Vy="2.15.5",Xy=`realtime-js/${Vy}`,Ky="1.0.0",nc=1e4,Qy=1e3,Py=100;var Kl;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Kl||(Kl={}));var dt;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(dt||(dt={}));var ia;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(ia||(ia={}));var sc;(function(o){o.websocket="websocket"})(sc||(sc={}));var Bn;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Bn||(Bn={}));class Zy{constructor(){this.HEADER_LENGTH=1}decode(s,l){return s.constructor===ArrayBuffer?l(this._binaryDecode(s)):l(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const l=new DataView(s),r=new TextDecoder;return this._decodeBroadcast(s,l,r)}_decodeBroadcast(s,l,r){const c=l.getUint8(1),f=l.getUint8(2);let h=this.HEADER_LENGTH+2;const v=r.decode(s.slice(h,h+c));h=h+c;const g=r.decode(s.slice(h,h+f));h=h+f;const m=JSON.parse(r.decode(s.slice(h,s.byteLength)));return{ref:null,topic:v,event:g,payload:m}}}class _0{constructor(s,l){this.callback=s,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(He||(He={}));const Lm=(o,s,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(s).reduce((f,h)=>(f[h]=Jy(h,o,s,c),f),{})},Jy=(o,s,l,r)=>{const c=s.find(v=>v.name===o),f=c==null?void 0:c.type,h=l[o];return f&&!r.includes(f)?j0(f,h):lc(h)},j0=(o,s)=>{if(o.charAt(0)==="_"){const l=o.slice(1,o.length);return eb(s,l)}switch(o){case He.bool:return Wy(s);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return Fy(s);case He.json:case He.jsonb:return Iy(s);case He.timestamp:return tb(s);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return lc(s);default:return lc(s)}},lc=o=>o,Wy=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},Fy=o=>{if(typeof o=="string"){const s=parseFloat(o);if(!Number.isNaN(s))return s}return o},Iy=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(s){return console.log(`JSON parse error: ${s}`),o}return o},eb=(o,s)=>{if(typeof o!="string")return o;const l=o.length-1,r=o[l];if(o[0]==="{"&&r==="}"){let f;const h=o.slice(1,l);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(v=>j0(s,v))}return o},tb=o=>typeof o=="string"?o.replace(" ","T"):o,S0=o=>{let s=o;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")+"/api/broadcast"};class Xu{constructor(s,l,r={},c=nc){this.channel=s,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,l){var r;return this._hasReceived(s)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:s,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:l}){this.recHooks.filter(r=>r.status===s).forEach(r=>r.callback(l))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var zm;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(zm||(zm={}));class Ql{constructor(s,l){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:f,onLeave:h,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ql.syncState(this.state,c,f,h),this.pendingDiffs.forEach(g=>{this.state=Ql.syncDiff(this.state,g,f,h)}),this.pendingDiffs=[],v()}),this.channel._on(r.diff,{},c=>{const{onJoin:f,onLeave:h,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ql.syncDiff(this.state,c,f,h),v())}),this.onJoin((c,f,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:h})}),this.onLeave((c,f,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,l,r,c){const f=this.cloneDeep(s),h=this.transformState(l),v={},g={};return this.map(f,(m,y)=>{h[m]||(g[m]=y)}),this.map(h,(m,y)=>{const w=f[m];if(w){const S=y.map(U=>U.presence_ref),A=w.map(U=>U.presence_ref),T=y.filter(U=>A.indexOf(U.presence_ref)<0),q=w.filter(U=>S.indexOf(U.presence_ref)<0);T.length>0&&(v[m]=T),q.length>0&&(g[m]=q)}else v[m]=y}),this.syncDiff(f,{joins:v,leaves:g},r,c)}static syncDiff(s,l,r,c){const{joins:f,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(f,(v,g)=>{var m;const y=(m=s[v])!==null&&m!==void 0?m:[];if(s[v]=this.cloneDeep(g),y.length>0){const w=s[v].map(A=>A.presence_ref),S=y.filter(A=>w.indexOf(A.presence_ref)<0);s[v].unshift(...S)}r(v,y,g)}),this.map(h,(v,g)=>{let m=s[v];if(!m)return;const y=g.map(w=>w.presence_ref);m=m.filter(w=>y.indexOf(w.presence_ref)<0),s[v]=m,c(v,m,g),m.length===0&&delete s[v]}),s}static map(s,l){return Object.getOwnPropertyNames(s).map(r=>l(r,s[r]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((l,r)=>{const c=s[r];return"metas"in c?l[r]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):l[r]=c,l},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bm;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Bm||(Bm={}));var Pl;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(Pl||(Pl={}));var Ua;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Ua||(Ua={}));class Sc{constructor(s,l={config:{}},r){this.topic=s,this.params=l,this.socket=r,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Xu(this,ia.join,this.params,this.timeout),this.rejoinTimer=new _0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ia.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new Ql(this),this.broadcastEndpointURL=S0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(s,l=this.timeout){var r,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:h,presence:v,private:g}}=this.params,m=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(A=>A.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[Pl.PRESENCE]&&this.bindings[Pl.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,w={},S={broadcast:h,presence:Object.assign(Object.assign({},v),{enabled:y}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(A=>s==null?void 0:s(Ua.CHANNEL_ERROR,A)),this._onClose(()=>s==null?void 0:s(Ua.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:A})=>{var T;if(this.socket.setAuth(),A===void 0){s==null||s(Ua.SUBSCRIBED);return}else{const q=this.bindings.postgres_changes,U=(T=q==null?void 0:q.length)!==null&&T!==void 0?T:0,V=[];for(let G=0;G<U;G++){const D=q[G],{filter:{event:X,schema:K,table:J,filter:oe}}=D,me=A&&A[G];if(me&&me.event===X&&me.schema===K&&me.table===J&&me.filter===oe)V.push(Object.assign(Object.assign({},D),{id:me.id}));else{this.unsubscribe(),this.state=dt.errored,s==null||s(Ua.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,s&&s(Ua.SUBSCRIBED);return}}).receive("error",A=>{this.state=dt.errored,s==null||s(Ua.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(Ua.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,l={}){return await this.send({type:"presence",event:"track",payload:s},l.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,l,r){return this.state===dt.joined&&s===Pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(s,l,r)}async send(s,l={}){var r,c;if(!this._canPush()&&s.type==="broadcast"){const{event:f,payload:h}=s,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=m.body)===null||c===void 0?void 0:c.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,v,g;const m=this._push(s.type,s,l.timeout||this.timeout);s.type==="broadcast"&&!(!((g=(v=(h=this.params)===null||h===void 0?void 0:h.config)===null||v===void 0?void 0:v.broadcast)===null||g===void 0)&&g.ack)&&f("ok"),m.receive("ok",()=>f("ok")),m.receive("error",()=>f("error")),m.receive("timeout",()=>f("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=dt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ia.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Xu(this,ia.leave,{},s),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(s,l,r){const c=new AbortController,f=setTimeout(()=>c.abort(),r),h=await this.socket.fetch(s,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(f),h}_push(s,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Xu(this,s,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>Py){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(s,l,r){return l}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,l,r){var c,f;const h=s.toLocaleLowerCase(),{close:v,error:g,leave:m,join:y}=ia;if(r&&[v,g,m,y].indexOf(h)>=0&&r!==this._joinRef())return;let S=this._onMessage(h,l,r);if(l&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(A=>{var T,q,U;return((T=A.filter)===null||T===void 0?void 0:T.event)==="*"||((U=(q=A.filter)===null||q===void 0?void 0:q.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===h}).map(A=>A.callback(S,r)):(f=this.bindings[h])===null||f===void 0||f.filter(A=>{var T,q,U,V,G,D;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in A){const X=A.id,K=(T=A.filter)===null||T===void 0?void 0:T.event;return X&&((q=l.ids)===null||q===void 0?void 0:q.includes(X))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((U=l.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const X=(G=(V=A==null?void 0:A.filter)===null||V===void 0?void 0:V.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return X==="*"||X===((D=l==null?void 0:l.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===h}).map(A=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:q,table:U,commit_timestamp:V,type:G,errors:D}=T;S=Object.assign(Object.assign({},{schema:q,table:U,commit_timestamp:V,eventType:G,new:{},old:{},errors:D}),this._getPayloadRecords(T))}A.callback(S,r)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,l,r){const c=s.toLocaleLowerCase(),f={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(s,l){const r=s.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===r&&Sc.isEqual(c.filter,l))})),this}static isEqual(s,l){if(Object.keys(s).length!==Object.keys(l).length)return!1;for(const r in s)if(s[r]!==l[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(ia.close,{},s)}_onError(s){this._on(ia.error,{},l=>s(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const l={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(l.new=Lm(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(l.old=Lm(s.columns,s.old_record)),l}}const Ku=()=>{},mi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ab=[1e3,2e3,5e3,1e4],nb=1e4,sb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lb{constructor(s,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nc,this.transport=null,this.heartbeatIntervalMs=mi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ku,this.ref=0,this.reconnectTimer=null,this.logger=Ku,this.conn=null,this.sendBuffer=[],this.serializer=new Zy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let f;return c?f=c:typeof fetch>"u"?f=(...h)=>Il(async()=>{const{default:v}=await Promise.resolve().then(()=>Ks);return{default:v}},void 0).then(({default:v})=>v(...h)).catch(v=>{throw new Error(`Failed to load @supabase/node-fetch: ${v.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):f=fetch,(...h)=>f(...h)},!(!((r=l==null?void 0:l.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${s}/${sc.websocket}`,this.httpEndpoint=S0(s),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yy.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const l=s.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ky}))}disconnect(s,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},s?this.conn.close(s,l??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const l=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const s=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,l,r){this.logger(s,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kl.connecting:return Bn.Connecting;case Kl.open:return Bn.Open;case Kl.closing:return Bn.Closing;default:return Bn.Closed}}isConnected(){return this.connectionState()===Bn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,l={config:{}}){const r=`realtime:${s}`,c=this.getChannels().find(f=>f.topic===r);if(c)return c;{const f=new Sc(`realtime:${s}`,l,this);return this.channels.push(f),f}}push(s){const{topic:l,event:r,payload:c,ref:f}=s,h=()=>{this.encode(s,v=>{var g;(g=this.conn)===null||g===void 0||g.send(v)})};this.log("push",`${l} ${r} (${f})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(Qy,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},mi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let l=this.channels.find(r=>r.topic===s&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${s}"`),l.unsubscribe())}_remove(s){this.channels=this.channels.filter(l=>l.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:c,payload:f,ref:h}=l,v=h?`(${h})`:"",g=f.status||"";this.log("receive",`${g} ${r} ${c} ${v}`.trim(),f),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(c,f,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(s){var l;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){var l;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(ia.error))}_appendParams(s,l){if(Object.keys(l).length===0)return s;const r=s.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${s}${r}${c}`}_workerObjectUrl(s){let l;if(s)l=s;else{const r=new Blob([sb],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(s,l=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(s=null){let l;s?l=s:this.accessToken?l=await this.accessToken():l=this.accessTokenValue,this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(r=>{const c={access_token:l,version:Xy};l&&r.updateJoinPayload(c),r.joinedOnce&&r._isJoined()&&r._push(ia.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this.setAuth().catch(l=>{this.log("error",`error setting auth in ${s}`,l)})}_triggerStateCallbacks(s,l){try{this.stateChangeCallbacks[s].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${s} callback`,c)}})}catch(r){this.log("error",`error triggering ${s} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var l,r,c,f,h,v,g,m,y;if(this.transport=(l=s==null?void 0:s.transport)!==null&&l!==void 0?l:null,this.timeout=(r=s==null?void 0:s.timeout)!==null&&r!==void 0?r:nc,this.heartbeatIntervalMs=(c=s==null?void 0:s.heartbeatIntervalMs)!==null&&c!==void 0?c:mi.HEARTBEAT_INTERVAL,this.worker=(f=s==null?void 0:s.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=s==null?void 0:s.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(v=s==null?void 0:s.heartbeatCallback)!==null&&v!==void 0?v:Ku,s!=null&&s.params&&(this.params=s.params),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=s==null?void 0:s.reconnectAfterMs)!==null&&g!==void 0?g:(w=>ab[w-1]||nb),this.encode=(m=s==null?void 0:s.encode)!==null&&m!==void 0?m:((w,S)=>S(JSON.stringify(w))),this.decode=(y=s==null?void 0:s.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s==null?void 0:s.workerUrl}}}class Ec extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function ft(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class rb extends Ec{constructor(s,l,r){super(s),this.name="StorageApiError",this.status=l,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rc extends Ec{constructor(s,l){super(s),this.name="StorageUnknownError",this.originalError=l}}var ib=function(o,s,l,r){function c(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function v(y){try{m(r.next(y))}catch(w){h(w)}}function g(y){try{m(r.throw(y))}catch(w){h(w)}}function m(y){y.done?f(y.value):c(y.value).then(v,g)}m((r=r.apply(o,s||[])).next())})};const E0=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...l)=>Il(async()=>{const{default:r}=await Promise.resolve().then(()=>Ks);return{default:r}},void 0).then(({default:r})=>r(...l)):s=fetch,(...l)=>s(...l)},ob=()=>ib(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Il(()=>Promise.resolve().then(()=>Ks),void 0)).Response:Response}),ic=o=>{if(Array.isArray(o))return o.map(l=>ic(l));if(typeof o=="function"||o!==Object(o))return o;const s={};return Object.entries(o).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));s[c]=ic(r)}),s},ub=o=>{if(typeof o!="object"||o===null)return!1;const s=Object.getPrototypeOf(o);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var $n=function(o,s,l,r){function c(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function v(y){try{m(r.next(y))}catch(w){h(w)}}function g(y){try{m(r.throw(y))}catch(w){h(w)}}function m(y){y.done?f(y.value):c(y.value).then(v,g)}m((r=r.apply(o,s||[])).next())})};const Qu=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),cb=(o,s,l)=>$n(void 0,void 0,void 0,function*(){const r=yield ob();o instanceof r&&!(l!=null&&l.noResolveJson)?o.json().then(c=>{const f=o.status||500,h=(c==null?void 0:c.statusCode)||f+"";s(new rb(Qu(c),f,h))}).catch(c=>{s(new rc(Qu(c),c))}):s(new rc(Qu(o),o))}),db=(o,s,l,r)=>{const c={method:o,headers:(s==null?void 0:s.headers)||{}};return o==="GET"||!r?c:(ub(r)?(c.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),c.body=JSON.stringify(r)):c.body=r,s!=null&&s.duplex&&(c.duplex=s.duplex),Object.assign(Object.assign({},c),l))};function er(o,s,l,r,c,f){return $n(this,void 0,void 0,function*(){return new Promise((h,v)=>{o(l,db(s,r,c,f)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>cb(g,v,r))})})}function ji(o,s,l,r){return $n(this,void 0,void 0,function*(){return er(o,"GET",s,l,r)})}function ga(o,s,l,r,c){return $n(this,void 0,void 0,function*(){return er(o,"POST",s,r,c,l)})}function oc(o,s,l,r,c){return $n(this,void 0,void 0,function*(){return er(o,"PUT",s,r,c,l)})}function fb(o,s,l,r){return $n(this,void 0,void 0,function*(){return er(o,"HEAD",s,Object.assign(Object.assign({},l),{noResolveJson:!0}),r)})}function N0(o,s,l,r,c){return $n(this,void 0,void 0,function*(){return er(o,"DELETE",s,r,c,l)})}var At=function(o,s,l,r){function c(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function v(y){try{m(r.next(y))}catch(w){h(w)}}function g(y){try{m(r.throw(y))}catch(w){h(w)}}function m(y){y.done?f(y.value):c(y.value).then(v,g)}m((r=r.apply(o,s||[])).next())})};const hb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mb{constructor(s,l={},r,c){this.shouldThrowOnError=!1,this.url=s,this.headers=l,this.bucketId=r,this.fetch=E0(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(s,l,r,c){return At(this,void 0,void 0,function*(){try{let f;const h=Object.assign(Object.assign({},Hm),c);let v=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),g&&f.append("metadata",this.encodeMetadata(g)),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl),g&&f.append("metadata",this.encodeMetadata(g))):(f=r,v["cache-control"]=`max-age=${h.cacheControl}`,v["content-type"]=h.contentType,g&&(v["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),c!=null&&c.headers&&(v=Object.assign(Object.assign({},v),c.headers));const m=this._removeEmptyFolders(l),y=this._getFinalPath(m),w=yield(s=="PUT"?oc:ga)(this.fetch,`${this.url}/object/${y}`,f,Object.assign({headers:v},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ft(f))return{data:null,error:f};throw f}})}upload(s,l,r){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,l,r)})}uploadToSignedUrl(s,l,r,c){return At(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(s),h=this._getFinalPath(f),v=new URL(this.url+`/object/upload/sign/${h}`);v.searchParams.set("token",l);try{let g;const m=Object.assign({upsert:Hm.upsert},c),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",m.cacheControl)):(g=r,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const w=yield oc(this.fetch,v.toString(),g,{headers:y});return{data:{path:f,fullPath:w.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(ft(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(s,l){return At(this,void 0,void 0,function*(){try{let r=this._getFinalPath(s);const c=Object.assign({},this.headers);l!=null&&l.upsert&&(c["x-upsert"]="true");const f=yield ga(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:c}),h=new URL(this.url+f.url),v=h.searchParams.get("token");if(!v)throw new Ec("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:v},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}update(s,l,r){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,l,r)})}move(s,l,r){return At(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:l,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ft(c))return{data:null,error:c};throw c}})}copy(s,l,r){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield ga(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:l,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ft(c))return{data:null,error:c};throw c}})}createSignedUrl(s,l,r){return At(this,void 0,void 0,function*(){try{let c=this._getFinalPath(s),f=yield ga(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:l},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const h=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${h}`)},{data:f,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ft(c))return{data:null,error:c};throw c}})}createSignedUrls(s,l,r){return At(this,void 0,void 0,function*(){try{const c=yield ga(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:s},{headers:this.headers}),f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${f}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ft(c))return{data:null,error:c};throw c}})}download(s,l){return At(this,void 0,void 0,function*(){const c=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),h=f?`?${f}`:"";try{const v=this._getFinalPath(s);return{data:yield(yield ji(this.fetch,`${this.url}/${c}/${v}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ft(v))return{data:null,error:v};throw v}})}info(s){return At(this,void 0,void 0,function*(){const l=this._getFinalPath(s);try{const r=yield ji(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:ic(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}exists(s){return At(this,void 0,void 0,function*(){const l=this._getFinalPath(s);try{return yield fb(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r)&&r instanceof rc){const c=r.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:r}}throw r}})}getPublicUrl(s,l){const r=this._getFinalPath(s),c=[],f=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";f!==""&&c.push(f);const v=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});g!==""&&c.push(g);let m=c.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${v}/public/${r}${m}`)}}}remove(s){return At(this,void 0,void 0,function*(){try{return{data:yield N0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ft(l))return{data:null,error:l};throw l}})}list(s,l,r){return At(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},hb),l),{prefix:s||""});return{data:yield ga(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},r),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ft(c))return{data:null,error:c};throw c}})}listV2(s,l){return At(this,void 0,void 0,function*(){try{const r=Object.assign({},s);return{data:yield ga(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},l),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const l=[];return s.width&&l.push(`width=${s.width}`),s.height&&l.push(`height=${s.height}`),s.resize&&l.push(`resize=${s.resize}`),s.format&&l.push(`format=${s.format}`),s.quality&&l.push(`quality=${s.quality}`),l.join("&")}}const gb="2.12.1",pb={"X-Client-Info":`storage-js/${gb}`};var Ms=function(o,s,l,r){function c(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function v(y){try{m(r.next(y))}catch(w){h(w)}}function g(y){try{m(r.throw(y))}catch(w){h(w)}}function m(y){y.done?f(y.value):c(y.value).then(v,g)}m((r=r.apply(o,s||[])).next())})};class vb{constructor(s,l={},r,c){this.shouldThrowOnError=!1;const f=new URL(s);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(f.hostname)&&!f.hostname.includes("storage.supabase.")&&(f.hostname=f.hostname.replace("supabase.","storage.supabase.")),this.url=f.href,this.headers=Object.assign(Object.assign({},pb),l),this.fetch=E0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ms(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}getBucket(s){return Ms(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ft(l))return{data:null,error:l};throw l}})}createBucket(s,l={public:!1}){return Ms(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}updateBucket(s,l){return Ms(this,void 0,void 0,function*(){try{return{data:yield oc(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}emptyBucket(s){return Ms(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ft(l))return{data:null,error:l};throw l}})}deleteBucket(s){return Ms(this,void 0,void 0,function*(){try{return{data:yield N0(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ft(l))return{data:null,error:l};throw l}})}}class yb extends vb{constructor(s,l={},r,c){super(s,l,r,c)}from(s){return new mb(this.url,this.headers,s,this.fetch)}}const bb="2.57.4";let Xl="";typeof Deno<"u"?Xl="deno":typeof document<"u"?Xl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xl="react-native":Xl="node";const xb={"X-Client-Info":`supabase-js-${Xl}/${bb}`},wb={headers:xb},_b={schema:"public"},jb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sb={};var Eb=function(o,s,l,r){function c(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function v(y){try{m(r.next(y))}catch(w){h(w)}}function g(y){try{m(r.throw(y))}catch(w){h(w)}}function m(y){y.done?f(y.value):c(y.value).then(v,g)}m((r=r.apply(o,s||[])).next())})};const Nb=o=>{let s;return o?s=o:typeof fetch>"u"?s=p0:s=fetch,(...l)=>s(...l)},Tb=()=>typeof Headers>"u"?v0:Headers,Rb=(o,s,l)=>{const r=Nb(l),c=Tb();return(f,h)=>Eb(void 0,void 0,void 0,function*(){var v;const g=(v=yield s())!==null&&v!==void 0?v:o;let m=new c(h==null?void 0:h.headers);return m.has("apikey")||m.set("apikey",o),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),r(f,Object.assign(Object.assign({},h),{headers:m}))})};var Ab=function(o,s,l,r){function c(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function v(y){try{m(r.next(y))}catch(w){h(w)}}function g(y){try{m(r.throw(y))}catch(w){h(w)}}function m(y){y.done?f(y.value):c(y.value).then(v,g)}m((r=r.apply(o,s||[])).next())})};function Ob(o){return o.endsWith("/")?o:o+"/"}function kb(o,s){var l,r;const{db:c,auth:f,realtime:h,global:v}=o,{db:g,auth:m,realtime:y,global:w}=s,S={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},m),f),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},w),v),{headers:Object.assign(Object.assign({},(l=w==null?void 0:w.headers)!==null&&l!==void 0?l:{}),(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Ab(this,void 0,void 0,function*(){return""})};return o.accessToken?S.accessToken=o.accessToken:delete S.accessToken,S}function Cb(o){const s=o==null?void 0:o.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ob(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const T0="2.71.1",Hs=30*1e3,uc=3,Pu=uc*Hs,Db="http://localhost:9999",Ub="supabase.auth.token",Mb={"X-Client-Info":`gotrue-js/${T0}`},cc="X-Supabase-Api-Version",R0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lb=600*1e3;class Nc extends Error{constructor(s,l,r){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function de(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class zb extends Nc{constructor(s,l,r){super(s,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function Bb(o){return de(o)&&o.name==="AuthApiError"}class A0 extends Nc{constructor(s,l){super(s),this.name="AuthUnknownError",this.originalError=l}}class gn extends Nc{constructor(s,l,r,c){super(s,r,c),this.name=l,this.status=r}}class hn extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hb(o){return de(o)&&o.name==="AuthSessionMissingError"}class gi extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pi extends gn{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class vi extends gn{constructor(s,l=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $b(o){return de(o)&&o.name==="AuthImplicitGrantRedirectError"}class $m extends gn{constructor(s,l=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dc extends gn{constructor(s,l){super(s,"AuthRetryableFetchError",l,void 0)}}function Zu(o){return de(o)&&o.name==="AuthRetryableFetchError"}class Gm extends gn{constructor(s,l,r){super(s,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class fc extends gn{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ym=` 	
\r=`.split(""),Gb=(()=>{const o=new Array(128);for(let s=0;s<o.length;s+=1)o[s]=-1;for(let s=0;s<Ym.length;s+=1)o[Ym[s].charCodeAt(0)]=-2;for(let s=0;s<Si.length;s+=1)o[Si[s].charCodeAt(0)]=s;return o})();function Vm(o,s,l){if(o!==null)for(s.queue=s.queue<<8|o,s.queuedBits+=8;s.queuedBits>=6;){const r=s.queue>>s.queuedBits-6&63;l(Si[r]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const r=s.queue>>s.queuedBits-6&63;l(Si[r]),s.queuedBits-=6}}function O0(o,s,l){const r=Gb[o];if(r>-1)for(s.queue=s.queue<<6|r,s.queuedBits+=6;s.queuedBits>=8;)l(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function Xm(o){const s=[],l=h=>{s.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=h=>{Xb(h,r,l)};for(let h=0;h<o.length;h+=1)O0(o.charCodeAt(h),c,f);return s.join("")}function Yb(o,s){if(o<=127){s(o);return}else if(o<=2047){s(192|o>>6),s(128|o&63);return}else if(o<=65535){s(224|o>>12),s(128|o>>6&63),s(128|o&63);return}else if(o<=1114111){s(240|o>>18),s(128|o>>12&63),s(128|o>>6&63),s(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Vb(o,s){for(let l=0;l<o.length;l+=1){let r=o.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(o.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}Yb(r,s)}}function Xb(o,s,l){if(s.utf8seq===0){if(o<=127){l(o);return}for(let r=1;r<6;r+=1)if((o>>7-r&1)===0){s.utf8seq=r;break}if(s.utf8seq===2)s.codepoint=o&31;else if(s.utf8seq===3)s.codepoint=o&15;else if(s.utf8seq===4)s.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|o&63,s.utf8seq-=1,s.utf8seq===0&&l(s.codepoint)}}function Kb(o){const s=[],l={queue:0,queuedBits:0},r=c=>{s.push(c)};for(let c=0;c<o.length;c+=1)O0(o.charCodeAt(c),l,r);return new Uint8Array(s)}function Qb(o){const s=[];return Vb(o,l=>s.push(l)),new Uint8Array(s)}function Pb(o){const s=[],l={queue:0,queuedBits:0},r=c=>{s.push(c)};return o.forEach(c=>Vm(c,l,r)),Vm(null,l,r),s.join("")}function Zb(o){return Math.round(Date.now()/1e3)+o}function Jb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const s=Math.random()*16|0;return(o=="x"?s:s&3|8).toString(16)})}const ra=()=>typeof window<"u"&&typeof document<"u",qn={tested:!1,writable:!1},k0=()=>{if(!ra())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qn.tested)return qn.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),qn.tested=!0,qn.writable=!0}catch{qn.tested=!0,qn.writable=!1}return qn.writable};function Wb(o){const s={},l=new URL(o);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,f)=>{s[f]=c})}catch{}return l.searchParams.forEach((r,c)=>{s[c]=r}),s}const C0=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...l)=>Il(async()=>{const{default:r}=await Promise.resolve().then(()=>Ks);return{default:r}},void 0).then(({default:r})=>r(...l)):s=fetch,(...l)=>s(...l)},Fb=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",$s=async(o,s,l)=>{await o.setItem(s,JSON.stringify(l))},Ln=async(o,s)=>{const l=await o.getItem(s);if(!l)return null;try{return JSON.parse(l)}catch{return l}},dn=async(o,s)=>{await o.removeItem(s)};class Ti{constructor(){this.promise=new Ti.promiseConstructor((s,l)=>{this.resolve=s,this.reject=l})}}Ti.promiseConstructor=Promise;function Ju(o){const s=o.split(".");if(s.length!==3)throw new fc("Invalid JWT structure");for(let r=0;r<s.length;r++)if(!qb.test(s[r]))throw new fc("JWT not in base64url format");return{header:JSON.parse(Xm(s[0])),payload:JSON.parse(Xm(s[1])),signature:Kb(s[2]),raw:{header:s[0],payload:s[1]}}}async function Ib(o){return await new Promise(s=>{setTimeout(()=>s(null),o)})}function ex(o,s){return new Promise((r,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await o(f);if(!s(f,null,h)){r(h);return}}catch(h){if(!s(f,h)){c(h);return}}})()})}function tx(o){return("0"+o.toString(16)).substr(-2)}function ax(){const s=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let f=0;f<56;f++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(s),Array.from(s,tx).join("")}async function nx(o){const l=new TextEncoder().encode(o),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function sx(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const l=await nx(o);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qs(o,s,l=!1){const r=ax();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await $s(o,`${s}-code-verifier`,c);const f=await sx(r);return[f,r===f?"plain":"s256"]}const lx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rx(o){const s=o.headers.get(cc);if(!s||!s.match(lx))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function ix(o){if(!o)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(o<=s)throw new Error("JWT has expired")}function ox(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ux=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ls(o){if(!ux.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wu(){const o={};return new Proxy(o,{get:(s,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Km(o){return JSON.parse(JSON.stringify(o))}var cx=function(o,s){var l={};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&s.indexOf(r)<0&&(l[r]=o[r]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(o);c<r.length;c++)s.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(o,r[c])&&(l[r[c]]=o[r[c]]);return l};const zn=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),dx=[502,503,504];async function Qm(o){var s;if(!Fb(o))throw new dc(zn(o),0);if(dx.includes(o.status))throw new dc(zn(o),o.status);let l;try{l=await o.json()}catch(f){throw new A0(zn(f),f)}let r;const c=rx(o);if(c&&c.getTime()>=R0["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new Gm(zn(l),o.status,((s=l.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(r==="session_not_found")throw new hn}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new Gm(zn(l),o.status,l.weak_password.reasons);throw new zb(zn(l),o.status||500,r)}const fx=(o,s,l,r)=>{const c={method:o,headers:(s==null?void 0:s.headers)||{}};return o==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function we(o,s,l,r){var c;const f=Object.assign({},r==null?void 0:r.headers);f[cc]||(f[cc]=R0["2024-01-01"].name),r!=null&&r.jwt&&(f.Authorization=`Bearer ${r.jwt}`);const h=(c=r==null?void 0:r.query)!==null&&c!==void 0?c:{};r!=null&&r.redirectTo&&(h.redirect_to=r.redirectTo);const v=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await hx(o,s,l+v,{headers:f,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function hx(o,s,l,r,c,f){const h=fx(s,r,c,f);let v;try{v=await o(l,Object.assign({},h))}catch(g){throw console.error(g),new dc(zn(g),0)}if(v.ok||await Qm(v),r!=null&&r.noResolveJson)return v;try{return await v.json()}catch(g){await Qm(g)}}function Da(o){var s;let l=null;vx(o)&&(l=Object.assign({},o),o.expires_at||(l.expires_at=Zb(o.expires_in)));const r=(s=o.user)!==null&&s!==void 0?s:o;return{data:{session:l,user:r},error:null}}function Pm(o){const s=Da(o);return!s.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(s.data.weak_password=o.weak_password),s}function mn(o){var s;return{data:{user:(s=o.user)!==null&&s!==void 0?s:o},error:null}}function mx(o){return{data:o,error:null}}function gx(o){const{action_link:s,email_otp:l,hashed_token:r,redirect_to:c,verification_type:f}=o,h=cx(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:s,email_otp:l,hashed_token:r,redirect_to:c,verification_type:f},g=Object.assign({},h);return{data:{properties:v,user:g},error:null}}function px(o){return o}function vx(o){return o.access_token&&o.refresh_token&&o.expires_in}const Fu=["global","local","others"];var yx=function(o,s){var l={};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&s.indexOf(r)<0&&(l[r]=o[r]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(o);c<r.length;c++)s.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(o,r[c])&&(l[r[c]]=o[r[c]]);return l};class bx{constructor({url:s="",headers:l={},fetch:r}){this.url=s,this.headers=l,this.fetch=C0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,l=Fu[0]){if(Fu.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fu.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(s,l={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:mn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(s){try{const{options:l}=s,r=yx(s,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r==null?void 0:r.newEmail,delete c.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:gx,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(de(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(s){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:mn})}catch(l){if(de(l))return{data:{user:null},error:l};throw l}}async listUsers(s){var l,r,c,f,h,v,g;try{const m={nextPage:null,lastPage:0,total:0},y=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=s==null?void 0:s.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=s==null?void 0:s.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:px});if(y.error)throw y.error;const w=await y.json(),S=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,A=(g=(v=y.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(T=>{const q=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(T.split(";")[1].split("=")[1]);m[`${U}Page`]=q}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(de(m))return{data:{users:[]},error:m};throw m}}async getUserById(s){Ls(s);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:mn})}catch(l){if(de(l))return{data:{user:null},error:l};throw l}}async updateUserById(s,l){Ls(s);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:l,headers:this.headers,xform:mn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(s,l=!1){Ls(s);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:l},xform:mn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(s){Ls(s.userId);try{const{data:l,error:r}=await we(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(de(l))return{data:null,error:l};throw l}}async _deleteFactor(s){Ls(s.userId),Ls(s.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(l){if(de(l))return{data:null,error:l};throw l}}}function Zm(o={}){return{getItem:s=>o[s]||null,setItem:(s,l)=>{o[s]=l},removeItem:s=>{delete o[s]}}}function xx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zs={debug:!!(globalThis&&k0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D0 extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class wx extends D0{}async function _x(o,s,l){zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,s);const r=new globalThis.AbortController;return s>0&&setTimeout(()=>{r.abort(),zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,c.name);try{return await l()}finally{zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,c.name)}}else{if(s===0)throw zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new wx(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(zs.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}xx();const jx={url:Db,storageKey:Ub,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jm(o,s,l){return await l()}const Bs={};class Jl{constructor(s){var l,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jl.nextInstanceID,Jl.nextInstanceID+=1,this.instanceID>0&&ra()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},jx),s);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new bx({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=C0(c.fetch),this.lock=c.lock||Jm,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:ra()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=_x:this.lock=Jm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:k0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zm(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Zm(this.memoryStorage)),ra()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}get jwks(){var s,l;return(l=(s=Bs[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(s){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,l;return(l=(s=Bs[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{cachedAt:s})}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${T0}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const l=Wb(window.location.href);let r="none";if(this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce"),ra()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:f}=await this._getSessionFromURL(l,r);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),$b(f)){const g=(s=f.details)===null||s===void 0?void 0:s.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:h,redirectType:v}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",v),await this._saveSession(h),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return de(l)?{error:l}:{error:new A0("Unexpected error during initialization",l)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var l,r,c;try{const f=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=s==null?void 0:s.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=s==null?void 0:s.options)===null||c===void 0?void 0:c.captchaToken}},xform:Da}),{data:h,error:v}=f;if(v||!h)return{data:{user:null,session:null},error:v};const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(f){if(de(f))return{data:{user:null,session:null},error:f};throw f}}async signUp(s){var l,r,c;try{let f;if("email"in s){const{email:y,password:w,options:S}=s;let A=null,T=null;this.flowType==="pkce"&&([A,T]=await qs(this.storage,this.storageKey)),f=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:w,data:(l=S==null?void 0:S.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:A,code_challenge_method:T},xform:Da})}else if("phone"in s){const{phone:y,password:w,options:S}=s;f=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(r=S==null?void 0:S.data)!==null&&r!==void 0?r:{},channel:(c=S==null?void 0:S.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Da})}else throw new pi("You must provide either an email or phone number and a password");const{data:h,error:v}=f;if(v||!h)return{data:{user:null,session:null},error:v};const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(f){if(de(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(s){try{let l;if("email"in s){const{email:f,password:h,options:v}=s;l=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Pm})}else if("phone"in s){const{phone:f,password:h,options:v}=s;l=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Pm})}else throw new pi("You must provide either an email or phone number and a password");const{data:r,error:c}=l;return c?{data:{user:null,session:null},error:c}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOAuth(s){var l,r,c,f;return await this._handleProviderSignIn(s.provider,{redirectTo:(l=s.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=s.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=s.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:l}=s;if(l==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}async signInWithSolana(s){var l,r,c,f,h,v,g,m,y,w,S,A;let T,q;if("message"in s)T=s.message,q=s.signature;else{const{chain:U,wallet:V,statement:G,options:D}=s;let X;if(ra())if(typeof V=="object")X=V;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))X=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=V}const K=new URL((l=D==null?void 0:D.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in X&&X.signIn){const J=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),G?{statement:G}:null));let oe;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")oe=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)oe=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)T=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),q=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${K.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(c=(r=D==null?void 0:D.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((v=D==null?void 0:D.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((g=D==null?void 0:D.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((w=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...D.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const J=await X.signMessage(new TextEncoder().encode(T),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");q=J}}try{const{data:U,error:V}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Pb(q)},!((S=s.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(A=s.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Da});if(V)throw V;return!U||!U.session||!U.user?{data:{user:null,session:null},error:new gi}:(U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),{data:Object.assign({},U),error:V})}catch(U){if(de(U))return{data:{user:null,session:null},error:U};throw U}}async _exchangeCodeForSession(s){const l=await Ln(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{const{data:f,error:h}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:r},xform:Da});if(await dn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!f||!f.session||!f.user?{data:{user:null,session:null,redirectType:null},error:new gi}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:h})}catch(f){if(de(f))return{data:{user:null,session:null,redirectType:null},error:f};throw f}}async signInWithIdToken(s){try{const{options:l,provider:r,token:c,access_token:f,nonce:h}=s,v=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Da}),{data:g,error:m}=v;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new gi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOtp(s){var l,r,c,f,h;try{if("email"in s){const{email:v,options:g}=s;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await qs(this.storage,this.storageKey));const{error:w}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(l=g==null?void 0:g.data)!==null&&l!==void 0?l:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in s){const{phone:v,options:g}=s,{data:m,error:y}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(f=g==null?void 0:g.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new pi("You must provide either an email or phone number.")}catch(v){if(de(v))return{data:{user:null,session:null},error:v};throw v}}async verifyOtp(s){var l,r;try{let c,f;"options"in s&&(c=(l=s.options)===null||l===void 0?void 0:l.redirectTo,f=(r=s.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:v}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:Da});if(v)throw v;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,m=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(c){if(de(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(s){var l,r,c;try{let f=null,h=null;return this.flowType==="pkce"&&([f,h]=await qs(this.storage,this.storageKey)),await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(r=(l=s.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=s==null?void 0:s.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:mx})}catch(f){if(de(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:l},error:r}=s;if(r)throw r;if(!l)throw new hn;const{error:c}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return{data:{user:null,session:null},error:c}})}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const l=`${this.url}/resend`;if("email"in s){const{email:r,type:c,options:f}=s,{error:h}=await we(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in s){const{phone:r,type:c,options:f}=s,{data:h,error:v}=await we(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:v}}throw new pi("You must provide either an email or phone number and a type")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(s,l){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await s(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const l=await Ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?s=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const r=s.expires_at?s.expires_at*1e3-Date.now()<Pu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",s.expires_at),!r){if(this.userStorage){const h=await Ln(this.userStorage,this.storageKey+"-user");h!=null&&h.user?s.user=h.user:s.user=Wu()}if(this.storage.isServer&&s.user){let h=this.suppressGetSessionWarning;s=new Proxy(s,{get:(g,m,y)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,y))})}return{data:{session:s},error:null}}const{session:c,error:f}=await this._callRefreshToken(s.refresh_token);return f?{data:{session:null},error:f}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:mn}):await this._useSession(async l=>{var r,c,f;const{data:h,error:v}=l;if(v)throw v;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hn}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:mn})})}catch(l){if(de(l))return Hb(l)&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:l};throw l}}async updateUser(s,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,l))}async _updateUser(s,l={}){try{return await this._useSession(async r=>{const{data:c,error:f}=r;if(f)throw f;if(!c.session)throw new hn;const h=c.session;let v=null,g=null;this.flowType==="pkce"&&s.email!=null&&([v,g]=await qs(this.storage,this.storageKey));const{data:m,error:y}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:v,code_challenge_method:g}),jwt:h.access_token,xform:mn});if(y)throw y;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new hn;const l=Date.now()/1e3;let r=l,c=!0,f=null;const{payload:h}=Ju(s.access_token);if(h.exp&&(r=h.exp,c=r<=l),c){const{session:v,error:g}=await this._callRefreshToken(s.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!v)return{data:{user:null,session:null},error:null};f=v}else{const{data:v,error:g}=await this._getUser(s.access_token);if(g)throw g;f={access_token:s.access_token,refresh_token:s.refresh_token,user:v.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(l){if(de(l))return{data:{session:null,user:null},error:l};throw l}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async l=>{var r;if(!s){const{data:h,error:v}=l;if(v)throw v;s=(r=h.session)!==null&&r!==void 0?r:void 0}if(!(s!=null&&s.refresh_token))throw new hn;const{session:c,error:f}=await this._callRefreshToken(s.refresh_token);return f?{data:{user:null,session:null},error:f}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async _getSessionFromURL(s,l){try{if(!ra())throw new vi("No browser detected.");if(s.error||s.error_description||s.error_code)throw new vi(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new $m("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vi("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new $m("No code detected.");const{data:G,error:D}=await this._exchangeCodeForSession(s.code);if(D)throw D;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:f,refresh_token:h,expires_in:v,expires_at:g,token_type:m}=s;if(!f||!v||!h||!m)throw new vi("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(v);let S=y+w;g&&(S=parseInt(g));const A=S-y;A*1e3<=Hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${w}s`);const T=S-w;y-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,y):y-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,y);const{data:q,error:U}=await this._getUser(f);if(U)throw U;const V={provider_token:r,provider_refresh_token:c,access_token:f,expires_in:w,expires_at:S,refresh_token:h,token_type:m,user:q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:s.type},error:null}}catch(r){if(de(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const l=await Ln(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&l)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f)return{error:f};const h=(r=c.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:v}=await this.admin.signOut(h,s);if(v&&!(Bb(v)&&(v.status===404||v.status===401||v.status===403)))return{error:v}}return s!=="others"&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const l=Jb(),r={id:l,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(s){return await this._useSession(async l=>{var r,c;try{const{data:{session:f},error:h}=l;if(h)throw h;await((r=this.stateChangeEmitters.get(s))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",s,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(s))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",f),console.error(f)}})}async resetPasswordForEmail(s,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await qs(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(f){if(de(f))return{data:null,error:f};throw f}}async getUserIdentities(){var s;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(s=l.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(l){if(de(l))return{data:null,error:l};throw l}}async linkIdentity(s){var l;try{const{data:r,error:c}=await this._useSession(async f=>{var h,v,g,m,y;const{data:w,error:S}=f;if(S)throw S;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(h=s.options)===null||h===void 0?void 0:h.redirectTo,scopes:(v=s.options)===null||v===void 0?void 0:v.scopes,queryParams:(g=s.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",A,{headers:this.headers,jwt:(y=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return ra()&&!(!((l=s.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:s.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(de(r))return{data:{provider:s.provider,url:null},error:r};throw r}}async unlinkIdentity(s){try{return await this._useSession(async l=>{var r,c;const{data:f,error:h}=l;if(h)throw h;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(c=(r=f.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(de(l))return{data:null,error:l};throw l}}async _refreshAccessToken(s){const l=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await ex(async c=>(c>0&&await Ib(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Da})),(c,f)=>{const h=200*Math.pow(2,c);return f&&Zu(f)&&Date.now()+h-r<Hs})}catch(r){if(this._debug(l,"error",r),de(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(l,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",l,"url",r),ra()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:s,url:r},error:null}}async _recoverAndRefresh(){var s,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await Ln(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Ln(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await $s(this.userStorage,this.storageKey+"-user",h)),c.user=(s=h==null?void 0:h.user)!==null&&s!==void 0?s:Wu()}else if(c&&!c.user&&!c.user){const h=await Ln(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await dn(this.storage,this.storageKey+"-user"),await $s(this.storage,this.storageKey,c)):c.user=Wu()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const f=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Pu;if(this._debug(r,`session has${f?"":" not"} expired with margin of ${Pu}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Zu(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:v}=await this._getUser(c.access_token);!v&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(s){var l,r;if(!s)throw new hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Ti;const{data:f,error:h}=await this._refreshAccessToken(s);if(h)throw h;if(!f.session)throw new hn;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const v={session:f.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(f){if(this._debug(c,"error",f),de(f)){const h={session:null,error:f};return Zu(f)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(s,l,r=!0){const c=`#_notifyAllSubscribers(${s})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:s,session:l});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(s,l)}catch(g){f.push(g)}});if(await Promise.all(h),f.length>0){for(let v=0;v<f.length;v+=1)console.error(f[v]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const l=Object.assign({},s),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await $s(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const f=Km(c);await $s(this.storage,this.storageKey,f)}else{const c=Km(l);await $s(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await dn(this.storage,this.storageKey),await dn(this.storage,this.storageKey+"-code-verifier"),await dn(this.storage,this.storageKey+"-user"),this.userStorage&&await dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&ra()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Hs);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-s)/Hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Hs}ms, refresh threshold is ${uc} ticks`),c<=uc&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof D0)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ra()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const l=`#_onVisibilityChanged(${s})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[f,h]=await qs(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(v.toString())}if(r!=null&&r.queryParams){const f=new URLSearchParams(r.queryParams);c.push(f.toString())}return r!=null&&r.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${s}?${c.join("&")}`}async _unenroll(s){try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;return f?{data:null,error:f}:await we(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(de(l))return{data:null,error:l};throw l}}async _enroll(s){try{return await this._useSession(async l=>{var r,c;const{data:f,error:h}=l;if(h)return{data:null,error:h};const v=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:g,error:m}=await we(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(r=f==null?void 0:f.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(s.factorType==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(l){if(de(l))return{data:null,error:l};throw l}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f)return{data:null,error:f};const{data:h,error:v}=await we(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:v})})}catch(l){if(de(l))return{data:null,error:l};throw l}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;return f?{data:null,error:f}:await we(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(de(l))return{data:null,error:l};throw l}})}async _challengeAndVerify(s){const{data:l,error:r}=await this._challenge({factorId:s.factorId});return r?{data:null,error:r}:await this._verify({factorId:s.factorId,challengeId:l.id,code:s.code})}async _listFactors(){const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const r=(s==null?void 0:s.factors)||[],c=r.filter(h=>h.factor_type==="totp"&&h.status==="verified"),f=r.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:r,totp:c,phone:f},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var l,r;const{data:{session:c},error:f}=s;if(f)return{data:null,error:f};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Ju(c.access_token);let v=null;h.aal&&(v=h.aal);let g=v;((r=(l=c.user.factors)===null||l===void 0?void 0:l.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const y=h.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(s,l={keys:[]}){let r=l.keys.find(v=>v.kid===s);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(v=>v.kid===s),r&&this.jwks_cached_at+Lb>c)return r;const{data:f,error:h}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,r=f.keys.find(v=>v.kid===s),!r)?null:r}async getClaims(s,l={}){try{let r=s;if(!r){const{data:A,error:T}=await this.getSession();if(T||!A.session)return{data:null,error:T};r=A.session.access_token}const{header:c,payload:f,signature:h,raw:{header:v,payload:g}}=Ju(r);l!=null&&l.allowExpired||ix(f.exp);const m=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!m){const{error:A}=await this.getUser(r);if(A)throw A;return{data:{claims:f,header:c,signature:h},error:null}}const y=ox(c.alg),w=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,h,Qb(`${v}.${g}`)))throw new fc("Invalid JWT signature");return{data:{claims:f,header:c,signature:h},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}}Jl.nextInstanceID=0;const Sx=Jl;class Ex extends Sx{constructor(s){super(s)}}var Nx=function(o,s,l,r){function c(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function v(y){try{m(r.next(y))}catch(w){h(w)}}function g(y){try{m(r.throw(y))}catch(w){h(w)}}function m(y){y.done?f(y.value):c(y.value).then(v,g)}m((r=r.apply(o,s||[])).next())})};class Tx{constructor(s,l,r){var c,f,h;this.supabaseUrl=s,this.supabaseKey=l;const v=Cb(s);if(!l)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",v),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",v),this.storageUrl=new URL("storage/v1",v),this.functionsUrl=new URL("functions/v1",v);const g=`sb-${v.hostname.split(".")[0]}-auth-token`,m={db:_b,realtime:Sb,auth:Object.assign(Object.assign({},jb),{storageKey:g}),global:wb},y=kb(r??{},m);this.storageKey=(c=y.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(f=y.global.headers)!==null&&f!==void 0?f:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=Rb(l,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Gy(new URL("rest/v1",v).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new yb(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Cy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,l={},r={}){return this.rest.rpc(s,l,r)}channel(s,l={config:{}}){return this.realtime.channel(s,l)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,l;return Nx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(l=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:l,detectSessionInUrl:r,storage:c,userStorage:f,storageKey:h,flowType:v,lock:g,debug:m},y,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ex({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),y),storageKey:h,autoRefreshToken:s,persistSession:l,detectSessionInUrl:r,storage:c,userStorage:f,flowType:v,lock:g,debug:m,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new lb(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,r)=>{this._handleTokenChanged(l,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,l,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:s==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rx=(o,s,l)=>new Tx(o,s,l);function Ax(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const s=o.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Ax()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const za=j.createContext(),Ox="https://qzyhrvxugoqtppbotiel.supabase.co",kx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6eWhydnh1Z29xdHBwYm90aWVsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNjA1NDYsImV4cCI6MjA2ODkzNjU0Nn0.d47iBV10VKiqTxWHwQkdPonKWfoBf9Xuua2z9KwAzc0",yi=Rx(Ox,kx),Cx=["@srmist.edu.in","@srmist.in"];function Dx({children:o}){const[s,l]=j.useState(null),[r,c]=j.useState(!0),[f,h]=j.useState(null),v=async()=>{try{const{error:m}=await yi.auth.signOut({scope:"global"});m&&console.warn("Sign out warning:",m.message)}catch(m){console.warn("Sign out exception:",m)}finally{l(null),h(null)}},g=m=>m?Cx.some(y=>m.toLowerCase().endsWith(y)):!1;return j.useEffect(()=>{const m=async S=>{var T;if(!S){l(null);return}const A=(T=S==null?void 0:S.user)==null?void 0:T.email;if(!A){console.log("No email found in session, signing out"),await v(),l(null),h("No email found in authentication");return}g(A)?(console.log("Valid SRM email found:",A),l(S),h(null)):(console.log("User email not from allowed domain:",A),await v(),h("Please use an SRM email (@srmist.edu.in or @srmist.in)"))};(async()=>{try{c(!0);const{data:S,error:A}=await yi.auth.getSession();A?(console.error("Error getting session:",A),h(A.message),l(null)):await m(S.session)}catch(S){console.error("Unexpected error in fetchSession:",S),h("Failed to initialize session"),l(null)}finally{c(!1)}})();const{data:{subscription:w}}=yi.auth.onAuthStateChange(async(S,A)=>{var T;console.log("Auth state changed:",S,(T=A==null?void 0:A.user)==null?void 0:T.email);try{switch(c(!0),S){case"SIGNED_IN":console.log("User signed in"),await m(A);break;case"TOKEN_REFRESHED":console.log("Token refreshed"),await m(A);break;case"SIGNED_OUT":console.log("User signed out"),l(null),h(null);break;case"USER_UPDATED":console.log("User updated"),l(A);break;default:console.log("Other auth event:",S);break}}catch(q){console.error("Error in auth state change:",q),h("Error processing authentication")}finally{c(!1)}});return()=>{w.unsubscribe()}},[]),j.useEffect(()=>{const m=setTimeout(()=>{r&&(console.log("Force ending loading state after timeout"),c(!1))},3e3);return()=>clearTimeout(m)},[r]),u.jsx(za.Provider,{value:{session:s,supabase:yi,authError:f,loading:r,signOut:v},children:o})}function Wm(){const{session:o,supabase:s,authError:l,loading:r}=j.useContext(za),[c,f]=j.useState(null),[h,v]=j.useState(!1),g=Hn();j.useEffect(()=>{o&&o.user&&(console.log("User is logged in, redirecting to home"),g("/home",{replace:!0}))},[o,g]),j.useEffect(()=>{l&&f(l)},[l]);const m=async()=>{try{v(!0),f(null),console.log("Starting Google OAuth login");const{error:y}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/home`,queryParams:{access_type:"offline",prompt:"select_account"}}});y&&(console.error("Login error:",y),f(`Login failed: ${y.message}`))}catch(y){console.error("Unexpected error during login:",y),f("An unexpected error occurred during login")}finally{v(!1)}};return r?u.jsx("div",{className:"page-container flex items-center justify-center",children:u.jsxs("div",{className:"glass-card p-8 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):u.jsx("div",{className:"page-container flex items-center justify-center",children:u.jsxs("div",{className:"w-full max-w-md fade-in",children:[u.jsxs("div",{className:"glass-card p-8 text-center shadow-xl border border-white border-opacity-20",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center text-white text-3xl font-bold mb-6 shadow-lg",children:"SRM"}),u.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Controller of Examinations"}),u.jsx("h3",{className:"text-2xl text-gray-800 mb-2",children:"Grievance Redressal Portal"}),u.jsx("p",{className:"text-gray-600",children:"Access your examination support services"}),u.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-blue-500 to-blue-700 mx-auto mt-4 rounded-full"})]}),c&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg border border-red-200 flex items-center gap-3 slide-in",children:[u.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),u.jsx("span",{children:c})]}),u.jsx("button",{onClick:m,disabled:h,className:"primary-button w-full flex items-center justify-center gap-2 py-3 text-base",children:h?u.jsxs("span",{className:"flex items-center",children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})}),u.jsxs("div",{className:"mt-6 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100",children:[u.jsx("svg",{className:"w-5 h-5 text-blue-500 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Only @srmist.edu.in and @srmist.in email domains are permitted"]})]}),u.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[" ",new Date().getFullYear()," SRM Institute of Science and Technology. All rights reserved."]})]})})}const Fm=[{value:"exam_issue",label:"Exam Issue"},{value:"clarification",label:"Clarification"},{value:"reschedule",label:"Reschedule Request"},{value:"grade_dispute",label:"Grade Dispute"},{value:"other",label:"Other"}],Ux=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}];function Mx({onRequestSubmitted:o}){const{session:s,supabase:l}=j.useContext(za),[r,c]=j.useState(""),[f,h]=j.useState(""),[v,g]=j.useState(""),[m,y]=j.useState("medium"),[w,S]=j.useState(null),[A,T]=j.useState([]),[q,U]=j.useState(""),[V,G]=j.useState(""),[D,X]=j.useState(""),[K,J]=j.useState(!1),[oe,me]=j.useState(null),[Te,Qe]=j.useState(!1),[Pe,Se]=j.useState(null),[Ie,nt]=j.useState(null),[ze,L]=j.useState(!1),[W,ae]=j.useState(0),[ge,x]=j.useState([]),[M,Y]=j.useState([]),[Q,ee]=j.useState([]),[P,I]=j.useState([]),[te,ve]=j.useState(""),[et,Ce]=j.useState([]),[$e,Lt]=j.useState("");j.useEffect(()=>{if(!(s!=null&&s.user))return;(async()=>{try{const{data:fe,error:De}=await l.from("profiles").select("*").eq("id",s.user.id).single();if(De){console.error("Error fetching profile:",De);return}Se(fe),fe.department_id&&U(fe.department_id),fe.branch_id&&X(fe.branch_id);const{data:Ot,error:va}=await l.from("departments").select("*").eq("is_active",!0);if(va){console.error("Error fetching departments:",va);return}T(Ot);const{data:Ha,error:ta}=await l.from("degrees").select("*, departments:department_id(*)");if(ta){console.error("Error fetching degrees:",ta);return}x(Ha||[]),fe!=null&&fe.degree_id&&G(fe.degree_id);const{data:rt,error:$a}=await l.from("branches").select("*");if($a)console.error("Error fetching branches:",$a);else if(ee(rt||[]),fe!=null&&fe.branch_id&&Array.isArray(rt)){const kt=rt.find(Ne=>Ne.id===fe.branch_id);kt&&((!fe.department_id||fe.department_id!==kt.department_id)&&U(kt.department_id),X(kt.id))}const{data:Gn,error:aa}=await l.from("campuses").select("*");aa?console.error("Error fetching campuses:",aa):(Ce(Gn||[]),fe!=null&&fe.campus_id&&Lt(fe.campus_id.toString()))}catch(fe){console.error("Unexpected error:",fe)}})()},[s,l]),j.useEffect(()=>{if(q){const le=ge.filter(De=>De.department_id===parseInt(q));Y(le),le.find(De=>De.id===V)||G(""),le.length===1&&G(le[0].id);const fe=Q.filter(De=>De.department_id===parseInt(q));I(fe),fe.find(De=>De.id===parseInt(D))||X(""),fe.length===1&&X(fe[0].id)}else Y([]),G(""),I([]),X("")},[q,ge,Q]),j.useEffect(()=>{if(w)if(w.type.split("/")[0]==="image"){const fe=URL.createObjectURL(w);return nt(fe),()=>URL.revokeObjectURL(fe)}else nt(null)},[w]);const Ba=le=>{h(le.target.value),ae(le.target.value.length)},pn=async le=>{var fe,De;if(le.preventDefault(),!!(s!=null&&s.user)){J(!0),me(null),Qe(!1);try{if(!r.trim())throw new Error("Please enter a request title");if(!f.trim())throw new Error("Please provide a description");if(!v)throw new Error("Please select a request type");if(!q)throw new Error("Please select a department");if(!D)throw new Error("Please select a branch");if(!$e)throw new Error("Please select a campus");let Ot=null;if(w){const Ne=w.name.split(".").pop();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(Ne.toLowerCase()))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const it=`${s.user.id}_${Date.now()}.${Ne}`,{error:vn}=await l.storage.from("request-attachments").upload(it,w);if(vn)throw vn;const{data:{publicUrl:Yn}}=l.storage.from("request-attachments").getPublicUrl(it);Ot=Yn}let va="";if(A.length>0){const Ne=A.find(jt=>jt.id===q);Ne&&(va=Ne.name)}let Ha="";if(P.length>0){const Ne=P.find(jt=>jt.id===parseInt(D));Ne&&(Ha=Ne.branch_name)}const{data:ta,error:rt}=await l.from("examination_requests").insert({student_id:s.user.id,title:r,description:f,request_type:v,priority:m,degree:V,department_id:q,branch_id:D,campus_id:parseInt($e),attachments:Ot?[Ot]:[],status:"pending"}).select("id, created_at").single();if(rt)throw rt;ve(ta.id);const $a=((fe=Fm.find(Ne=>Ne.value===v))==null?void 0:fe.label)||v,Gn=((De=Ux.find(Ne=>Ne.value===m))==null?void 0:De.label)||m,aa=ge.find(Ne=>Ne.id===parseInt(V)),kt=aa?`${aa.name} (${aa.code})`:V;Qe(!0),c(""),h(""),g(""),y("medium"),S(null),nt(null),ae(0),o&&o(),setTimeout(()=>Qe(!1),4e3)}catch(Ot){console.error("Error submitting request:",Ot),me(Ot.message),setTimeout(()=>me(null),5e3)}finally{J(!1)}}};return u.jsxs("div",{children:[(oe||Te)&&u.jsxs("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:[oe&&u.jsxs("div",{className:"px-4 py-3 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01M5.07 19h13.86A2 2 0 0021 17.07L13.93 3.52a2 2 0 00-3.86 0L3 17.07A2 2 0 005.07 19z"})}),u.jsx("span",{className:"font-medium",children:oe})]}),Te&&u.jsxs("div",{className:"px-4 py-3 bg-green-600 text-white rounded-lg shadow-lg",children:[u.jsx("div",{className:"font-medium",children:"Request submitted successfully!"}),te&&u.jsxs("div",{className:"text-xs mt-1",children:["Your Request ID: ",u.jsx("span",{className:"font-mono bg-white text-green-800 px-1 py-0.5 rounded",children:te})]})]})]}),u.jsxs("form",{onSubmit:pn,className:"space-y-4",onChange:()=>L(!0),children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Request Title"}),u.jsx("input",{type:"text",value:r,onChange:le=>c(le.target.value),className:"form-input",placeholder:"Brief title describing your request",required:!0})]}),u.jsx("div",{children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Request Type"}),u.jsxs("select",{value:v,onChange:le=>g(le.target.value),className:"form-select",required:!0,children:[u.jsx("option",{value:"",children:"Select Request Type"}),Fm.map(le=>u.jsx("option",{value:le.value,children:le.label},le.value))]})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),u.jsxs("select",{value:q,onChange:le=>U(le.target.value),className:"form-select",required:!0,disabled:A.length===0,children:[u.jsx("option",{value:"",children:"Select Department"}),A.map(le=>u.jsx("option",{value:le.id,children:le.name},le.id))]}),A.length===0&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading departments..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Degree"}),u.jsxs("select",{value:V,onChange:le=>G(le.target.value),className:"form-select",required:!0,disabled:!q,children:[u.jsx("option",{value:"",children:"Select Your Degree"}),M.map(le=>u.jsxs("option",{value:le.id,children:[le.name," (",le.code,")"]},le.id))]}),!q&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),q&&M.length===0&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No degrees available for selected department"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),u.jsxs("select",{value:D,onChange:le=>X(le.target.value),className:"form-select",required:!0,disabled:!q,children:[u.jsx("option",{value:"",children:"Select Your Branch"}),P.map(le=>u.jsx("option",{value:le.id,children:le.branch_name},le.id))]}),!q&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),q&&P.length===0&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No branches available for selected department"})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campus"}),u.jsxs("select",{value:$e,onChange:le=>Lt(le.target.value),className:"form-select",required:!0,children:[u.jsx("option",{value:"",children:"Select Your Campus"}),et.map(le=>u.jsx("option",{value:le.id,children:le.campus},le.id))]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),u.jsxs("span",{className:`text-xs ${W>500?"text-red-500":"text-gray-500"}`,children:[W,"/1000 characters"]})]}),u.jsx("textarea",{value:f,onChange:Ba,className:"form-input min-h-[120px]",placeholder:"Provide detailed information about your request",rows:"4",maxLength:1e3,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supporting Files (Optional)"}),u.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition-colors",children:[u.jsx("input",{type:"file",onChange:le=>S(le.target.files[0]),className:"w-full",accept:".pdf,.jpg,.jpeg,.png,.gif,.xls,.xlsx"}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Accepted formats: PDF, Images (JPG, PNG, GIF), Excel (XLS, XLSX)"})]}),Ie&&u.jsxs("div",{className:"mt-2 p-3 border rounded-lg bg-gray-50",children:[u.jsx("div",{className:"font-medium text-sm text-gray-700 mb-1",children:"Preview"}),u.jsx("img",{src:Ie,alt:"File preview",className:"max-h-48 rounded border"})]}),w&&!Ie&&u.jsxs("div",{className:"mt-2 flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[u.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-700 text-sm font-medium",children:w.name}),u.jsxs("span",{className:"text-xs text-gray-500 block",children:[(w.size/1024).toFixed(1)," KB"]})]})]})]}),u.jsx("div",{className:"pt-3",children:u.jsx("button",{type:"submit",disabled:K,className:`primary-button w-full flex items-center justify-center gap-2 ${K?"opacity-70 cursor-not-allowed":""}`,children:K?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Request..."]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Submit Request"]})})})]})]})}function Im({status:o}){const s={pending:"status-pending",resolved:"status-resolved",escalated:"status-escalated",terminated:"status-terminated"},l={pending:u.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),resolved:u.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),escalated:u.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),terminated:u.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};return u.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s[o]}`,children:[l[o],o.charAt(0).toUpperCase()+o.slice(1)]})}function qx({refreshKey:o=0}){var W,ae,ge;const{session:s,supabase:l}=j.useContext(za),[r,c]=j.useState([]),[f,h]=j.useState(!0),[v,g]=j.useState(null),[m,y]=j.useState(null),[w,S]=j.useState([]),[A,T]=j.useState(!1),[q,U]=j.useState(null),[V,G]=j.useState(!1),[D,X]=j.useState(""),[K,J]=j.useState(null),[oe,me]=j.useState(!1),[Te,Qe]=j.useState(null),Pe=async()=>{try{g(null);const{data:x,error:M}=await l.from("examination_requests").select(`
            *,
            departments:department_id (name, code),
            branches:branch_id (branch_name),
            campuses:campus_id (campus)
          `).eq("student_id",s.user.id).order("created_at",{ascending:!1});if(M)throw M;c(x||[])}catch(x){console.error("Error fetching requests:",x),g("Failed to load your requests. Please try again.")}finally{h(!1)}};j.useEffect(()=>{if(!(s!=null&&s.user))return;(async()=>{try{h(!0);const{data:Y,error:Q}=await l.from("profiles").select("*").eq("id",s.user.id).single();if(Q)throw Q;U(Y),Y.role==="student"?Pe():h(!1)}catch(Y){console.error("Error fetching user profile:",Y),g("Failed to load your profile information"),h(!1)}})();const M=l.channel("examination_requests_changes").on("postgres_changes",{event:"*",schema:"public",table:"examination_requests",filter:`student_id=eq.${s.user.id}`},Y=>{Pe()});return M.subscribe(),()=>{try{l.removeChannel(M)}catch{}}},[s,l,o]);const Se=async x=>{if(x)try{T(!0);const{data:M,error:Y}=await l.from("request_responses").select(`
          *,
          responder:responder_id (full_name, role)
        `).eq("request_id",x).order("created_at",{ascending:!0});if(Y)throw Y;S(M||[])}catch(M){console.error("Error fetching responses:",M)}finally{T(!1)}},Ie=x=>{y(x),Se(x.id)},nt=()=>{y(null),S([])},ze=x=>{y(x),G(!0),X(""),J(null)},L=async()=>{if(m){if(!D.trim()&&!K){alert("Please provide additional information or attach a supporting file.");return}try{me(!0);let x=null;if(K){const ee=K.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(ee))throw new Error("Unsupported file type.");const I=Date.now(),te=`resubmit_${m.id}_${I}.${ee}`,{error:ve}=await l.storage.from("request-attachments").upload(te,K,{cacheControl:"3600",upsert:!1,contentType:K.type});if(ve)throw ve;const{data:et}=l.storage.from("request-attachments").getPublicUrl(te);x=et.publicUrl}const M=`

[Resubmission on ${new Date().toLocaleString()}]
${D}`,Y=x?[...m.attachments||[],x]:m.attachments||[],{error:Q}=await l.from("examination_requests").update({status:"pending",description:(m.description||"")+M,attachments:Y}).eq("id",m.id);if(Q)throw Q;await l.from("request_responses").insert({request_id:m.id,responder_id:s.user.id,response_text:D,response_type:"resubmission",attachments:x?[x]:[]}),c(ee=>ee.map(P=>P.id===m.id?{...P,status:"pending",description:(P.description||"")+M,attachments:Y}:P)),G(!1),y(null)}catch(x){console.error("Resubmit failed:",x),alert("Failed to resubmit: "+(x.message||"Unknown error"))}finally{me(!1)}}};return q&&(q.role==="admin"||q.role==="super_admin")?null:f?u.jsxs("div",{className:"glass-card p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Request History"}),u.jsxs("div",{className:"animate-pulse space-y-4",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),u.jsx("div",{className:"h-20 bg-gray-200 rounded"}),u.jsx("div",{className:"h-20 bg-gray-200 rounded"}),u.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]}):v?u.jsxs("div",{className:"glass-card p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Request History"}),u.jsx("div",{className:"bg-red-50 p-4 rounded-lg text-red-700 mb-6 border border-red-200",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),u.jsx("p",{className:"font-medium",children:v})]})})]}):u.jsxs("div",{className:"glass-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Request History"]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," ",r.length===1?"request":"requests"]}),(q==null?void 0:q.role)==="student"&&r.length>0&&u.jsx("span",{className:"text-xs text-gray-400",title:"Bulk delete disabled",children:"Delete All My Requests (disabled)"})]})]}),r.length===0?u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:[u.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),u.jsx("p",{className:"text-gray-500 mb-3",children:"You haven't submitted any requests yet."}),u.jsx("p",{className:"text-sm text-gray-400",children:"Your examination requests will appear here once submitted."})]}):u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden border border-gray-200",children:u.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request ID"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campus"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(x=>{var M,Y,Q;return u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 font-mono text-xs text-gray-700",children:x.id}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.title}),u.jsx("div",{className:"text-xs text-gray-500 capitalize",children:x.request_type.replace("_"," ")})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-sm text-gray-900",children:((M=x.departments)==null?void 0:M.name)||"Unknown"})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-sm text-gray-900",children:((Y=x.branches)==null?void 0:Y.branch_name)||"-"})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-sm text-gray-900",children:((Q=x.campuses)==null?void 0:Q.campus)||"-"})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-sm text-gray-500",children:new Date(x.created_at).toLocaleDateString()})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Im,{status:x.status}),x.viewed&&u.jsxs("span",{title:"Viewed by faculty/admin",className:"inline-flex items-center text-green-700 bg-green-100 border border-green-200 px-2 py-0.5 rounded-full text-[10px]",children:[u.jsxs("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Viewed"]})]})}),u.jsx("td",{className:"px-6 py-4 text-sm",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>Ie(x),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-blue-200 text-blue-700 bg-blue-50 hover:bg-blue-100",children:[u.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]}),x.status==="terminated"&&u.jsx("button",{onClick:()=>ze(x),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-purple-200 text-purple-700 bg-purple-50 hover:bg-purple-100",children:"Resubmit"})]})})]},x.id)})})]})})}),m&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-container",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:m.title}),u.jsx("button",{onClick:nt,className:"text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Request ID"}),u.jsx("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded mt-1",children:m.id})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Im,{status:m.status}),m.viewed&&u.jsxs("span",{className:"inline-flex items-center text-green-700 bg-green-100 border border-green-200 px-2 py-0.5 rounded-full text-[10px]",children:[u.jsxs("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Viewed by Faculty"]})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),u.jsx("p",{className:"text-sm",children:((W=m.departments)==null?void 0:W.name)||"Unknown"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Branch"}),u.jsx("p",{className:"text-sm",children:((ae=m.branches)==null?void 0:ae.branch_name)||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Campus"}),u.jsx("p",{className:"text-sm",children:((ge=m.campuses)==null?void 0:ge.campus)||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Submitted On"}),u.jsx("p",{className:"text-sm",children:new Date(m.created_at).toLocaleString()})]})]})}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Description"}),u.jsx("div",{className:"bg-white p-4 rounded border border-gray-200",children:u.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:m.description})}),m.attachments&&m.attachments.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Attachments"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:m.attachments.map((x,M)=>u.jsxs("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors border border-blue-200",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",M+1]},M))})]})]}),w.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Responses"}),u.jsx("div",{className:"space-y-4",children:w.map(x=>{var M;return u.jsxs("div",{className:"bg-white p-4 rounded border border-gray-200",children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium",children:((M=x.responder)==null?void 0:M.full_name)||"Administrator"}),u.jsx("span",{className:"text-xs text-gray-500",children:new Date(x.created_at).toLocaleString()})]}),u.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:x.response_text}),x.attachments&&x.attachments.length>0&&u.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:x.attachments.map((Y,Q)=>u.jsxs("a",{href:Y,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",Q+1]},Q))})})]},x.id)})})]}),u.jsx("div",{className:"text-right",children:u.jsx("button",{onClick:nt,className:"secondary-button",children:"Close"})})]})}),V&&m&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-container",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Resubmit Request"}),u.jsx("button",{onClick:()=>G(!1),className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"You're resubmitting the same request. The Request ID will remain unchanged."}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Information"}),u.jsx("textarea",{value:D,onChange:x=>X(x.target.value),className:"form-input min-h-[120px]",placeholder:"Provide additional details or clarifications"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (optional)"}),u.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.gif,.xls,.xlsx",onChange:x=>J(x.target.files[0])}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted: PDF, Images, Excel"})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{className:"secondary-button",onClick:()=>G(!1),children:"Cancel"}),u.jsx("button",{className:`primary-button ${oe?"opacity-70 cursor-not-allowed":""}`,onClick:L,disabled:oe,children:oe?"Submitting...":"Resubmit"})]})]})})]})}function e0({status:o}){const s={pending:"status-pending",resolved:"status-resolved",escalated:"status-escalated",terminated:"status-terminated"};return u.jsx("span",{className:`status-badge ${s[o]||"bg-gray-100"}`,children:o.charAt(0).toUpperCase()+o.slice(1)})}function U0(){var aa,kt,Ne,jt,it,vn,Yn,tr,yn;const{session:o,supabase:s,signOut:l}=j.useContext(za),r=Hn(),[c,f]=j.useState(!0),[h,v]=j.useState(null),[g,m]=j.useState(null),[y,w]=j.useState([]),[S,A]=j.useState([]),[T,q]=j.useState(null),[U,V]=j.useState(""),[G,D]=j.useState(null),[X,K]=j.useState(!1),[J,oe]=j.useState("pending"),[me,Te]=j.useState(null),[Qe,Pe]=j.useState(!1),[Se,Ie]=j.useState(""),[nt,ze]=j.useState([]),[L,W]=j.useState(!1),[ae,ge]=j.useState(""),[x,M]=j.useState("info"),[Y,Q]=j.useState(!1),[ee,P]=j.useState({totalRequests:0,byStatus:{pending:0,escalated:0,resolved:0,terminated:0},totalStudents:0,totalAdmins:0,totalSuperAdmins:0,departments:0,branches:0}),[I,te]=j.useState(""),[ve,et]=j.useState(""),[Ce,$e]=j.useState({total:0,byStatus:{pending:0,escalated:0,resolved:0,terminated:0}}),[Lt,Ba]=j.useState({departments:0,branches:0,byStatus:{pending:0,escalated:0,resolved:0,terminated:0}}),pn=async()=>{await l(),r("/login",{replace:!0})},le=($,Z="info")=>{ge($),M(Z),setTimeout(()=>ge(""),3e3)};j.useEffect(()=>{if(!(o!=null&&o.user))return;(async()=>{try{console.log("Fetching admin profile...");const{data:Z,error:F}=await s.from("profiles").select("*, departments:department_id(*)").eq("id",o.user.id).single();if(F)throw console.error("Error fetching admin profile:",F),F;if(console.log("Admin profile loaded:",Z),m(Z),Z.role!=="admin"&&Z.role!=="super_admin"){v("Access denied. You do not have administrator privileges."),f(!1);return}const ce=Z.role==="super_admin"?"home":"pending";oe(ce),await fe(Z,ce)}catch(Z){console.error("Error in fetchAdminProfile:",Z),v("Failed to load your profile information: "+(Z.message||"Unknown error")),f(!1)}})()},[o,s]),j.useEffect(()=>{if(G)if(G.type.split("/")[0]==="image"){const Z=URL.createObjectURL(G);return Te(Z),()=>URL.revokeObjectURL(Z)}else Te(null)},[G]),j.useEffect(()=>{if(Se.trim()===""){A(y);return}const $=Se.toLowerCase().trim(),Z=y.filter(F=>F.id.toLowerCase().includes($));A(Z)},[Se,y]);const fe=async($,Z)=>{if(!$){console.error("Cannot fetch requests: adminProfile is null");return}try{Pe(!0),console.log("Fetching requests for role:",$.role,"tab:",Z);let F=s.from("examination_requests").select(`
          *,
          departments:department_id(*),
          branches:branch_id(*),
          campuses:campus_id(campus),
          student:student_id(id, full_name, email, student_id, phone),
          responses:request_responses(*)
        `).order("created_at",{ascending:!1});if($.role==="admin"&&(console.log("Filtering by department:",$.department_id),F=F.eq("department_id",$.department_id)),$.role==="super_admin")if(Z==="home"){const[ot,Ge,Ye,St,bt,Tt,ht,zt,Vn,Qs]=await Promise.all([s.from("examination_requests").select("id",{count:"exact",head:!0}),s.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","pending"),s.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","escalated"),s.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","resolved"),s.from("examination_requests").select("id",{count:"exact",head:!0}).eq("status","terminated"),s.from("profiles").select("id",{count:"exact",head:!0}).eq("role","student"),s.from("profiles").select("id",{count:"exact",head:!0}).eq("role","admin"),s.from("profiles").select("id",{count:"exact",head:!0}).eq("role","super_admin"),s.from("departments").select("id",{count:"exact",head:!0}),s.from("branches").select("id",{count:"exact",head:!0})]),_e={totalRequests:ot.count||0,byStatus:{pending:Ge.count||0,escalated:Ye.count||0,resolved:St.count||0,terminated:bt.count||0},totalStudents:Tt.count||0,totalAdmins:ht.count||0,totalSuperAdmins:zt.count||0,departments:Vn.count||0,branches:Qs.count||0};P(_e),$e({total:ot.count||0,byStatus:{pending:Ge.count||0,escalated:Ye.count||0,resolved:St.count||0,terminated:bt.count||0}}),Ba({departments:_e.departments,branches:_e.branches,byStatus:{..._e.byStatus}}),w([]),A([]),Pe(!1),f(!1);return}else Z==="all"?console.log("Super admin viewing all requests (no status filter)"):Z==="resolved"?(console.log("Super admin viewing all resolved requests"),F=F.eq("status","resolved")):Z==="escalated"?(console.log("Super admin viewing all escalated requests"),F=F.eq("status","escalated")):Z==="terminated"?(console.log("Super admin viewing all terminated requests"),F=F.eq("status","terminated")):Z==="pending"&&(console.log("Super admin viewing all pending requests"),F=F.eq("status","pending"));else Z==="pending"?(console.log("Filtering for pending requests only"),F=F.eq("status","pending")):Z==="resolved"?(console.log("Filtering for resolved requests only"),F=F.eq("status","resolved")):Z==="escalated"?(console.log("Filtering for escalated requests only"),F=F.eq("status","escalated")):Z==="terminated"&&(console.log("Filtering for terminated requests only"),F=F.eq("status","terminated"));console.log("Final query parameters:",{role:$.role,tab:Z,department:$.role==="admin"?$.department_id:"all"});const{data:ce,error:je}=await F;if(je)throw console.error("Error in request query:",je),je;console.log(`Requests loaded for ${Z} tab:`,(ce==null?void 0:ce.length)||0);let Ze=ce;if(Ze&&Ze.length>0){const ot=Ze.filter(Ge=>!Ge.student||!Ge.student.email);if(ot.length>0){console.warn(`${ot.length} requests have missing student data`);for(const Ge of ot){console.log(`Fetching missing student data for request ${Ge.id}`);const{data:Ye,error:St}=await s.from("profiles").select("id, full_name, email, student_id, phone").eq("id",Ge.student_id).single();St?console.error(`Error fetching student data for request ${Ge.id}:`,St):Ye&&(Ge.student=Ye,console.log(`Updated student data for request ${Ge.id}:`,Ye.email))}}}w(Ze||[]),A(Ze||[])}catch(F){console.error("Error fetching requests:",F),v("Failed to load requests: "+(F.message||"Unknown error"))}finally{Pe(!1),f(!1)}},De=async($,Z)=>{try{let F=null,ce=null;$&&(F=new Date(`${$}T00:00:00`).toISOString()),Z&&(ce=new Date(`${Z}T23:59:59.999`).toISOString());const je=_e=>{let Ve=s.from("examination_requests").select("id",{count:"exact",head:!0});return _e&&(Ve=Ve.eq("status",_e)),F&&(Ve=Ve.gte("created_at",F)),ce&&(Ve=Ve.lte("created_at",ce)),Ve},Ze=(()=>{let _e=s.from("examination_requests").select("department_id");return F&&(_e=_e.gte("created_at",F)),ce&&(_e=_e.lte("created_at",ce)),_e})(),ot=(()=>{let _e=s.from("examination_requests").select("branch_id");return F&&(_e=_e.gte("created_at",F)),ce&&(_e=_e.lte("created_at",ce)),_e})(),[Ge,Ye,St,bt,Tt,ht,zt]=await Promise.all([je(),je("pending"),je("escalated"),je("resolved"),je("terminated"),Ze,ot]);$e({total:Ge.count||0,byStatus:{pending:Ye.count||0,escalated:St.count||0,resolved:bt.count||0,terminated:Tt.count||0}});const Vn=Array.isArray(ht==null?void 0:ht.data)?new Set(ht.data.map(_e=>_e.department_id).filter(_e=>_e!=null)).size:0,Qs=Array.isArray(zt==null?void 0:zt.data)?new Set(zt.data.map(_e=>_e.branch_id).filter(_e=>_e!=null)).size:0;Ba({departments:Vn,branches:Qs,byStatus:{pending:Ye.count||0,escalated:St.count||0,resolved:bt.count||0,terminated:Tt.count||0}})}catch(F){console.error("Failed to update pie stats:",F),le("Failed to update chart. Try a different date range.","error")}},Ot=async $=>{q($),V(""),D(null),Te(null);try{await s.from("examination_requests").update({viewed:!0}).eq("id",$.id)}catch(Z){console.warn("Could not mark request as viewed (boolean):",(Z==null?void 0:Z.message)||Z)}try{W(!0);const{data:Z,error:F}=await s.from("request_responses").select(`
          *,
          responder:responder_id (full_name, role)
        `).eq("request_id",$.id).neq("response_type","viewed").order("created_at",{ascending:!0});F?console.error("Error fetching responses:",F):ze(Z||[])}catch(Z){console.error("Unexpected error fetching responses:",Z)}finally{W(!1)}},va=async()=>{if(!T||!U.trim()){le("please fill the respond to request","warning");return}try{K(!0);let $=null;if(G){const Ze=G.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(Ze))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const Ge=T.id,Ye=Date.now(),St=`response_${Ge}_${Ye}.${Ze}`;console.log("Uploading response file:",St);const{data:bt,error:Tt}=await s.storage.from("request-responses").upload(St,G,{cacheControl:"3600",upsert:!1,contentType:G.type});if(Tt)throw console.error("File upload error:",Tt),Tt;const{data:{publicUrl:ht}}=s.storage.from("request-responses").getPublicUrl(St);$=ht,console.log("File uploaded successfully, URL:",$);try{(await fetch($,{method:"HEAD"})).ok||console.warn("Attachment URL may not be publicly accessible:",$)}catch(zt){console.warn("Could not verify attachment URL accessibility:",zt)}}console.log("Creating response record...");let Z="";T.status==="escalated"&&(g==null?void 0:g.role)==="super_admin"&&(Z="[Resolved by Super Admin]");const{data:F,error:ce}=await s.from("request_responses").insert({request_id:T.id,responder_id:o.user.id,response_text:Z?`${Z} ${U}`:U,response_type:"resolution",attachments:$?[$]:[]}).select("*");if(ce)throw console.error("Response record error:",ce),ce;console.log("Response record created:",F),console.log("Updating request status...");const{error:je}=await s.from("examination_requests").update({status:"resolved",resolved_at:new Date().toISOString(),resolution_notes:U,assigned_admin_id:o.user.id}).eq("id",T.id);if(je)throw console.error("Request update error:",je),je;q(null),ze([]),g&&fe(g,"pending")}catch($){console.error("Error resolving request:",$),alert("Failed to resolve request: "+($.message||"Unknown error"))}finally{K(!1)}},Ha=async()=>{if(!T||!U.trim()){le("please fill the respond to request","warning");return}try{K(!0);let $=null;if(G){const je=G.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(je))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const ot=T.id,Ge=Date.now(),Ye=`escalation_${ot}_${Ge}.${je}`;console.log("Uploading escalation file:",Ye);const{data:St,error:bt}=await s.storage.from("request-responses").upload(Ye,G,{cacheControl:"3600",upsert:!1,contentType:G.type});if(bt)throw console.error("File upload error:",bt),bt;const{data:{publicUrl:Tt}}=s.storage.from("request-responses").getPublicUrl(Ye);$=Tt,console.log("File uploaded successfully, URL:",$);try{(await fetch($,{method:"HEAD"})).ok||console.warn("Attachment URL may not be publicly accessible:",$)}catch(ht){console.warn("Could not verify attachment URL accessibility:",ht)}}console.log("Creating escalation response record...");const{data:Z,error:F}=await s.from("request_responses").insert({request_id:T.id,responder_id:o.user.id,response_text:U,response_type:"escalation",attachments:$?[$]:[]}).select("*");if(F)throw console.error("Response record error:",F),F;console.log("Escalation response record created:",Z),console.log("Updating request status to escalated...");const{error:ce}=await s.from("examination_requests").update({status:"escalated",assigned_admin_id:o.user.id}).eq("id",T.id);if(ce)throw console.error("Request update error:",ce),ce;q(null),ze([]),g&&fe(g,"pending")}catch($){console.error("Error escalating request:",$),alert("Failed to escalate request: "+($.message||"Unknown error"))}finally{K(!1)}},ta=async()=>{if(!T||!U.trim()){le("please fill the respond to request","warning");return}try{K(!0);let $=null;if(G){const je=G.name.split(".").pop().toLowerCase();if(!["pdf","jpg","jpeg","png","gif","xls","xlsx"].includes(je))throw new Error("File type not supported. Please upload PDF, Image, or Excel files only.");const ot=T.id,Ge=Date.now(),Ye=`termination_${ot}_${Ge}.${je}`;console.log("Uploading termination file:",Ye);const{data:St,error:bt}=await s.storage.from("request-responses").upload(Ye,G,{cacheControl:"3600",upsert:!1,contentType:G.type});if(bt)throw console.error("File upload error:",bt),bt;const{data:{publicUrl:Tt}}=s.storage.from("request-responses").getPublicUrl(Ye);$=Tt,console.log("File uploaded successfully, URL:",$);try{(await fetch($,{method:"HEAD"})).ok||console.warn("Attachment URL may not be publicly accessible:",$)}catch(ht){console.warn("Could not verify attachment URL accessibility:",ht)}}console.log("Creating termination response record...");const{data:Z,error:F}=await s.from("request_responses").insert({request_id:T.id,responder_id:o.user.id,response_text:U,response_type:"termination",attachments:$?[$]:[]}).select("*");if(F)throw console.error("Response record error:",F),F;console.log("Termination response record created:",Z),console.log("Updating request status to terminated...");const{error:ce}=await s.from("examination_requests").update({status:"terminated",resolved_at:new Date().toISOString(),resolution_notes:U,assigned_admin_id:o.user.id}).eq("id",T.id);if(ce)throw console.error("Request update error:",ce),ce;q(null),ze([]),g&&fe(g,"pending")}catch($){console.error("Error terminating request:",$),alert("Failed to terminate request: "+($.message||"Unknown error"))}finally{K(!1)}},rt=$=>{console.log("Changing tab from",J,"to",$),oe($),Ie(""),g&&requestAnimationFrame(()=>fe(g,$))},$a=$=>{Ie($.target.value)},Gn=async($,Z)=>{const{data:F,error:ce}=await s.from("examination_requests").update({priority:$}).eq("id",Z).select();if(console.log(ce?"Can't Change Priority.":"Successfully changed priority."),F&&F.length>0){const{data:je,error:Ze}=await s.from("examination_requests").select(`
          *,
          departments:department_id(*),
          student:student_id(id, full_name, email, student_id, phone),
          responses:request_responses(*)
        `).eq("id",Z).single();Ot(!Ze&&je?je:F[0])}};return c&&!g?u.jsx("div",{className:"page-container flex justify-center items-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-4 border-blue-600 border-opacity-50 border-t-blue-600"}),u.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading admin dashboard..."})]})}):h?u.jsx("div",{className:"page-container flex justify-center items-center",children:u.jsxs("div",{className:"glass-card p-8 w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Access Error"}),u.jsx("p",{className:"mt-2 text-red-600",children:h})]}),u.jsx("button",{onClick:()=>window.location.href="/",className:"secondary-button w-full",children:"Back to Home"})]})}):u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"dashboard-container fade-in",children:[ae&&u.jsx("div",{className:`mb-4 p-3 rounded-md border ${x==="warning"?"bg-yellow-100 border-yellow-300 text-yellow-800":x==="error"?"bg-red-100 border-red-300 text-red-800":x==="success"?"bg-green-100 border-green-300 text-green-800":"bg-blue-100 border-blue-300 text-blue-800"}`,children:ae}),u.jsxs("div",{className:"card-header",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:(g==null?void 0:g.role)==="super_admin"?"SuperAdmin Dashboard  Controller of Examinations":"Admin Dashboard  Controller of Examinations"}),u.jsx("div",{className:"text-gray-600",children:(g==null?void 0:g.role)==="super_admin"?"Manage all student requests across departments":`Managing ${((aa=g==null?void 0:g.departments)==null?void 0:aa.name)||"Department"} requests`})]}),u.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col md:flex-row gap-2",children:[(g==null?void 0:g.role)==="super_admin"&&u.jsxs("button",{onClick:async()=>{if(!(Y||!window.confirm("Delete all resolved requests"+((g==null?void 0:g.role)==="admin"?" in your department":" (all departments)")+"? This cannot be undone.")))try{Q(!0);let Z=s.from("examination_requests").select("id").eq("status","resolved");(g==null?void 0:g.role)==="admin"&&(Z=Z.eq("department_id",g.department_id));const{data:F,error:ce}=await Z;if(ce)throw ce;const je=(F||[]).map(Ge=>Ge.id);if(je.length===0){le("No resolved requests to delete.","info");return}const{error:Ze}=await s.from("request_responses").delete().in("request_id",je);if(Ze)throw Ze;const{error:ot}=await s.from("examination_requests").delete().in("id",je);if(ot)throw ot;le(`Deleted ${je.length} resolved request(s).`,"success"),g&&await fe(g,J)}catch(Z){console.error("Delete resolved failed:",Z),le("Failed to delete resolved requests. "+(Z.message||""),"error")}finally{Q(!1)}},className:`danger-button flex items-center gap-2 ${Y?"opacity-70 cursor-not-allowed":""}`,disabled:Y,title:"Delete all resolved requests",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7V4a1 1 0 011-1h4a1 1 0 011 1v3m-9 0h10"})}),Y?"Deleting":"Delete All Resolved"]}),u.jsxs("button",{onClick:pn,className:"danger-button flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]}),u.jsx("div",{className:"flex overflow-x-auto bg-white rounded-lg shadow mb-6",children:(g==null?void 0:g.role)==="super_admin"?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>rt("home"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${J==="home"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001 1h6a1 1 0 001-1V10m-9 11V9m0 0l-2 2m2-2l2 2"})}),"Home"]})}),u.jsx("button",{onClick:()=>rt("all"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${J==="all"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7h18M3 12h18M3 17h18"})}),"All Requests",J==="all"&&S.length>0&&u.jsx("span",{className:"ml-2 bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:S.length})]})}),u.jsx("button",{onClick:()=>rt("escalated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${J==="escalated"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Escalated Pending",J==="escalated"&&S.length>0&&u.jsx("span",{className:"ml-2 bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:S.length})]})}),u.jsx("button",{onClick:()=>rt("resolved"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${J==="resolved"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Resolved"]})}),u.jsx("button",{onClick:()=>rt("terminated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${J==="terminated"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Terminated"]})}),u.jsx("button",{onClick:()=>rt("pending"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${J==="pending"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pending"]})})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>rt("pending"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${J==="pending"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pending",J==="pending"&&S.length>0&&u.jsx("span",{className:"ml-2 bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:S.length})]})}),u.jsx("button",{onClick:()=>rt("resolved"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${J==="resolved"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(g==null?void 0:g.role)==="super_admin"?"Resolved by Super Admin":"Resolved"]})}),(g==null?void 0:g.role)!=="super_admin"&&u.jsx("button",{onClick:()=>rt("escalated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${J==="escalated"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Escalated"]})}),(g==null?void 0:g.role)!=="super_admin"&&u.jsx("button",{onClick:()=>rt("terminated"),className:`px-4 py-3 text-sm font-medium flex-shrink-0 border-b-2 ${J==="terminated"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Terminated"]})})]})}),(g==null?void 0:g.role)==="super_admin"&&J==="home"?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Total Requests"}),u.jsx("div",{className:"text-2xl font-bold",children:ee.totalRequests})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Students"}),u.jsx("div",{className:"text-2xl font-bold",children:ee.totalStudents})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Admins"}),u.jsx("div",{className:"text-2xl font-bold",children:ee.totalAdmins})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Super Admins"}),u.jsx("div",{className:"text-2xl font-bold",children:ee.totalSuperAdmins})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"glass-card p-6 flex flex-col items-center justify-center h-full",children:[u.jsxs("div",{className:"w-full flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Requests by Status"}),u.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",Ce.total]})]}),u.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-3 gap-2 mb-4",children:[u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),u.jsx("input",{type:"date",value:I,onChange:$=>{te($.target.value),De($.target.value,ve)},className:"form-input py-2"})]}),u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),u.jsx("input",{type:"date",value:ve,onChange:$=>{et($.target.value),De(I,$.target.value)},className:"form-input py-2"})]}),u.jsx("div",{className:"md:col-span-1 flex items-end",children:u.jsx("button",{onClick:()=>{te(""),et(""),De("","")},className:"secondary-button w-full",children:"Reset"})})]}),(()=>{const $=Math.max(1,Ce.total),Z=Ce.byStatus,F={pending:Z.pending/$*100,escalated:Z.escalated/$*100,resolved:Z.resolved/$*100,terminated:Z.terminated/$*100},ce=`conic-gradient(
                    #3b82f6 0% ${F.pending}%,
                    #f59e0b ${F.pending}% ${F.pending+F.escalated}%,
                    #10b981 ${F.pending+F.escalated}% ${F.pending+F.escalated+F.resolved}%,
                    #ef4444 ${F.pending+F.escalated+F.resolved}% 100%
                  )`;return u.jsxs("div",{className:"w-full flex flex-col items-center",children:[u.jsx("div",{className:"w-48 h-48 rounded-full",style:{background:ce}}),u.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#3b82f6"}}),"Pending (",Z.pending,")"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#f59e0b"}}),"Escalated (",Z.escalated,")"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#10b981"}}),"Resolved (",Z.resolved,")"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{background:"#ef4444"}}),"Terminated (",Z.terminated,")"]})]})]})})()]}),u.jsxs("div",{className:"glass-card p-6 lg:col-span-2 h-full flex flex-col",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Organization Overview"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:grid-rows-2 auto-rows-fr gap-4 h-full",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Departments (in range)"}),u.jsx("div",{className:"text-2xl font-bold",children:Lt.departments})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Branches (in range)"}),u.jsx("div",{className:"text-2xl font-bold",children:Lt.branches})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Active Pending"}),u.jsx("div",{className:"text-2xl font-bold",children:Lt.byStatus.pending})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Escalated Pending"}),u.jsx("div",{className:"text-2xl font-bold",children:Lt.byStatus.escalated})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Resolved"}),u.jsx("div",{className:"text-2xl font-bold",children:Lt.byStatus.resolved})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 h-full flex flex-col justify-center",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Terminated"}),u.jsx("div",{className:"text-2xl font-bold",children:Lt.byStatus.terminated})]})]})]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:Se,onChange:$a,placeholder:"Search by Request ID...",className:"form-input pl-10 w-full md:w-64"}),u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})}),Qe?u.jsxs("div",{className:"text-center py-10",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-600 border-opacity-50 border-t-blue-600"}),u.jsx("p",{className:"mt-4 text-gray-500",children:"Loading requests..."})]}):S.length===0?u.jsxs("div",{className:"glass-card p-8 text-center",children:[u.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Se?u.jsxs("p",{className:"text-gray-500",children:['No requests found matching ID: "',Se,'"']}):u.jsxs("p",{className:"text-gray-500",children:["No ",J," requests found."]})]}):u.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"data-table-header",children:"Actions"}),u.jsx("th",{className:"data-table-header",children:"Request ID"}),u.jsx("th",{className:"data-table-header",children:"Title"}),u.jsx("th",{className:"data-table-header",children:"Student"}),u.jsx("th",{className:"data-table-header",children:"Department"}),u.jsx("th",{className:"data-table-header",children:"Branch"}),u.jsx("th",{className:"data-table-header",children:"Campus"}),u.jsx("th",{className:"data-table-header",children:"Date"}),u.jsx("th",{className:"data-table-header",children:"Status"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map($=>{var Z,F,ce,je,Ze;return u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[u.jsx("td",{className:"data-table-cell",children:u.jsx("button",{onClick:()=>Ot($),className:"primary-button text-sm py-1 px-3",children:"View & Respond"})}),u.jsx("td",{className:"data-table-cell",children:u.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:$.id})}),u.jsxs("td",{className:"data-table-cell",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.title}),u.jsx("div",{className:"text-xs text-gray-500",children:$.request_type.replace("_"," ")})]}),u.jsxs("td",{className:"data-table-cell",children:[u.jsx("div",{className:"text-sm",children:(Z=$.student)==null?void 0:Z.full_name}),u.jsx("div",{className:"text-xs text-gray-500",children:(F=$.student)==null?void 0:F.student_id})]}),u.jsx("td",{className:"data-table-cell",children:u.jsx("div",{className:"text-sm",children:((ce=$.departments)==null?void 0:ce.name)||"Unknown"})}),u.jsx("td",{className:"data-table-cell",children:u.jsx("div",{className:"text-sm",children:((je=$.branches)==null?void 0:je.branch_name)||"-"})}),u.jsx("td",{className:"data-table-cell",children:u.jsx("div",{className:"text-sm",children:((Ze=$.campuses)==null?void 0:Ze.campus)||"-"})}),u.jsx("td",{className:"data-table-cell",children:u.jsx("div",{className:"text-sm text-gray-500",children:new Date($.created_at).toLocaleDateString()})}),u.jsx("td",{className:"data-table-cell",children:u.jsx(e0,{status:$.status})})]},$.id)})})]})})]})]}),T&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-container",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Request Details"}),u.jsx("button",{onClick:()=>q(null),className:"text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),ae&&u.jsx("div",{className:`mb-4 p-3 rounded-md border ${x==="warning"?"bg-yellow-100 border-yellow-300 text-yellow-800":x==="error"?"bg-red-100 border-red-300 text-red-800":x==="success"?"bg-green-100 border-green-300 text-green-800":"bg-blue-100 border-blue-300 text-blue-800"}`,children:ae}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Request Information"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Request ID"}),u.jsx("span",{className:"block font-mono text-sm bg-gray-100 px-2 py-1 rounded mt-1",children:T.id})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Status"}),u.jsx(e0,{status:T.status})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Type"}),u.jsx("span",{className:"capitalize text-sm",children:T.request_type.replace("_"," ")})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Campus"}),u.jsx("span",{className:"text-sm",children:((kt=T.campuses)==null?void 0:kt.campus)||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Priority"}),u.jsxs("select",{className:"capitalize text-sm border rounded px-2 py-1 mt-1",value:T.priority,onChange:$=>Gn($.target.value,T.id),children:[u.jsx("option",{value:"low",children:"Low"}),u.jsx("option",{value:"medium",children:"Medium"}),u.jsx("option",{value:"high",children:"High"})]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Submitted On"}),u.jsx("span",{className:"text-sm",children:new Date(T.created_at).toLocaleString()})]})]})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Student Information"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Name"}),u.jsx("span",{className:"block text-sm font-medium",children:(Ne=T.student)==null?void 0:Ne.full_name})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Email"}),u.jsx("span",{className:"block text-sm",children:(jt=T.student)==null?void 0:jt.email})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Student ID"}),u.jsx("span",{className:"block text-sm",children:(it=T.student)==null?void 0:it.student_id})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Phone"}),u.jsx("span",{className:"block text-sm",children:((vn=T.student)==null?void 0:vn.phone)||"Not provided"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Department"}),u.jsx("span",{className:"block text-sm",children:((Yn=T.departments)==null?void 0:Yn.name)||"Unknown"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Branch"}),u.jsx("span",{className:"block text-sm",children:((tr=T.branches)==null?void 0:tr.branch_name)||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-500",children:"Campus"}),u.jsx("span",{className:"block text-sm",children:((yn=T.campuses)==null?void 0:yn.campus)||"-"})]})]})]})]}),u.jsxs("div",{className:"glass-card p-5 mb-6",children:[u.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:T.title}),u.jsx("p",{className:"bg-gray-50 p-4 rounded text-gray-700 mb-4",children:T.description}),T.attachments&&T.attachments.length>0&&u.jsxs("div",{children:[u.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Attachments"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:T.attachments.map(($,Z)=>u.jsxs("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors border border-blue-200",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",Z+1]},Z))})]})]}),L?u.jsxs("div",{className:"glass-card p-5 mb-6 text-center",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-5 w-5 border-2 border-gray-400 border-opacity-50 border-t-gray-600"}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading previous responses..."})]}):nt.length>0?u.jsxs("div",{className:"glass-card p-5 mb-6",children:[u.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"Previous Responses"}),u.jsx("div",{className:"space-y-4",children:nt.map($=>{var Z,F;return u.jsxs("div",{className:"border-l-4 border-blue-500 bg-blue-50 p-4 rounded-r-lg",children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-blue-800",children:((Z=$.responder)==null?void 0:Z.full_name)||"Administrator"}),u.jsx("span",{className:"text-xs ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:((F=$.responder)==null?void 0:F.role)||"admin"})]}),u.jsx("div",{className:"text-xs text-gray-500",children:new Date($.created_at).toLocaleString()})]}),u.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:$.response_text}),$.attachments&&$.attachments.length>0&&u.jsxs("div",{className:"mt-3 pt-2 border-t border-blue-200",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Attachments:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:$.attachments.map((ce,je)=>u.jsxs("a",{href:ce,target:"_blank",rel:"noopener noreferrer",className:"text-xs inline-flex items-center gap-1 bg-white text-blue-700 px-2 py-1 rounded border border-blue-300 hover:bg-blue-50",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Attachment ",je+1]},je))})]})]},$.id)})})]}):null,(T.status==="pending"||T.status==="escalated"&&(g==null?void 0:g.role)==="super_admin")&&u.jsxs("div",{className:"glass-card p-5",children:[u.jsx("h4",{className:"text-lg font-medium mb-4",children:"Respond to Request"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Response"}),u.jsx("textarea",{value:U,onChange:$=>V($.target.value),className:"form-input min-h-[120px]",placeholder:"Type your response to the student here...",rows:"4",required:!0})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),u.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 bg-gray-50",children:[u.jsx("input",{type:"file",onChange:$=>D($.target.files[0]),className:"w-full",accept:".pdf,.jpg,.jpeg,.png,.gif,.xls,.xlsx"}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Accepted formats: PDF, Images (JPG, PNG, GIF), Excel (XLS, XLSX)"})]}),me&&u.jsxs("div",{className:"mt-2 p-3 border rounded-lg bg-gray-50",children:[u.jsx("div",{className:"font-medium text-sm text-gray-700 mb-1",children:"Preview"}),u.jsx("img",{src:me,alt:"File preview",className:"max-h-48 rounded border"})]}),G&&!me&&u.jsxs("div",{className:"mt-2 flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[u.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),u.jsx("span",{className:"text-gray-700 text-sm",children:G.name})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsx("button",{onClick:va,disabled:X,className:"success-button flex items-center gap-2",children:X?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Resolve Request"]})}),(g==null?void 0:g.role)==="admin"&&u.jsx("button",{onClick:Ha,disabled:X,className:"primary-button flex items-center gap-2",children:X?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),"Escalate to SuperAdmin"]})}),u.jsx("button",{onClick:ta,disabled:X,className:"danger-button flex items-center gap-2",children:X?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Terminate Request"]})})]})]})]})})]})}function M0(){const{session:o,supabase:s}=j.useContext(za),[l,r]=j.useState(null),[c,f]=j.useState(null),[h,v]=j.useState(""),[g,m]=j.useState(""),[y,w]=j.useState(""),[S,A]=j.useState(""),[T,q]=j.useState([]),[U,V]=j.useState([]),[G,D]=j.useState([]),[X,K]=j.useState(""),[J,oe]=j.useState(""),[me,Te]=j.useState([]),[Qe,Pe]=j.useState([]),[Se,Ie]=j.useState(""),[nt,ze]=j.useState(""),[L,W]=j.useState(null),[ae,ge]=j.useState(null),[x,M]=j.useState([]),Y=Hn();j.useEffect(()=>{var I;if(!((I=o==null?void 0:o.user)!=null&&I.id))return;(async()=>{try{const{data:te,error:ve}=await s.from("profiles").select("*").eq("id",o.user.id).eq("is_profile_complete",!0).single();te&&!ve&&(m((te==null?void 0:te.student_id)||""),w((te==null?void 0:te.phone)||""),A(te!=null&&te.department_id?te.department_id.toString():""),K(te!=null&&te.degree_id?te.degree_id.toString():""),Ie(te!=null&&te.branch_id?te.branch_id.toString():""),oe(te!=null&&te.campus_id?te.campus_id.toString():""))}catch(te){console.error("Error checking profile:",te)}})()},[o,s]),j.useEffect(()=>{var et;if(!o){Y("/login");return}o.user&&((et=o.user.user_metadata)!=null&&et.full_name&&v(o.user.user_metadata.full_name),o.user.email&&ze(o.user.email));const P=async()=>{try{const{data:Ce,error:$e}=await s.from("campuses").select("*");$e?(console.error("Error fetching campuses:",$e),f("Failed to load campuses. Please try again.")):M(Ce)}catch(Ce){console.error("Unexpected error:",Ce),f("An unexpected error occurred")}},I=async()=>{try{const{data:Ce,error:$e}=await s.from("departments").select("*").eq("is_active",!0);$e?(console.error("Error fetching departments:",$e),f("Failed to load departments. Please try again.")):q(Ce)}catch(Ce){console.error("Unexpected error:",Ce),f("An unexpected error occurred")}},te=async()=>{try{const{data:Ce,error:$e}=await s.from("degrees").select("*, departments:department_id(*)");$e?(console.error("Error fetching degrees:",$e),f("Failed to load degrees. Please try again.")):V(Ce||[])}catch(Ce){console.error("Unexpected error:",Ce),f("An unexpected error occurred")}},ve=async()=>{try{const{data:Ce,error:$e}=await s.from("branches").select("*");$e?console.error("Error fetching branches:",$e):Te(Ce||[])}catch(Ce){console.error("Unexpected error (branches):",Ce)}};I(),te(),ve(),P()},[o,s,Y]),j.useEffect(()=>{if(S){const P=U.filter(te=>te.department_id===parseInt(S));D(P),X&&!P.find(te=>te.id===parseInt(X))&&K("");const I=me.filter(te=>te.department_id===parseInt(S));Pe(I),Se&&!I.find(te=>te.id===parseInt(Se))&&Ie("")}else D([]),K(""),Pe([]),Ie("")},[S,U,me,X,Se]);const Q=P=>{const I=P.target.files[0];if(I){ge(I);const te=URL.createObjectURL(I);return W(te),()=>URL.revokeObjectURL(te)}},ee=async P=>{P.preventDefault(),r(!0),f(null);try{if(!(o!=null&&o.user))throw new Error("No user logged in");let I=null;if(ae){const ve=ae.name.split(".").pop(),et=`${o.user.id}-${Date.now()}.${ve}`,{error:Ce}=await s.storage.from("profile-avatars").upload(et,ae);if(Ce)throw console.error("Avatar upload error:",Ce),new Error("Failed to upload profile picture");const{data:{publicUrl:$e}}=s.storage.from("profile-avatars").getPublicUrl(et);I=$e}const{error:te}=await s.from("profiles").upsert({id:o.user.id,email:nt,full_name:h,role:"student",department_id:S,degree_id:X,branch_id:Se||null,student_id:g,phone:y,avatar_url:I,is_profile_complete:!0,is_active:!0,campus_id:J||null});if(te)throw console.error("Profile setup error:",te),te;r(!0),window.location.href="/home"}catch(I){console.error("Error setting up profile:",I),f(I.message||"Failed to set up profile")}finally{r(!1)}};return u.jsx("div",{className:"page-container flex justify-center items-center",children:u.jsxs("div",{className:"glass-card p-8 w-full max-w-md fade-in",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Complete Your Profile"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Please provide your information to continue"})]}),c&&u.jsx("div",{className:"mb-6 p-3 bg-red-100 text-red-700 rounded-lg border border-red-200",children:c}),u.jsxs("form",{onSubmit:ee,className:"space-y-5",children:[u.jsx("div",{className:"flex justify-center mb-2",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:L?u.jsx("img",{src:L,alt:"Profile",className:"w-full h-full object-cover"}):u.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),u.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-blue-600 rounded-full p-1 cursor-pointer hover:bg-blue-700 transition-colors",children:u.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),u.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:Q,className:"hidden"})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:nt,readOnly:!0,className:"form-input bg-gray-100"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsx("input",{type:"text",value:h,onChange:P=>v(P.target.value),className:"form-input",placeholder:"Your full name",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),u.jsx("input",{type:"text",value:g,onChange:P=>m(P.target.value),className:"form-input",placeholder:"Your Registration number",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),u.jsx("input",{type:"tel",value:y,onChange:P=>w(P.target.value),className:"form-input",placeholder:"Your contact number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),u.jsxs("select",{value:S,onChange:P=>A(P.target.value),className:"form-select",required:!0,children:[u.jsx("option",{value:"",children:"Select Your Department"}),T.map(P=>u.jsx("option",{value:P.id,children:P.name},P.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Degree"}),u.jsxs("select",{value:X,onChange:P=>K(P.target.value),className:"form-select",required:!0,disabled:!S,children:[u.jsx("option",{value:"",children:"Select Your Degree"}),G.map(P=>u.jsxs("option",{value:P.id,children:[P.name," (",P.code,")"]},P.id))]}),!S&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),S&&G.length===0&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No degrees available for selected department"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),u.jsxs("select",{value:Se,onChange:P=>Ie(P.target.value),className:"form-select",required:!0,disabled:!S,children:[u.jsx("option",{value:"",children:"Select Your Branch"}),Qe.map(P=>u.jsx("option",{value:P.id,children:P.branch_name},P.id))]}),!S&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a department first"}),S&&Qe.length===0&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No branches available for selected department"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campus"}),u.jsxs("select",{value:J,onChange:P=>oe(P.target.value),className:"form-select",required:!0,disabled:!1,children:[u.jsx("option",{value:"",children:"Select Your Campus"}),x.map(P=>u.jsx("option",{value:P.id,children:P.campus},P.id))]})]}),u.jsx("button",{type:"submit",disabled:l||!S||!X||!Se||!J,className:`w-full primary-button py-3 ${l?"opacity-70 cursor-not-allowed":""}`,children:l?u.jsxs("span",{className:"flex items-center justify-center",children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Setting Up..."]}):"Complete Profile"})]})]})})}function Lx(){var G;const{session:o,supabase:s,authError:l,signOut:r}=j.useContext(za),[c,f]=j.useState(!0),[h,v]=j.useState(null),[g,m]=j.useState(null),[y,w]=j.useState(0),S=Hn(),A=async()=>{try{console.log("Checking storage buckets...");const{data:D,error:X}=await s.storage.listBuckets();if(X){console.error("Error listing buckets:",X);return}const K=D.map(J=>J.name);if(console.log("Existing buckets:",K),!K.includes("request-attachments")){console.log("Creating request-attachments bucket...");const{error:J}=await s.storage.createBucket("request-attachments",{public:!0,fileSizeLimit:10485760,allowedMimeTypes:["image/png","image/jpeg","image/gif","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]});J?console.error("Error creating request-attachments bucket:",J):console.log("request-attachments bucket created successfully")}if(!K.includes("request-responses")){console.log("Creating request-responses bucket...");const{error:J}=await s.storage.createBucket("request-responses",{public:!0,fileSizeLimit:10485760,allowedMimeTypes:["image/png","image/jpeg","image/gif","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]});J?console.error("Error creating request-responses bucket:",J):console.log("request-responses bucket created successfully")}}catch(D){console.error("Error ensuring storage buckets:",D)}};j.useEffect(()=>{if(!o){S("/login");return}(async()=>{try{f(!0),await A();const{data:X,error:K}=await s.from("profiles").select("*, departments:department_id(*)").eq("id",o.user.id).single();K?K.code==="PGRST116"?(console.log("Profile not found, need setup"),v(null)):(console.error("Error fetching profile:",K),m(`Failed to load profile: ${K.message}`)):v(X)}catch(X){console.error("Unexpected error:",X),m("An unexpected error occurred")}finally{f(!1)}})()},[o,s,S]);const T=()=>{w(D=>D+1)},q=async()=>{await r(),S("/login",{replace:!0})},U=()=>{S("/profile-setup")};if(c)return u.jsx("div",{className:"page-container flex justify-center items-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-4 border-blue-600 border-opacity-50 border-t-blue-600"}),u.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading your dashboard..."})]})});if(g||l)return u.jsx("div",{className:"page-container flex justify-center items-center",children:u.jsxs("div",{className:"glass-card p-8 w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Error"}),u.jsx("p",{className:"mt-2 text-red-600",children:g||l})]}),u.jsx("button",{onClick:q,className:"secondary-button w-full",children:"Sign Out and Try Again"})]})});if(!h)return u.jsx(M0,{});if(h.role==="admin"||h.role==="super_admin")return console.log("Rendering AdminDashboard for role:",h.role),u.jsx(U0,{});const V=()=>{const D=new Date().getHours();return D<12?"Good morning":D<18?"Good afternoon":"Good evening"};return u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"dashboard-container fade-in",children:[u.jsxs("div",{className:"card-header",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Student Dashboard"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-gray-600",children:[u.jsxs("span",{className:"font-medium",children:[V(),", ",h.full_name.split(" ")[0]]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Registration Number: ",h.student_id]}),u.jsx("span",{children:""}),u.jsx("span",{children:((G=h.departments)==null?void 0:G.name)||"Department not set"})]})]}),u.jsxs("div",{className:"mt-4 md:mt-0 flex items-center gap-3",children:[u.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm text-gray-700 font-medium",title:"Edit Profile",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),u.jsx("span",{className:"hidden sm:inline",children:"Edit Profile"})]}),u.jsxs("button",{onClick:q,className:"danger-button flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]}),u.jsx("div",{className:"mb-8 bg-blue-50 border-l-4 border-blue-500 p-4 rounded-md shadow-sm",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-blue-700",children:"Welcome to the SRMIST Examination Grievance Redressal Portal. Here you can submit and track your examination-related requests."})})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[u.jsx("div",{children:u.jsxs("div",{className:"glass-card p-6 card-hover",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[u.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Submit New Request"]}),u.jsx(Mx,{onRequestSubmitted:T})]})}),u.jsx("div",{children:u.jsx(qx,{refreshKey:y})})]})]})})}function zx(){return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-blue-100 p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("header",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-800",children:"SRMIST Examination Grievance Redressal Portal"}),u.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"A comprehensive system for managing examination-related requests"})]}),u.jsx("img",{src:"/favicon.ico",alt:"SRM Logo",className:"w-20 h-20 mt-4 md:mt-0"})]}),u.jsxs("div",{className:"mt-8 flex flex-wrap gap-4",children:[u.jsx(_i,{to:"/login",className:"primary-button",children:"Login to Portal"}),u.jsxs("a",{href:"https://github.com/yourusername/coe-qr",target:"_blank",rel:"noopener noreferrer",className:"secondary-button flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0012 2z"})}),"GitHub Repository"]})]})]}),u.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"System Overview"}),u.jsx("p",{className:"text-gray-700 mb-6",children:"The SRMIST Examination Grievance Redressal Portal is a comprehensive platform designed to streamline the process of submitting, tracking, and resolving examination-related requests. The system supports multiple user roles including students, department administrators, and super administrators."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),u.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Student Portal"})]}),u.jsx("p",{className:"text-gray-600",children:"Submit examination requests, track request status, and view response history."})]}),u.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),u.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Department Admin"})]}),u.jsx("p",{className:"text-gray-600",children:"Review and process requests, respond to students, and escalate complex issues to super admins."})]}),u.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),u.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Super Admin"})]}),u.jsx("p",{className:"text-gray-600",children:"Handle escalated requests, manage system settings, and oversee all departments."})]})]})]}),u.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-6",children:"Key Features"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"Request Management"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[u.jsx("li",{children:"Submit examination-related requests with supporting documents"}),u.jsx("li",{children:"Track request status in real-time"}),u.jsx("li",{children:"Categorize requests by type, priority, and department"}),u.jsx("li",{children:"Automated email notifications for status updates"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"Admin Dashboard"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[u.jsx("li",{children:"Comprehensive view of all pending requests"}),u.jsx("li",{children:"Filter and search capabilities"}),u.jsx("li",{children:"Request escalation workflow"}),u.jsx("li",{children:"Detailed response history tracking"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"User Management"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[u.jsx("li",{children:"Role-based access control"}),u.jsx("li",{children:"Secure authentication via Supabase"}),u.jsx("li",{children:"Profile management with avatar uploads"}),u.jsx("li",{children:"Department-specific permissions"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:"Communication"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[u.jsx("li",{children:"Email notifications for request updates"}),u.jsx("li",{children:"File attachments for supporting documents"}),u.jsx("li",{children:"Serverless email delivery via Supabase Edge Functions"}),u.jsx("li",{children:"Beautifully formatted HTML emails"})]})]})]})]}),u.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Technology Stack"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Frontend"}),u.jsxs("ul",{className:"space-y-1 text-gray-600",children:[u.jsx("li",{children:" React.js"}),u.jsx("li",{children:" React Router"}),u.jsx("li",{children:" Tailwind CSS"}),u.jsx("li",{children:" Vite"})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Backend"}),u.jsxs("ul",{className:"space-y-1 text-gray-600",children:[u.jsx("li",{children:" Supabase"}),u.jsx("li",{children:" PostgreSQL"}),u.jsx("li",{children:" Row Level Security"}),u.jsx("li",{children:" Edge Functions"})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Authentication"}),u.jsxs("ul",{className:"space-y-1 text-gray-600",children:[u.jsx("li",{children:" Supabase Auth"}),u.jsx("li",{children:" JWT Tokens"}),u.jsx("li",{children:" Role-based Access"}),u.jsx("li",{children:" Secure Sessions"})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Deployment"}),u.jsxs("ul",{className:"space-y-1 text-gray-600",children:[u.jsx("li",{children:" Vercel/Netlify"}),u.jsx("li",{children:" Supabase Cloud"}),u.jsx("li",{children:" CI/CD Pipeline"}),u.jsx("li",{children:" Environment Variables"})]})]})]})]}),u.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"System Architecture"}),u.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100 overflow-auto",children:u.jsx("pre",{className:"text-xs md:text-sm text-blue-800 whitespace-pre",children:`
          
                                                                   
   React Frontend     Supabase Auth     Supabase Storage 
                                                                   
          
                                                            
                                                            
                                        
                                                           
   React Router                                            
                                                           
                                        
                                                            
                                                            
          
                                                                   
  Component Layer    Supabase Client    Supabase Database
                                                                   
          
                                                            
                                                            
                               
                                                                     
                            Edge Functions      Email Service   
                                                                     
                               
`})})]}),u.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Getting Started"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-2",children:"Installation"}),u.jsx("div",{className:"bg-gray-800 text-gray-200 p-4 rounded-lg overflow-x-auto",children:u.jsxs("pre",{className:"text-sm",children:["$ git clone https://github.com/yourusername/coe-qr.git",u.jsx("br",{}),"$ cd coe-qr",u.jsx("br",{}),"$ npm install",u.jsx("br",{}),"$ npm run dev"]})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-2",children:"Environment Setup"}),u.jsxs("p",{className:"text-gray-700 mb-3",children:["Create a ",u.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-blue-600",children:".env"})," file in the root directory with the following variables:"]}),u.jsx("div",{className:"bg-gray-800 text-gray-200 p-4 rounded-lg overflow-x-auto",children:u.jsxs("pre",{className:"text-sm",children:["VITE_SUPABASE_URL=your_supabase_url",u.jsx("br",{}),"VITE_SUPABASE_ANON_KEY=your_supabase_anon_key",u.jsx("br",{}),"VITE_BREVO_API_KEY=your_brevo_api_key"]})})]}),u.jsx("div",{className:"flex justify-center mt-8",children:u.jsx(_i,{to:"/login",className:"primary-button",children:"Access the Portal"})})]})]}),u.jsx("footer",{className:"mt-12 text-center text-gray-600",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," SRMIST Examination Grievance Redressal Portal. All rights reserved."]})})]})})}function Iu({element:o}){const{session:s,loading:l}=j.useContext(za);return l?u.jsx("div",{className:"page-container flex items-center justify-center",children:u.jsxs("div",{className:"glass-card p-8 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?o:u.jsx(c0,{to:"/login",replace:!0})}function Bx(){const{session:o,authError:s,loading:l}=j.useContext(za),r=Hn(),c=La();return j.useEffect(()=>{o&&c.pathname==="/login"&&(console.log("User authenticated on login page, redirecting to home"),r("/home",{replace:!0}))},[o,r,c.pathname]),l?u.jsx("div",{className:"page-container flex justify-center items-center",children:u.jsxs("div",{className:"glass-card p-8 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Initializing..."})]})}):s?(console.error("Auth error:",s),u.jsx("div",{className:"page-container flex justify-center items-center",children:u.jsxs("div",{className:"glass-card p-8 w-full max-w-md text-center",children:[u.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Authentication Error"}),u.jsx("p",{className:"text-red-600 mb-6",children:s}),u.jsx("button",{onClick:()=>window.location.href="/login",className:"primary-button w-full",children:"Return to Login"})]})})):u.jsxs(Pv,{children:[u.jsx(fn,{path:"/login",element:u.jsx(Wm,{})}),u.jsx(fn,{path:"/home",element:u.jsx(Iu,{element:u.jsx(Lx,{})})}),u.jsx(fn,{path:"/profile-setup",element:u.jsx(Iu,{element:u.jsx(M0,{})})}),u.jsx(fn,{path:"/admin",element:u.jsx(Iu,{element:u.jsx(U0,{})})}),u.jsx(fn,{path:"/index",element:u.jsx(zx,{})}),u.jsx(fn,{path:"/",element:u.jsx(Wm,{})}),u.jsx(fn,{path:"*",element:u.jsx(c0,{to:"/",replace:!0})})]})}function Hx(){return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-blue-100",children:u.jsx(Dx,{children:u.jsx(Bx,{})})})}sv.createRoot(document.getElementById("root")).render(u.jsx(Jp.StrictMode,{children:u.jsx(vy,{children:u.jsx(Hx,{})})}));
